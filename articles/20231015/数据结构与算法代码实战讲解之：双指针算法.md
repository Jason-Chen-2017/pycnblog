
作者：禅与计算机程序设计艺术                    

# 1.背景介绍




什么是双指针算法？
双指针算法（Two Pointers Algorithm）是一种非常重要的数据结构与算法技巧。其核心在于运用两个指针指向不同位置的元素，并通过交换元素、移动指针等操作达到特定目的，从而解决各种问题。
比如，给定一个数组，希望找出所有子序列满足某种条件的组合。这时就可以运用双指针来解决。首先初始化两个指针，分别指向数组的开头和结尾；然后向内移动指针，直到某个判断条件不满足为止（比如当前的子序列元素个数小于某个指定值），此时将当前子序列反转，将指针重新指向中间位置；继续向内移动指针，直到整个数组扫描结束（注意要对奇偶性进行特殊处理），这样可以得到所有符合条件的子序列。
# 2.核心概念与联系
## 2.1 基本概念


双指针算法一般都是采用两个指针（也可能三个或者更多）指向数组中的元素，然后根据一些规则对这两个指针做操作。这两个指针即称为“左右指针”。当右指针往右移动的时候，我们就把这个位置称为“右端点”；当左指针往左移动的时候，我们就把这个位置称为“左端点”。
以下是双指针算法的基本概念。

1.指针类型：单指针、双指针、多指针及环形指针。

2.基本操作：指针移动、指针交换、指针方向改变、指针截断、指针变形、指针去重、指针拼接、指针旋转。

3.指针指标范围：单指针指标范围在数组的单个维度上，如从0到n-1；双指针指标范围在数组的所有维度上，如(i,j)到(m,n)。

4.边界处理：左右指针越界处理、循环边界条件设置。

5.判断条件：指针指向的元素是否满足某些条件，用于指针移动或停止。

6.指针排序：指针指标排序，使得左右指针指向不同位置上的元素。

7.指针集合：多个指针同时指向不同的元素，构成一个指针集。

8.指针指标更新：指针移动过程中，左右指针指标动态更新。

9.时间复杂度分析：空间换时间，增量计算，优化移动步长，减少重复访问。

## 2.2 相关算法

1.合并两个有序数组：双指针算法可以在O(n)的时间复杂度内完成两个有序数组的合并。

方法：首先定义两个指针l和r，初始化为数组的第一个元素，比较两者的值，选择较小值的指针前进一步；然后定义一个空数组result，遍历数组，对于每个元素x，如果x的位置在[l+1, r]之间，则将它加入result中；如果x的位置在[l, r]之间，但比左指针的值小，则左指针前进一步；如果x的位置在[l, r]之间，但比右指针的值大，则右指针前进一步；重复以上过程，直到所有元素都被加入result。返回结果。

2.两个整数求最大公约数：辗转相除法求最大公约数。

方法：如果两个数a和b的最大公约数等于gcd(a,b)，那么b能整除a，则a可以作为下一次的b，b作为本次的a；否则，要求a能整除b，则b可作为下一次的a，a作为本次的b，继续运算。直至b=0，此时a就是最大公约数。

3.字符串匹配：KMP算法。

方法：KMP算法利用已知模式串的前缀信息，快速搜索目标串中的模式串。其思想是维护一个长度为模式串的数组pi，记录模式串各字符的最长后缀的位置。对于输入串中的每一位，pi[i]表示当前已知的最长匹配长度，当模式串出现不匹配时，则将pi[i]置零，重新开始搜索。如果遇到匹配时，将pi[i]设为模式串的长度（因为完全匹配）。最后得到的pi数组的值即为模式串的前缀信息。对于目标串的每一位，模式串的匹配过程与上面类似，但是每次比较模式串与目标串的对应位，只需比较模式串与目标串的pi[i]之间的最小值即可，因为当存在不匹配时，pi[i]<i，所以前面已经比较过的位都不必再比较了。