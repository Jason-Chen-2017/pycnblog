
作者：禅与计算机程序设计艺术                    

# 1.简介
  

概率论是数理统计学的一门基础学科。它研究的是随机事件发生的可能性。例如，抛掷一个均匀的硬币，如果出现正面朝上或者反面朝上的情况都是一个事件，如果要判断哪个更可能出现则需要引入概率论。概率论是计算机科学、经济学、生物学等多个领域的基础学科。例如在医疗诊断中，人们用概率模型对患者病情进行建模，比如患者胃溃疡的发病率可以用胃镜照片识别和分类方法预测出来；在金融领域，证券投资的获利空间取决于每笔交易的风险，而风险高的交易将被拒绝；在电影评论推荐系统中，通过分析用户评分行为，给出最合适的电影推荐。概率论是一门独立于具体领域的通用的学科，具有十分广泛的应用范围。本文主要介绍概率算法的相关知识和基本原理，并且结合实际案例介绍如何运用概率算法解决问题。
# 2.基本概念术语说明
## 2.1 随机变量Random Variable
在概率论中，随机变量（random variable）是指由随机试验所产生的一个数值，这个值受到一定限制条件而只能按照一定的概率分布得到。具体来说，设$X$是一个定义在某一区间上的随机变量，若函数$f(x)$满足：
$$P\{X\leq a\} = P\{X<a\}$$
对于任意实数$a$,都有：
$$P\{X\geq b\} = P\{X>b\}$$
则称函数$f(x)$是$X$的概率密度函数或累积分布函数，记作$F(x)$. 特别地，当$X$服从均匀分布时，函数$f(x)=1/b-a$即为概率密度函数。此时$F(x)$可以表示为：
$$F(x)=\left\{
	\begin{array}{ll}
		0&if x\leq a\\
		[F_{Y}(a+n\cdot\Delta y)]-\sum_{i=0}^{n-1}\int_{a+i\Delta y}^ay_{i+1}dy &if a+\frac{1}{2}\cdot n \cdot \Delta y\leq x\leq a+\frac{n}{2}\cdot\Delta y, n=1,2,3,\cdots \\
		[F_{Y}(x)]&\forall x\geq a
	\end{array}
\right.$$
其中，$\Delta y=(b-a)/N$, $y_j=\frac{a+(j-1)\Delta y}{b}$, $\Delta x=\Delta y$, $x_j=a+(j-1)\Delta x$, $N$为整数，$F_{Y}$表示$Y$的CDF函数。
## 2.2 离散随机变量Discrete Random Variable
离散型随机变量是指随机变量的取值可以是有限的或可列无限的元素组成的集合。在概率论中，一般认为随机变量$X$是离散的，若$X$的取值为$k$的概率为$p_k$，则称$X$服从$K$类分布，即：
$$X\sim Discrete(\{k=1,2,3,\cdots, K\}, p_1,p_2,\cdots,p_K)$$
若$X$的取值为$\{k_1, k_2, k_3,\cdots, k_N\}$的概率分别为$p_{k_1},p_{k_2},\cdots,p_{k_N}$，则称$X$服从$N$维联合分布，即：
$$X\sim Multinomial(N, \{p_1,p_2,\cdots,p_K\})$$
## 2.3 连续随机变量Continuous Random Variable
连续型随机变量是指随机变量的取值可以是所有实数的集合。在概率论中，一般认为随机变量$X$是连续的，若函数$f(x)$存在且连续，则称$X$服从连续分布，记作$X\sim Continuous(f(x))$，这里$f(x)$表示$X$的概率密度函数或累积密度函数。
## 2.4 期望Expectation或均值Mean
设$X$是一个定义在$(\Omega,\mathscr{A},\mathbb{P})$上的随机变量，其概率分布为：
$$\mathbb{P}(X=x)=p_X(x), x\in\mathscr{A}$$
则称$E\{X\}=e_X$为$X$的期望，记做$\mu_X$或$E(X)$。形式化定义为：
$$\mu_X=\sum_{\omega\in\Omega}\mathbb{P}(\omega)X(\omega)$$
## 2.5 方差Variance
设$X$是一个定义在$(\Omega,\mathscr{A},\mathbb{P})$上的随机变量，其概率分布为：
$$\mathbb{P}(X=x)=p_X(x), x\in\mathscr{A}$$
则称$Var\{X\}=D_X$或$D(X)$为$X$的方差。形式化定义为：
$$D_X=\sum_{\omega\in\Omega}\mathbb{P}(\omega)(X(\omega)-\mu_X)^2$$
## 2.6 协方差Covariance
设$X$和$Y$都是定义在$(\Omega,\mathscr{A},\mathbb{P})$上的随机变量，其概率分布为：
$$\mathbb{P}(X=x, Y=y)=p_{XY}(x, y), (x, y)\in\mathscr{A}\times\mathscr{B}$$
则称$Cov\{X, Y\}=C_{XY}$为$X$和$Y$的协方差，记做$\sigma_{XY}$或$cov(X,Y)$. 形式化定义为：
$$C_{XY}=\sum_{\omega\in\Omega}\mathbb{P}(\omega)(X(\omega)-\mu_X)(Y(\omega)-\mu_Y)$$
## 2.7 抽样分布Sample Distribution
设$X_1, X_2, \cdots, X_m$是定义在$(\Omega,\mathscr{A},\mathbb{P})$上的$m$次独立随机变量的样本。则$(X_1, X_2, \cdots, X_m)$服从分布$p_{S_m}$，其中：
$$p_{S_m}(x_1, x_2, \cdots, x_m)=p_{X_1}(x_1)p_{X_2}(x_2)\cdots p_{X_m}(x_m)$$
## 2.8 分布函数Distribution Function
设$X$是一个定义在$(\Omega,\mathscr{A},\mathbb{P})$上的随机变量，其概率分布为：
$$\mathbb{P}(X=x)=p_X(x), x\in\mathscr{A}$$
则称函数$F_X(x)$（或$F(x)$）为$X$的分布函数。特别地，当$X$为连续型随机变量时，有：
$$F_X(x)=\int_{-\infty}^xf_X(t)dt, -\infty\leq x\leq \infty$$
## 2.9 累积分布函数Cumulative Distribution Function
设$X$是一个定义在$(-\infty,\infty)$上的随机变量，其概率密度函数为$f(x)$。则称函数$F(x)$为$X$的累积分布函数。特别地，当$X$为标准正态分布$Z\sim N(0,1)$时，有：
$$F(z)=\frac{1}{\sqrt{2\pi}}\int_{-\infty}^zf_Z(t)\mathrm{d}t$$
## 2.10 连续型随机变量的概率密度函数
对于连续型随机变量$X$，其概率密度函数为$f_X(x)$，该函数描述了$X$取不同值的概率。直观理解，概率密度函数$f_X(x)$是$X$落在某个区间内的概率。$f_X(x)$取最大值的点对应着$X$的概率密度最大值。对于连续型随机变量$X$，若$a\leq X\leq b$，则有：
$$\int_{a}^{b} f_X(x)\mathrm{d}x=F_X(b)-F_X(a)$$
即分布函数$F_X(b)$减去分布函数$F_X(a)$等于$X$落在区间$(a,b)$的概率。
## 2.11 期望的性质
设$X$和$Y$都是定义在$(\Omega,\mathscr{A},\mathbb{P})$上的随机变量，则：
$$E(XY)=E(X)E(Y)$$
$$E((X+Y)^n)=E(X^n)+nE(X^{n-1})$$
$$E(cX)=cE(X), c\in R$$
## 2.12 几何平均数Geometric Mean
设$X_1, X_2, \cdots, X_n$是定义在$(\Omega,\mathscr{A},\mathbb{P})$上的$n$次独立同分布的随机变量，且$X_i\ge 0$。则称：
$$GM(X_1, X_2, \cdots, X_n)=\left(\prod_{i=1}^{n}X_i\right)^{\frac{1}{n}}$$
为$X_1, X_2, \cdots, X_n$的几何平均数，记做$G(X_1, X_2, \cdots, X_n)$或$\operatorname{geo}(X_1, X_2, \cdots, X_n)$。
## 2.13 超几何分布Hypergeometric Distribution
设$X$是一个类别型随机变量，其有$M$种可能的取值，$K$种成功的状态，且只有两种取值中的一种会出现。设$n$代表一次试验中成功的个数，则称：
$$\binom{M}{K}\binom{M-K}{n-K}/\binom{M}{n}$$
为$X$的超几何分布，记做$H(M,K,n)$或$hyper(M,K,n)$.
## 2.14 卡方分布Chi-squared Distribution
设$X_1, X_2, \cdots, X_n$是定义在$(\Omega,\mathscr{A},\mathbb{P})$上的$n$次独立同分布的随机变量，且$X_i\geq 0$。则称：
$$\chi^2_n=\frac{(n-1)S^2}{\sigma^2}$$
为$X_1, X_2, \cdots, X_n$的卡方分布，其中$\sigma$是样本均值的标准差。卡方分布描述的是一组数据中所符合的概率分布，而不是单个数据的概率分布。
## 2.15 逆变换Inverse Transformation Method
在概率论中，假设$U$和$V$都是从某一分布$U$中抽出的两个随机变量，并已知：
$$f_U(u), F_V(v), g: [0,1]\rightarrow U, h:[0,1]\rightarrow V,$$
且$g^{-1}(u)=h^{-1}(v)$，则$U$的概率密度函数由以下逆变换得出：
$$f_U(u)=\frac{1}{|Im[g]|}\int_{Im[g]}|\frac{dg}{du}(u)|\mathrm{d}v(g^{-1}(u)), u\in U$$
即：
$$f_U(u)=\frac{1}{|Im[g]|}\int_{Im[g]}|\frac{df}{dx}(x)|\frac{dx}{du}(u)\mathrm{d}v(g^{-1}(u))$$