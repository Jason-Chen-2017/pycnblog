
作者：禅与计算机程序设计艺术                    

# 1.简介
  

NumPy (Numeric Python) 是用 Python 语言编写的一个用于科学计算的基础软件包。它提供了 N维数组对象的封装，以及用于处理矩阵运算、各种线性代数运算、随机数生成等功能。NumPy 为使用者提供了大量的函数和方法用来处理数据，也方便了数据的处理与分析。相比于其它纯粹的 Python 数据处理模块（如 Pandas），NumPy 更加强大且高效。在本教程中，我们将会学习 NumPy 的一些基础知识，并结合实际案例进行介绍。NumPy 在各个领域都有很好的应用，包括金融、物理、天文、医疗等诸多领域。下面让我们正式开始学习！ 

# 2.基本概念术语说明
## 2.1 什么是Numpy？
NumPy (读音 /ˈnʌmpaɪ/ (noun))是一个开源的第三方库。它最早由 David Harris 和其他一些科研人员在2005年共同开发，目的就是为了提供类似于MATLAB或Scilab中的矩阵运算能力。它的优点是速度快、直观易懂、支持广播(broadcasting)。

### 2.1.1 数组Array
在科学计算中，一个向量或者矩阵都可以看作一个数值数组，所以 numpy 支持数值数组运算。一般来说，数组由多个相同类型元素组成，每个元素都有一个唯一的索引。

### 2.1.2 维度Dimensionality
维度(Dimensionality)通常指的是数组的轴数，即数组的秩(Rank)，也就是数组中元素的个数。例如，对于二维数组，其秩是2；对于三维数组，其秩是3。

### 2.1.3 秩Rank
秩(Rank)其实就是数组的维度。在python中，可以通过shape属性获取数组的维度信息，返回一个元组表示数组的大小。比如对于一维数组，其shape属性返回(x,)；对于二维数组，其shape属性返回(m, n)。

## 2.2 Numpy的主要数据结构ndarray
ndarray是numpy中重要的数据结构，是存储和操作矩阵和矢量数据的重要工具。其本质是一个元素固定尺寸的多维数组对象，每一个元素都是同种类型的，并且可以使用标准的运算符对其进行操作。这里我们只对ndarray做一个简单介绍。

### 2.2.1 创建数组
创建数组的方式有很多，最常用的一种是通过函数array()。如下所示：
```
import numpy as np

arr = np.array([1,2,3]) # 创建一维数组
print(type(arr), arr.shape, arr[0], arr[-1])

arr2 = np.array([[1,2,3],[4,5,6]]) # 创建二维数组
print(type(arr2), arr2.shape, arr2[0][-1])
```

输出结果：
```
<class 'numpy.ndarray'> (3,) 1 3
<class 'numpy.ndarray'> (2, 3) 3
```

上面代码中，第一行导入了numpy，然后通过np.array()函数创建了一维数组arr，第二行创建了一个二维数组arr2。我们也可以通过不同的参数创建不同类型的数组，如：zeros()函数创建全零数组，ones()函数创建全一数组，random()函数创建随机数组等。

### 2.2.2 操作数组
ndarray支持大量的运算符，使得我们可以轻松地对数组进行各种操作。我们可以从以下几个方面了解到ndarray的特点：

1. shape: 获取数组的形状。

2. dtype: 返回数组元素的数据类型。

3. reshape(): 修改数组的形状。

4. slicing: 通过切片操作访问数组元素。

5. broadcasting: 对数组进行元素级操作时，会自动进行广播。

6. universal functions: 可以对数组上执行通用函数操作，如求和、最大值、最小值、平均值等。

### 2.2.3 花式索引indexing
Numpy还支持花式索引，也就是通过整数数组进行索引，这种方式可以实现复杂的索引需求。举个例子：假设有一个3*3的数组A，希望取出其中第1行第2列的元素和第2行第1列的元素组成新数组B，就可以用花式索引完成：
```
A = np.arange(9).reshape((3,3))
B = A[[0,1], [1,2]] # 使用花式索引得到新数组
print(B)
```

输出结果：
```
[2 5]
```

花式索引在高维数组中也适用，例如，下面的代码对A创建一个4*4的二维数组，然后将其分割成4个1*4的子数组：
```
A = np.arange(16).reshape((4,4))
B = A[:,-1:]   # 将A最后一列分割为四个数组
print(B)
```

输出结果：
```
[[ 6]
 [ 7]
 [ 8]
 [ 9]]
```