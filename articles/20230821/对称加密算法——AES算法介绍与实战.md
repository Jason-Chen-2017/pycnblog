
作者：禅与计算机程序设计艺术                    

# 1.简介
  

## 什么是对称加密算法？
对称加密算法又称为私钥加密算法或共享密钥加密算法，是一种将信息用密码方式加密的方法，是最早采用这种方法的算法之一，目前应用非常广泛。它依赖于对称秘钥（即用来进行加密/解密的钥匙）加密消息，而同样的对称秘钥也需要发送给接收方，才能正确解密。它的优点是计算量小、速度快、安全性高等，但其缺点也是显而易见的，由于所有通信方均使用相同的秘钥进行加密，如果秘钥泄露或者被破解，则可能导致信息泄露。因此，对称加密算法虽然安全性较高，但其密钥管理却非常困难，特别是在移动设备上。
## 为什么要用对称加密算法？
当今世界，数据安全、个人隐私保护、网络通信安全已经成为人们关注的热点话题。在互联网发展的过程中，越来越多的人开始面临着在线数据的安全问题，如数据泄露、数据篡改、身份伪造等。为了解决这些安全问题，对称加密算法应运而生，它通过对称加密保证了数据的机密性，同时减少了密钥管理的复杂性。

对称加密算法采用对称密钥的方式加密，常用的对称加密算法有DES、Triple DES、AES、Blowfish、RC4、RSA等。其中，AES（Advanced Encryption Standard）算法是目前最流行的对称加密算法。它是一个对称加密标准，由美国联邦政府采用的一种分组加密算法，可以有效抵御恶意攻击，而且安全性很高。AES对称加密算法提供两种模式：ECB模式和CBC模式，前者不适合处理长距离关系的数据，后者可以有效抵御拓扑攻击。

除了对称加密算法外，还有非对称加密算法，例如RSA、DSA、ECC等。非对称加密算法又称为公钥加密算法，主要用于数据加密和签名。公钥加密算法的特点是公钥与私钥成对出现，公钥用于加密，私钥用于解密；私钥只能由持有者掌握，任何人都无法获取。其安全性完全依赖于数学上的计算能力。由于公钥加密算法的加密和解密过程不涉及对称加密算法中的密钥，所以速度快、资源消耗小。但是，公钥加密算法的安全性仍然受到密钥的保护。

# 2.基础概念术语说明
## 对称加密算法中的秘钥
对称加密算法是通过对称秘钥加密消息来实现信息的安全传输，那么如何生成、交换对称秘钥呢？实际上，对称秘钥应该是双方都知道且安全保存的秘钥，这个秘钥是两台通信终端通讯建立和协商时使用的。首先，双方可以通过某种算法生成一个随机的对称秘钥，然后将此对称秘钥发给对方。但是，这样就存在一个问题，如果两个终端之间没有任何信道保障，那么如何确保对称秘钥的完整性呢？也就是说，通信双方如何确保自己收到的对称秘钥是可靠的？因此，常见的做法是，在通信之前，双方就各自生成一个随机的对称秘钥，并采用密码学认证协议，使得两个终端相互校验，确认双方的对称秘钥是否一致。但是，这种做法会引入新的安全风险，比如密钥泄露导致的信息泄露。

所以，实际上，对称加密算法中一般不会采用上面那种不安全的直接传递对称秘钥的方式。因为直接传递对称秘钥容易产生信息泄露的问题，另外，不同通信设备之间还存在相互认证和通讯的链路，直接将对称秘钥发送出去会增加通信量，降低性能。

综上所述，对称加密算法中的秘钥有三种：
- 第一类密钥：在一对密钥中，只有一个秘钥，既可以用于加密也可以用于解密，也就是一次性的密码，由单向函数生成，其长度通常远远大于明文。该类密钥简单易用，但安全性低。例如：DES。
- 第二类密钥：由密钥生成函数生成的对称密钥，对称加密和解密都可以使用同一个密钥，由双方协商生成的密钥称为静态密钥，由主密码派生得到的密钥称为动态密钥。静态密钥用于对称加密，动态密钥用于对称解密。该类密钥对通信双方都是安全的。例如：Diffie-Hellman密钥交换协议。
- 第三类密钥：通过对称加密算法生成的密钥，包含两部分，对称密钥和密钥标签。对称密钥用于对称加密和解密，密钥标签用于标识密钥类型、标识密钥用途、标识发送者、标识接收者，以便在不同的系统之间共享密钥。该类密钥安全性最高，但是生成和管理起来比较麻烦。例如：AES加密算法。

## 对称加密算法的模式
对称加密算法可以分为两种模式：
- ECB模式（Electronic Code Book，电子密码本模式）：ECB模式是最简单的对称加密模式，所有的明文块均使用相同的密钥进行加密，所以容易被攻击者截获和复制。ECB模式的优点是加密速度快，缺点是容易受到重复密钥攻击。
- CBC模式（Cipher Block Chaining，块链接模式）：在CBC模式下，每个明文块先与初始块进行异或运算后，再与前一个密文块进行加密得到当前密文块。CBC模式避免了ECB模式的重复密钥攻击，并且可以支持数据的长度超过一个块的长度。

## 对称加密算法的填充方式
由于对称加密算法要求明文长度必须是整块的整数倍，因此，当明文块大小与块密码体大小不匹配时，就需要对明文进行填充或切除。常用的填充方式有如下几种：
- NOPADDING模式：无填充方式，若明文长度已满一个块的整数倍，则直接加密即可，否则，抛出错误提示。
- ZEROFILL模式：零填充方式，把明文长度不足的一个块后边的字节用0补齐，然后加密即可。
- ANSI X.923模式：ANSI X.923模式采用了一种简单粗暴的方法，就是在最后一个明文块后边加上一些额外字节，使其长度符合一个块的整数倍。然后加密即可。
- PKCS #7模式：PKCS #7模式与X.923模式类似，区别在于PKCS #7模式允许对单个明文块进行填充，而X.923模式只允许对整个明文进行填充。PKCS #7模式将填充数据放在明文块末尾，PKCS #7模式对最后一个明文块的填充个数不限定，可以在任意位置放置填充数据。