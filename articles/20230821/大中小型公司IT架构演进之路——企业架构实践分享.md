
作者：禅与计算机程序设计艺术                    

# 1.简介
  

## 概述
大数据、云计算、AI、IoT、区块链等新兴技术正在改变传统IT架构和运营模式，如何在企业IT架构设计中全面引入这些新兴技术将成为IT行业的重要课题。本文将分享与企业架构相关的知识及经验，从不同规模企业角度出发，深入剖析企业IT架构演进的不同阶段，并阐明其技术决策和实现方式。文章既可以作为企业IT架构师和管理者的学习参考，也可作为技术从业人员的沉淀。
## 作者简介
郭彦，阿里巴巴集团高级技术专家，博士生导师，曾就职于IBM、微软、任天堂、东芝等一线互联网公司，多年来主要研究方向包括分布式系统、移动互联网、移动支付、图像识别、文本分析、信息检索、机器学习等。现就职于阿里巴巴集团技术平台部，担任架构师兼CTO，参与构建移动互联网、大数据、电商、物流、音视频、IoT等领域核心系统的设计与研发工作。欢迎各界朋友积极参与此次分享交流活动。
# 2.基础知识
## IT架构模型及其要素
### IT架构模型
IT架构模型（Architecture Model）是对企业的信息技术体系建设和运作的一个总体方案或指导，是一个详细、清晰的设计蓝图。其结构一般分为五层，分别为：
- 数据层：用于存储、处理和提取数据的功能模块。
- 应用层：包括各种业务应用系统，提供业务支撑能力，为用户提供各种服务。
- 平台层：包括基础设施软件、硬件设备和网络资源的管理，为应用层提供基础运行环境。
- 产品层：向最终消费者提供各种产品和服务，提供满足需求的解决方案，解决用户痛点问题。
- 组织层：包括各种组织结构、流程、职责划分，支持前三层的运作，确保企业战略目标的实现。
IT架构模型是指导IT技术体系结构和运作的总体框架，从不同视角描述了企业的信息技术生态，并以结构化的方式呈现出来。
### IT架构模型要素
- 整体业务视图：整体业务视图用来描述信息技术体系的全貌，是企业IT架构的立足点和核心。它包括对全业务范围、全流程、全产品线的理解，同时还要能够识别并把握不同业务部门之间的关系和影响力。
- 数据视图：数据视图描述了企业的数据架构，即信息技术体系如何保障数据安全、高效运转，能够有效地组织、管理和存储数据。数据视图需要考虑到数据分类、存储介质、数据库类型、数据生命周期、数据备份策略等方面。
- 应用视图：应用视图描述了企业的应用架构，即信息技术体系如何为用户提供各种业务应用服务，通过分层架构、业务模型和标准化机制促进用户价值的实现。应用视图需要关注应用层面的设计原则、设计模式、组件拆分、数据流设计、性能调优、容灾备份、故障恢复等方面。
- 平台视图：平台视图描述的是企业基础设施的架构设计，包括硬件采购、配置管理、网络布局、存储设备的部署、部署规划、虚拟化等。平台视图需要关注平台层面的操作规范、组件化、系统集成、自动化运维、容量规划、性能监控、故障自愈、可靠性保证等方面。
- 产品视图：产品视图描述的是企业的产品架构，包括产品形态、特性、定位、商业模式、使用场景、分发渠道、销售渠道等方面。产品视图需要关注产品设计、品牌建设、市场推广、运营策略、营销策略等方面。
- 组织视图：组织视图描述的是企业的组织架构，包括人员角色、责任分工、岗位管理、培训培养、沟通协调、奖惩制度等方面。组织视图需要关注组织结构、人员管理、专家治理、业务流程、工具文化等方面。
## IT架构设计原则
IT架构设计原则是指导IT架构师进行架构设计时的指导性规则和方法论。它们旨在帮助IT架构师以系统的、科学的、完整的、准确的方式进行设计，能够为企业创造更好的发展机会。
### 架构设计原则
- 尽可能采用开放的、模块化的、灵活的设计思想。架构应该以客户为中心，能够快速响应变化，充分利用资源投入新的创新，因此，应该优先选择主流的技术标准、开源软件、第三方服务等，减少依赖、锁定模式，鼓励创新。
- 以用户为中心。架构设计应围绕用户需求和期望，充分了解客户的业务特点、痛点、诉求，为客户提供最好的产品和服务，因此，架构设计应力争做到需求全覆盖、服务至上，优先满足用户实际需要。
- 提升竞争力。架构设计应遵循竞争激烈的市场环境，积极发掘潜在的商机，抢占市场先机，增强竞争力，为企业赢得经济发展和社会声誉。因此，架构设计应该着力突破限制，释放自身的主动权，维护产品和服务的核心竞争力。
- 考虑未来的发展方向。架构设计要兼顾未来发展趋势，充分发挥先发优势，创造更多的价值，提升企业的核心竞争力。因此，架构设计不宜过度设计，不断反省，持续改进，根据时代的发展变化和竞争格局调整架构设计。
### 技术设计原则
- 考虑大数据、云计算、AI、IoT等新技术带来的挑战。当今企业面临海量、复杂、动态、实时的大数据、云计算、AI、IoT等新技术的挑战。基于这些技术带来的挑战，需要构建具备一定规模、弹性和可伸缩性的大数据平台、云计算平台、AI平台、IoT平台，并且具有高度的容错、可用性和可扩展性。因此，技术设计需要着眼于这些技术的整体发展，结合实际情况和用户需求，制定针对大数据、云计算、AI、IoT等技术的架构设计。
- 在安全和可用性方面着力提升。安全和可用性是企业数字化转型不可避免的一部分。因此，架构设计需要在安全、认证、访问控制、数据备份、容灾恢复、降低成本、节省开支等方面进行持续投入。
- 降低运营成本。IT架构设计应通过降低运营成本来提升企业的盈利能力。因此，架构设计应做好财务、风险、税收、运营管理等方面的设计，降低运营成本。
- 关注创新与成长。IT架构设计也应注重创新与成长，促进企业IT架构的健康发展。因此，架构设计应该关注技术的创新，关注业务的创新，提升企业的核心竞争力。
# 3.企业架构的实践
## 大中小型公司IT架构演进
### 中小型公司IT架构演进历史
#### 古老的机构结构
在中国，早期的公司都有一个上下级的关系，比如一个公司往下管辖多个部门，部门往下管辖多个项目组。公司内部因而形成一种树状结构，公司的各个业务部门之间存在很大的独立性，彼此之间没有交集。这种机构架构经历了几百年的时间的发展，因而缺乏对于技术的统一管理，造成了很多的问题。
#### 中小公司IT架构演进历史
随着互联网的普及和快速发展，中小型公司的计算机技术已经远远超过他们的想象，但是由于之前存在的一些弊端，仍然无法满足需求。比如：
- 管理复杂度高。在大中型公司，由于管理机构繁多、人员分布广泛，所以系统运行、运营管理、报表统计等任务比较简单；而在中小公司，由于管理机构相对较少、人员分布集中，使得日常的系统运行管理工作变得复杂，加剧了管理难度，而且往往还有各个业务部门自己独自建设的系统，这样就导致管理复杂。
- 开发效率低。在大中型公司，由于所有部门的软件都被集中安装，部门之间的交流非常频繁，大家都知道每个部门的最新情况，所以开发效率比较高；而在中小公司，各个部门都自建系统，因此开发效率就显得比较低。
- 信息孤岛。在大中型公司，由于公司内部有很多的信息交流，信息的同步和传递十分顺畅；而在中小公司，由于各个业务部门之间信息隔绝，信息的传递非常困难。
- 人员流动性差。在大中型公司，由于公司内部人员流动性比较高，所以人的素质要求较高，才能担起一定的管理职责；而在中小公司，由于各个业务部门之间人员流动性差，人员的招聘、管理工作非常艰难。
#### 小型创业公司IT架构演进历史
2007年，网易考拉建立了小型创业公司。它的员工不到10人，每个员工的工资也只有1万元，但它却获得了巨大的成功，因为它的创始人周鸿祎在他之前都是互联网从业人员，他就意识到这个新的生态需要新架构。那时候，张志东是网易游戏事业部的技术负责人，王志超是网易金融事业部的技术负责人。他们共同决定，将游戏业务和金融业务分别迁移到两个单独的子公司，组建一个管理结构如下图所示：
这是小型创业公司的最初架构。随后，他们又将两个业务合并起来，组建一个管理结构如下图所示：
这是小型创业公司的最新架构。
## 中小型公司架构实践分享
### 从演进史谈起
#### 机构架构演进
互联网蓬勃发展的背景下，中小型公司逐步融入互联网行列，要求机构架构进一步优化。经过多年的迭代，2013年我国中小企业信息化平台的机构架构如图所示：
这套架构旨在优化企业内部的信息化过程，降低信息化管理的复杂度，提升企业的整体管理水平。在该架构下，信息化管理主要由人事、财务、销售、技术、法务、行政五大部门共同管理。其中，人事部门主要负责人才招聘、职位晋升、薪酬福利、考核评价等工作；财务部门管理企业的资金分配和筹资计划；销售部门进行产品销售；技术部门负责技术开发、交付和培训；法务部门进行法律咨询和调解；行政部门负责行政事务和管理。整个机构架构能够充分发挥各个部门的作用，为中小企业打造一个多灵活的机构架构提供了有力支撑。
#### 功能架构演进
除了优化机构架构外，功能架构也有必要进一步优化。以交通、物流为例，交通运输公司对城市轨道交通、铁路交通、航空运输、公路交通等方面的需求都十分旺盛。2015年我国信息化时代的交通运输需求的五种主要特征如下所示：
- 一、城市轨道交通需求，主要由一系列的城市轨道交通运营商、管理者、管理顾问、驾驶员等合作者共同完成。
- 二、铁路交通需求，主要由铁路管理者、主管工程师、工程车队、客运司机、售票员等合作者共同完成。
- 三、航空运输需求，主要由航空公司、管理者、经理、飞机驾驶员、乘务员等合作者共同完成。
- 四、公路交通需求，主要由公路管理者、主管工程师、工程车队、客运司机、售票员等合作者共同完成。
- 五、其他交通需求，主要包括地铁、机场等非运输类需求。
因此，在信息化时代，交通运输公司必须根据需求的发展阶段，结合自身的能力、资源、文化背景等多方面因素，形成一套适应性更强、信息化程度更高的功能架构。在这套功能架构下，交通运输公司的各项业务部门的功能如下图所示：
交通运输公司的各项业务均按照不同的交通需求划分为不同部门进行管理，不同的部门配合工作，达到信息化程度更高、服务效率更高的效果。
#### 混合架构演进
信息技术的发展使得各种应用场景纷纷涌现。在这种背景下，中小型公司也在逐渐融入“互联网+”时代。例如，在手机App、微信小程序、支付宝小程序、UGC社区等诸多新型APP应用出现后，中小公司对“新型应用”的需求也越来越强烈。因此，2017年，我国中小企业信息化战略和混合架构如图所示：
这套混合架构主要包括互联网部分和实体部分，互联网部分管理信息发布、信息采集、信息展示、信息搜索、网站建设等工作，实体部分管理产品的开发、制造、营销、市场推广、法律法规等工作。与之前的单纯的功能架构相比，混合架构更加集成了实体和互联网部分，有助于减少信息孤岛和交叉互联互通的影响，为公司创造更多的机会。
### 企业架构设计建议
下面，我们将讨论两种不同规模的企业架构设计建议。
#### 1、中型企业架构设计建议
中型企业的架构设计建议：
- 首先，确定自己的组织架构。组织架构的设计应采用一套清晰的制度。一般来说，中型企业的组织架构设计应包括财务部、人事部、项目部、生产部、销售部、物流部、采购部、仓储部、外包部、行政部、审计部等。
- 然后，建立各个业务部门的功能架构。功能架构包含了各个业务部门的功能模块和服务，通常包括：业务发展预测、业务资源规划、业务战略规划、营销策划、工程管理、质量管理、生产管理、采购管理、供应链管理、人力资源管理、财务管理、采购管理、物流管理等。功能架构的设计应采用模块化的方法，便于各个业务部门更快地迭代自己的产品和服务。
- 最后，确定企业的关键技术。关键技术通常指企业核心竞争力所在的技术，例如新能源汽车、智能城市、共享经济、智慧零售、边缘计算等。关键技术的设计应以一套完整的体系和规范的方式落实，以提升企业的竞争力。
#### 2、小型创业企业架构设计建议
小型创业企业的架构设计建议：
- 首先，确定企业的组织架构。小型创业企业的组织架构通常包括创始人、CEO、CTO、副总裁、技术负责人、财务负责人等。创始人负责企业的发展战略规划、创业管理、产品管理、团队建设等工作，他也会承担起项目的管理和执行工作。CEO通常具备扮演中央集权角色，决策战略和策略。CTO通常扮演技术集成角色，负责技术研发和架构设计。
- 然后，建立各个业务部门的功能架构。小型创业企业的功能架构通常分为运营管理部门、产品开发部门、渠道开发部门、运营工具部门等。运营管理部门管理平台、宣传推广、活动执行、财务账务等工作。产品开发部门负责新产品的研发、测试、上线和迭代。渠道开发部门负责新渠道的营销、广告、推广等工作。运营工具部门负责运营人员的培训、工具开发、人事资源等工作。
- 最后，确定企业的关键技术。关键技术的设计应以创业板块为基础，着力增强创新能力、经营能力、团队协作能力和市场定位能力。关键技术的设计应符合创业板块的专业化要求。