
ä½œè€…ï¼šç¦…ä¸è®¡ç®—æœºç¨‹åºè®¾è®¡è‰ºæœ¯                    
                
                
ã€Š17. "åŸºäºå¯è§†åŒ–ç•Œé¢çš„å›¾åƒå¤„ç†ï¼šç”¨æˆ·äº¤äº’ä¸å®æ—¶é¢„è§ˆ"ã€‹

1. å¼•è¨€

1.1. èƒŒæ™¯ä»‹ç»

éšç€æ•°å­—å›¾åƒå¤„ç†æŠ€æœ¯çš„å¿«é€Ÿå‘å±•,å›¾åƒåœ¨äººä»¬çš„æ—¥å¸¸ç”Ÿæ´»ä¸­æ‰®æ¼”ç€è¶Šæ¥è¶Šé‡è¦çš„è§’è‰²ã€‚åœ¨è®¸å¤šé¢†åŸŸ,ä¾‹å¦‚åŒ»å­¦å½±åƒã€æœºå™¨è§†è§‰ã€è‡ªåŠ¨é©¾é©¶ç­‰ç­‰,éƒ½éœ€è¦å¯¹å›¾åƒè¿›è¡Œå¤„ç†å’Œåˆ†æã€‚ä½†æ˜¯,å¦‚ä½•å¯¹å›¾åƒè¿›è¡Œå¤„ç†å’Œåˆ†æ,éœ€è¦ä¸“ä¸šçš„æŠ€æœ¯äººå‘˜å’Œç®—æ³•æ¥è¿›è¡Œå®ç°ã€‚

1.2. æ–‡ç« ç›®çš„

æœ¬æ–‡æ—¨åœ¨ä»‹ç»ä¸€ç§åŸºäºå¯è§†åŒ–ç•Œé¢çš„å›¾åƒå¤„ç†æ–¹æ³•,è¯¥æ–¹æ³•å¯ä»¥å¸®åŠ©ç”¨æˆ·å®ç°å¯¹å›¾åƒçš„å¤„ç†å’Œåˆ†æã€‚é€šè¿‡æœ¬æ–‡,è¯»è€…å¯ä»¥äº†è§£åˆ°è¯¥æ–¹æ³•çš„å®ç°æ­¥éª¤ã€æŠ€æœ¯åŸç†ä»¥åŠåº”ç”¨åœºæ™¯ã€‚

1.3. ç›®æ ‡å—ä¼—

æœ¬æ–‡çš„ç›®æ ‡å—ä¼—æ˜¯å¯¹å›¾åƒå¤„ç†æ„Ÿå…´è¶£çš„ç”¨æˆ·,åŒ…æ‹¬å›¾åƒå¤„ç†å·¥ç¨‹å¸ˆã€åŒ»ç”Ÿã€ç ”ç©¶è€…ç­‰ç­‰ã€‚

2. æŠ€æœ¯åŸç†åŠæ¦‚å¿µ

2.1. åŸºæœ¬æ¦‚å¿µè§£é‡Š

æœ¬æ–‡å°†ä»‹ç»çš„æ˜¯ä¸€ç§åŸºäºå¯è§†åŒ–ç•Œé¢çš„å›¾åƒå¤„ç†æ–¹æ³•ã€‚è¿™ç§æ–¹æ³•é€šè¿‡å°†å›¾åƒå¤„ç†å’Œåˆ†æç»“æœå¯è§†åŒ–,ç”¨æˆ·å¯ä»¥æ›´åŠ ç›´è§‚åœ°äº†è§£å›¾åƒçš„ç‰¹å¾å’Œæ€§è´¨ã€‚

2.2. æŠ€æœ¯åŸç†ä»‹ç»: ç®—æ³•åŸç†,å…·ä½“æ“ä½œæ­¥éª¤,æ•°å­¦å…¬å¼,ä»£ç å®ä¾‹å’Œè§£é‡Šè¯´æ˜

æœ¬æ–‡æ‰€ä»‹ç»çš„åŸºäºå¯è§†åŒ–ç•Œé¢çš„å›¾åƒå¤„ç†æ–¹æ³•,ä¸»è¦æ¶‰åŠä»¥ä¸‹æŠ€æœ¯åŸç†:

(1)å›¾åƒé¢„è§ˆç®—æ³•

å›¾åƒé¢„è§ˆç®—æ³•æ˜¯è¯¥æ–¹æ³•çš„æ ¸å¿ƒéƒ¨åˆ†,å…¶ç›®çš„æ˜¯è®©ç”¨æˆ·åœ¨å¤„ç†å›¾åƒå‰å…ˆäº†è§£å›¾åƒçš„é¢„è§ˆç»“æœã€‚åœ¨æœ¬æ–‡ä¸­,æˆ‘ä»¬ä½¿ç”¨ OpenCV åº“ä¸­çš„é¢„è§ˆå‡½æ•°å®ç°å›¾åƒé¢„è§ˆã€‚è¯¥å‡½æ•°å…è®¸ç”¨æˆ·åœ¨è¿è¡Œç¨‹åºå‰é¢„è§ˆå›¾åƒã€‚

(2)å›¾åƒå¤„ç†ç®—æ³•

æœ¬æ–‡æ‰€ä»‹ç»çš„å›¾åƒå¤„ç†ç®—æ³•ä¸»è¦æ˜¯å¯¹å›¾åƒè¿›è¡Œæ»¤æ³¢å’Œå›¾åƒå¢å¼ºã€‚æˆ‘ä»¬ä½¿ç”¨åŸºäºå½¢æ€å­¦æ“ä½œçš„æ»¤æ³¢ç®—æ³•,å¯¹å›¾åƒè¿›è¡Œé¢„å¤„ç†,ç„¶åå†ä½¿ç”¨åŸºäºé¢œè‰²ç›´æ–¹å›¾å‡è¡¡åŒ–çš„å¢å¼ºç®—æ³•,å¯¹å›¾åƒè¿›è¡Œå¢å¼ºã€‚

(3)å¯è§†åŒ–ç•Œé¢è®¾è®¡

ä¸ºäº†å®ç°å›¾åƒé¢„è§ˆå’Œå¤„ç†ç»“æœçš„å¯è§†åŒ–,æˆ‘ä»¬ä½¿ç”¨äº†å¯è§†åŒ–åº“ä¸­çš„ Tkinter åº“ã€‚è¯¥åº“æä¾›äº†ç”¨äºåˆ›å»ºå›¾å½¢ç”¨æˆ·ç•Œé¢çš„æ–¹æ³•ã€‚

2.3. ç›¸å…³æŠ€æœ¯æ¯”è¾ƒ

åœ¨æœ¬æ–‡ä¸­,æˆ‘ä»¬å°†ä½¿ç”¨å¤šç§æŠ€æœ¯æ¥å®ç°å›¾åƒé¢„è§ˆå’Œå¤„ç†ç»“æœçš„å¯è§†åŒ–ã€‚å…¶ä¸­,OpenCV åº“æ˜¯ä¸€ç§ç”¨äºè®¡ç®—æœºè§†è§‰å’Œå›¾åƒå¤„ç†çš„æµè¡Œåº“,Tkinter åº“æ˜¯ä¸€ç§ç”¨äºåˆ›å»ºå›¾å½¢ç”¨æˆ·ç•Œé¢çš„åº“ã€‚åŒæ—¶,æˆ‘ä»¬è¿˜ä»‹ç»äº†æ»¤æ³¢ç®—æ³•å’Œå¢å¼ºç®—æ³•,è¿™äº›ç®—æ³•åœ¨å›¾åƒé¢„è§ˆå’Œå¤„ç†ç»“æœçš„å¯è§†åŒ–ä¸­èµ·ç€é‡è¦ä½œç”¨ã€‚

3. å®ç°æ­¥éª¤ä¸æµç¨‹

3.1. å‡†å¤‡å·¥ä½œ:ç¯å¢ƒé…ç½®ä¸ä¾èµ–å®‰è£…

é¦–å…ˆ,éœ€è¦å®‰è£… OpenCV åº“å’Œ Tkinter åº“ã€‚åœ¨ Linux ä¸Š,å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…:

```
pip install opencv-python
pip install tk
```

åœ¨ Windows ä¸Š,å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…:

```
pip install opencv-python tk
```

3.2. æ ¸å¿ƒæ¨¡å—å®ç°

é¦–å…ˆ,éœ€è¦å®ç°å›¾åƒé¢„è§ˆå’Œå¤„ç†çš„ç®—æ³•ã€‚åœ¨æœ¬ç¯‡æ–‡ç« ä¸­,æˆ‘ä»¬ä¸»è¦å®ç°äº†åŸºäºå½¢æ€å­¦æ“ä½œçš„æ»¤æ³¢ç®—æ³•å’ŒåŸºäºé¢œè‰²ç›´æ–¹å›¾å‡è¡¡åŒ–çš„å¢å¼ºç®—æ³•ã€‚

```python
import cv2
import numpy as np
from matplotlib import pyplot as plt

def preprocess_image(image):
    # æ»¤æ³¢ç®—æ³•
    #...

    # å¢å¼ºç®—æ³•
    #...

    return image

def main():
    # è¯»å–å›¾åƒ
    image = cv2.imread("input_image.jpg")
    # å¤„ç†å›¾åƒ
    preprocessed_image = preprocess_image(image)
    # å¯è§†åŒ–ç»“æœ
    #...

if __name__ == "__main__":
    main()
```

3.3. é›†æˆä¸æµ‹è¯•

åœ¨å®ç°æ ¸å¿ƒæ¨¡å—ä¹‹å,æˆ‘ä»¬å°±å¯ä»¥å°†æ•´ä¸ªç¨‹åºé›†æˆèµ·æ¥,å¹¶è¿›è¡Œæµ‹è¯•ã€‚

```python
if __name__ == "__main__":
    # è¯»å–å›¾åƒ
    image = cv2.imread("input_image.jpg")
    # å¤„ç†å›¾åƒ
    preprocessed_image = preprocess_image(image)
    # å¯è§†åŒ–ç»“æœ
    #...

    assert cv2.countNonZero(preprocessed_image) == 0
```

4. åº”ç”¨ç¤ºä¾‹ä¸ä»£ç å®ç°è®²è§£

åœ¨æœ¬æ–‡ä¸­,æˆ‘ä»¬ä¸»è¦é€šè¿‡ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹æ¥ä»‹ç»å¦‚ä½•ä½¿ç”¨åŸºäºå¯è§†åŒ–ç•Œé¢çš„å›¾åƒå¤„ç†æ–¹æ³•ã€‚

å‡è®¾æˆ‘ä»¬æœ‰ä¸€å¼ å›¾ç‰‡ "input_image.jpg",æˆ‘ä»¬æƒ³å¯¹è¿™å¼ å›¾ç‰‡è¿›è¡Œé¢„å¤„ç†å’Œå¯è§†åŒ–å¤„ç†,é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ¥å®ç°:

3.1. å‡†å¤‡å·¥ä½œ:ç¯å¢ƒé…ç½®ä¸ä¾èµ–å®‰è£…

é¦–å…ˆ,éœ€è¦å®‰è£… OpenCV åº“å’Œ Tkinter åº“ã€‚åœ¨ Linux ä¸Š,å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…:

```
pip install opencv-python
pip install tk
```

åœ¨ Windows ä¸Š,å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…:

```
pip install opencv-python tk
```

3.2. æ ¸å¿ƒæ¨¡å—å®ç°

é¦–å…ˆ,éœ€è¦å®ç°å›¾åƒé¢„è§ˆå’Œå¤„ç†çš„ç®—æ³•ã€‚åœ¨æœ¬ç¯‡æ–‡ç« ä¸­,æˆ‘ä»¬ä¸»è¦å®ç°äº†åŸºäºå½¢æ€å­¦æ“ä½œçš„æ»¤æ³¢ç®—æ³•å’ŒåŸºäºé¢œè‰²ç›´æ–¹å›¾å‡è¡¡åŒ–çš„å¢å¼ºç®—æ³•ã€‚

```python
import cv2
import numpy as np
from matplotlib import pyplot as plt

def preprocess_image(image):
    # æ»¤æ³¢ç®—æ³•
    #...

    # å¢å¼ºç®—æ³•
    #...

    return image

def main():
    # è¯»å–å›¾åƒ
    image = cv2.imread("input_image.jpg")
    # å¤„ç†å›¾åƒ
    preprocessed_image = preprocess_image(image)
    # å¯è§†åŒ–ç»“æœ
    #...

if __name__ == "__main__":
    # è¯»å–å›¾åƒ
    image = cv2.imread("input_image.jpg")
    # å¤„ç†å›¾åƒ
    preprocessed_image = preprocess_image(image)
    # å¯è§†åŒ–ç»“æœ
    #...

    assert cv2.countNonZero(preprocessed_image) == 0
```

4. ä»£ç å®ç°

åœ¨å®ç°å¯è§†åŒ–ç•Œé¢çš„å›¾åƒå¤„ç†æ—¶,æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ª Tkinter çš„çª—å£æ¥æ˜¾ç¤ºå›¾åƒé¢„è§ˆç»“æœã€‚

```python
import tkinter as tk

root = tk.Tk()
root.title("Image Processing")
root.geometry("800x600")
root.minsize(300, 300)

image_label = tk.Label(root, text="")
image_label.pack(image=1)

image = np.array([[100, 200, 100],
                [300, 200, 100],
                [50, 200, 100]])

preprocessed_image = preprocess_image(image)

image_label.config(image=preprocessed_image)

root.mainloop()
```

5. ä¼˜åŒ–ä¸æ”¹è¿›

åœ¨å®é™…åº”ç”¨ä¸­,æˆ‘ä»¬éœ€è¦å¯¹ä»£ç è¿›è¡Œä¼˜åŒ–å’Œæ”¹è¿›,ä»¥æé«˜ç¨‹åºçš„æ€§èƒ½å’Œç¨³å®šæ€§ã€‚

é¦–å…ˆ,æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨å¤šçº¿ç¨‹æ¥æé«˜ç¨‹åºçš„è¿è¡Œæ•ˆç‡ã€‚

```python
import threading

def preprocess_image_thread(image):
    # æ»¤æ³¢ç®—æ³•
    #...

    # å¢å¼ºç®—æ³•
    #...

    return image

def main_thread(image):
    # è¯»å–å›¾åƒ
    image = cv2.imread("input_image.jpg")
    # å¤„ç†å›¾åƒ
    preprocessed_image = preprocess_image_thread(image)
    # å¯è§†åŒ–ç»“æœ
    #...

    return preprocessed_image

def start_preprocess():
    thread = threading.Thread(target=main_thread)
    thread.start()

def start_å¯è§†åŒ–():
    root.after(500, root.destroy)

root = tk.Tk()
root.title("Image Processing")
root.geometry("800x600")
root.minsize(300, 300)
root.configure(bg="white")

image_label = tk.Label(root, text="")
image_label.pack(image=1)

image = np.array([[100, 200, 100],
                [300, 200, 100],
                [50, 200, 100]])

preprocessed_image = None
start_preprocess()
start_å¯è§†åŒ–()

while True:
    root.after(200, root.update)

    if image is not None:
        image_label.config(image=image)
```

å…¶æ¬¡,æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ğŸ˜‰ç¬¦å·æ¥å¼€å¯å•å…ƒæ ¼è®¡ç®—,ä»¥æé«˜ç¨‹åºçš„è¿è¡Œæ•ˆç‡ã€‚

```python
from numpy importè¨˜æ³•

def preprocess_image_thread(image):
    # æ»¤æ³¢ç®—æ³•
    #...

    # å¢å¼ºç®—æ³•
    #...

    return image

def main_thread(image):
    # è¯»å–å›¾åƒ
    image = cv2.imread("input_image.jpg")
    # å¤„ç†å›¾åƒ
    preprocessed_image = preprocess_image_thread(image)
    # å¯è§†åŒ–ç»“æœ
    #...

    return preprocessed_image

def start_preprocess():
    thread = threading.Thread(target=main_thread)
    thread.start()

def start_å¯è§†åŒ–():
    root.after(500, root.destroy)

root = tk.Tk()
root.title("Image Processing")
root.geometry("800x600")
root.minsize(300, 300)
root.configure(bg="white")

image_label = tk.Label(root, text="")
image_label.pack(image=1)

image = np.array([[100, 200, 100],
                [300, 200, 100],
                [50, 200, 100]])

preprocessed_image = None
start_preprocess()
start_å¯è§†åŒ–()

while True:
    root.after(200, root.update)

    if image is not None:
        image_label.config(image=image)
```

6. ç»“è®ºä¸å±•æœ›

æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨åŸºäºå¯è§†åŒ–ç•Œé¢çš„å›¾åƒå¤„ç†æ–¹æ³•,å®ç°å¯¹å›¾åƒçš„é¢„å¤„ç†å’Œå¯è§†åŒ–ã€‚åœ¨å®é™…åº”ç”¨ä¸­,æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¼˜åŒ–å’Œæ”¹è¿›ç¨‹åº,æé«˜ç¨‹åºçš„æ€§èƒ½å’Œç¨³å®šæ€§ã€‚

