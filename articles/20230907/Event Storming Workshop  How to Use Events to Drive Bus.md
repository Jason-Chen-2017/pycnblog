
作者：禅与计算机程序设计艺术                    

# 1.简介
  

事件风暴是一种敏捷开发方法，可以有效帮助团队在不预先知道业务需求情况下，通过非正式的方式快速明晰系统边界、业务规则及系统交互，并提出具备可行性的解决方案。由于事件风暴的概念简单易懂，适合不擅长制定详细设计文档的初级工程师和中高级技术人员进行知识沉淀，并且不需要和产品或项目经理产生过多的联系。

本次的“如何使用事件驱动设计驱动商业决策”系列教程，将从以下几个方面分享我对事件风暴的理解和实践经验：

1.什么是事件风暴？

2.为什么要进行事件风暴？

3.事件风暴的工作流程是怎样的？

4.如何画好一个事件图？

5.如何利用事件图进行业务决策？

6.结语

最后再给大家整理一下文章结构，大家可以按着顺序进行阅读。

- 第一章 为什么要进行事件风暴
- 第二章 事件风暴的工作流程
- 第三章 画好一个事件图
- 第四章 案例实战——如何利用事件图进行业务决策
- 第五章 有关业务领域的问题总结
- 第六章 感谢
- 附录：常见问题与解答

# 第二章 事件风暴的工作流程
事件风暴的主要工作流程如下：

1. **发现需求：在确定了目标市场范围、业务目标、用户群体之后，需要制定适用于该市场的需求模型。这个过程一般由产品负责人、项目经理等负责，他/她将会分析市场上的竞争对手，搜集竞品信息，组织需求调研会议，梳理现有产品功能，收集反馈意见。之后将这些需求记录下来，形成需求文档，交付给研发团队。</strong> 

2.<strong>**归类需求：对需求进行分类，分为哪些是必需的功能，哪些是重要的功能，哪些是次要的功能。对那些重要而关键的功能，将其归类进重要功能类别，对那些其他功能归类进次要功能类别。原因是，如果不能优先满足最重要的功能，那么后续的功能开发就会受到影响。如果在后期才引入次要功能，也会使得项目的持续时间变长。</strong>

3. <strong>**定义事件：定义事件时，需要将不同的行为与系统发生的某种事物联系起来，这就是事件。比如，当用户点击某个按钮时，就触发了一个登录事件；当新消息到达时，就触发了一个消息通知事件。</strong>

4.<strong>**角色识别：将参与者分为三个角色：事件生成器（Who initiated the event），事件消费者（Who consumes the event）以及事件管理者（Who manages events）。事件生成器是指产生事件的人员或者机器，可能是用户、自动化脚本、移动应用等。事件消费者是指处理事件的人员，他/她需要根据事件做出响应，如展示消息、弹窗提示、更新界面、触发其他后台任务等。事件管理者则是指管理事件的系统，如消息队列、事件日志数据库等。</strong>

5. **事件描述：将每个事件用文字的形式进行描述。描述应该清晰、完整、准确地传达出事件的含义、触发条件、事件消费者的责任、后果以及相应的解决方案。事件描述通常是团队讨论出的结果，但也可以使用白板、便签纸等工具直接进行记录。

6.<strong>**事件关联：将相邻的事件联系在一起。对于相似的事件来说，可以合并成一个事件环节，这样可以让事件流更加清晰。另外，还可以通过绘制依赖关系来表示两个事件之间的关系。如，当用户注册成功时，可以触发另一个事件“用户充值”，那么这两个事件就可以关联在一起。</strong>

7. **验证事件：验证事件时，需要对每个事件都进行验证，确认是否符合预期。可以采用两种方式：
    - 使用业务规则验证：如账户余额低于某个阈值时，推送一条警告消息，用户应尽快充值；
    - 使用测试验证：针对每个事件，运行测试用例，验证它是否能够正常工作，并标识出现的问题。如，当用户点击注册按钮时，系统会跳转至注册页面，并显示相关信息，如果没有弹出错误信息，则认为该事件验证通过。

8. **演练事件流：演练事件流时，需要将刚刚完成的事件流图演练给整个团队，让大家对流程、流程图、关联关系等有一个直观的认识。演练过程中，需要收集反馈意见，调整事件流，直到所有问题得到解决。

9. **业务决策：将事件风暴的内容转换成可以执行的业务计划。可以根据需求文档的情况和事件流的输出，制作一份简单的业务规划文档，列举出所有功能点和服务，以及他们对应的实现方案。
<br>
<br>


# 第三章 画好一个事件图
事件图是事件风暴的一项关键输出，用来帮助团队更好地理解系统的功能，了解当前系统的工作流程以及各个模块间的交互。一个好的事件图应该具有以下特点：

1. 清晰：事件图上每一个节点代表一个事件，事件之间通过箭头连线表示其之间的关联关系。因此，读者就可以清楚地看到事件流向和流程走向。
2. 简洁：不必为了一张复杂的图，而刻意去记住每个细节。只需要关注事件之间的交互即可，只要展示出整体的工作流程，读者就能够快速理解系统的运作方式。
3. 直观：展示每一个事件的详情信息，包括触发条件、事件名称、事件消费者、后果以及相应的解决方案。这样可以让读者对系统的功能有个整体的认识。

下面是一个示例的事件图：


如上图所示，事件图按照以下步骤进行绘制：

1. <strong>绘制事件起始点：在事件图上绘制事件的起始点，即产生事件的角色。</strong> 
2. <strong>识别事件消费者：识别事件的接收者，将事件与对应角色进行连接。</strong> 
3. <strong>划分事件类型：将不同类型的事件划分到不同的颜色上，方便区分。</strong> 
4. <strong>描述事件详情：详细描述每个事件的触发条件、名称、消费者、后果以及解决方案等。</strong> 

其他的一些注意事项如下：

1. 不要刻意去记忆每个事件的详情信息，只需要记住每个事件与前面的事件之间的关系即可。
2. 尝试为事件图添加上下文，增加可读性。
3. 如果遇到歧义性的事件名词，则可以考虑在事件图上添加注释或标签。