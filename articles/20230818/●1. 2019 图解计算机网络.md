
作者：禅与计算机程序设计艺术                    

# 1.简介
  

&emsp;&emsp;《●1. 2019 图解计算机网络》(The Computer Networking Book Series)是作者阅读过的、写过的关于计算机网络方面的经典书籍之一。本系列从基础知识出发，系统atically介绍了计算机网络各个方面，全面准确地阐述了计算机网络的知识体系结构。该系列共分为五册，包括计算机网络的“物理层”、“数据链路层”、“网络层”、“传输层”、“应用层”，每一章都详细介绍了相应的内容。每个章节里还设计了精心制作的插图，能够帮助读者更好地理解相关知识，并提升技能水平。

&emsp;&emsp;本书的作者邵荣铭先生，是著名计算机科学教授、博士，曾任清华大学电子信息学院教授。她自2007年起担任红帽公司首席科学家，曾于2008年至2012年间就职于瑞士圣日耳曼大学，后历任欧洲核子研究组织（CERN）高级研究员，美国加州大学伯克利分校密歇根州立大学访问学者，芝加哥大学EECS博士后，现任Red Hat公司联合创始人兼首席执行官，同时也是知名开源软件供应商Red Hat的董事局主席。

&emsp;&emsp;《●1. 2019 图解计算机网络》一书以直观的方式，深入浅出地解读了计算机网络的各种层次。对于刚入门的人来说，可以作为参考资料，快速学习到计算机网络的基本知识；对于老手来说，也可以提升自己的网络分析能力；对于计算机爱好者来说，它也是一个很好的学习资源，能帮助你更好地理解计算机网络工作原理。

&emsp;&emsp;本系列涉及的主题广泛，从最底层的物理层，到传输层，再到最上层的应用层，从最基础的IP协议，到最复杂的Web开发技术。全书共计15章，每章之间都紧扣着前一章的内容，并且在深度上循序渐进，为读者带来极佳的学习效果。同时，还配备有丰富的习题集，增强学生们的综合运用能力。

# 2.内容概要
## （一）第一册 “物理层”
1. 物理层的作用
- 物理层主要任务是实现相邻计算机之间的数据通信。
- 数据通信是指传送0/1比特流量的过程。

2. 数据通信的两种方式
- 时分复用（TDM）：由时间的不同而把数据划分成不同的时隙，不同的设备占用不同的时隙，实现不同用户对某些信道的共享使用。
- 统计分用（FDM）：在两个通信终端之间交换的信号是随机无序的，统计调制成载波，通过不同的接收天线接收。

3. 双绞线、同轴电缆、光纤等物理媒体之间的区别
- 双绞线：电气特性较差，信号容易受雷击、电磁干扰，不能承受高频率信号，适用于远距离通信，延迟小。
- 同轴电缆：电气性能好，适用于城域中距离要求不高的通信，无需进行串联，传输距离长。
- 光纤：电气特性优越，连续性好，抗干扰能力强，适用于跨大范围的通信。

4. OSI七层模型和TCP/IP四层模型之间的联系
- 物理层位于OSI七层模型中的第六层，所以OSI七层模型的物理层仅提供物理连接功能，数据传送功能由数据链路层负责。
- TCP/IP四层模型中，三层交换机是物理层的实现者，实现了数据链路层的物理层功能。
- IP协议是TCP/IP四层模型中的网络层，负责将数据包从一个节点路由到另一个节点。
- 应用层是在TCP/IP四层模型的顶层，负责应用程序间的通信。

5. 常用的传输介质
- 可变电路：优点是导电简单，缺点是损耗大，传输距离短。
- 陆型电缆：采用光纤传播，特点是长距离传输，导电简单，灵敏度高，损耗小。
- 卫星通讯：利用地球同步轨道传输信号，非常快，信号强度高，适合长距离通信。

6. MAC地址与IP地址的关系
- 每个网卡连接到一个局域网内，都会获得一个唯一的MAC地址。
- IP地址就是网络内部的唯一标识符，用于标识网络上的计算机。
- IP地址和MAC地址之间的转换是通过ARP协议实现的。

7. 以太网的工作原理
- 以太网是一种点对点的局域网，所有的计算机都属于一个以太网，直接相连。
- 以太网的局域网采用二层交换技术，即数据帧的发送和接收都是在二层完成的。
- 晶体管是以太网的最小单位，所有设备都要用导线和晶体管才能正常通信。

8. ARP协议
- ARP（Address Resolution Protocol）协议是根据IP地址获取MAC地址的一个TCP/IP协议。
- 主机向路由器发送ARP请求报文，告诉路由器我需要哪个IP地址对应的MAC地址。
- 路由器查询自己保存的静态ARP表，如果查找到对应记录，则返回MAC地址，否则向默认网关发起一个ARP请求。
- 如果默认网关仍然无法解决问题，则返回广播地址。
- 接收主机接收到ARP响应报文，更新自己的ARP缓存，然后就可以正常通信了。

9. ICMP协议
- ICMP（Internet Control Message Protocol）协议是TCP/IP协议族的一部分，用于在IP主机收到错误消息或其他网络信息时通知用户或者作出响应。
- ICMP报文分为两类：ICMP类型通知报文和ICMP类型终止报文。
- 类型通知报文主要用于网络管理，例如回显请求、时间戳请求、地址掩码请求等。
- 类型终止报文主要用于诊断网络故障，例如源站不可达、目的站不可达、超时等。

10. VLAN的作用
- VLAN（Virtual Local Area Network）虚拟局域网是以太网的一种技术，可以让多个计算机组成一个大的局域网。
- 由于局域网本身的限定，VLAN可以提高局域网的安全性和可靠性，减少冲突的发生。
- 在VLAN架构下，一个VLAN只存在于一个广播域内，但可以和其它VLAN建立连接。

11. WiFi的组成
- WiFi是IEEE在802.11标准下制定的无线个人WLAN标准，是一种基于OFDM技术的无线局域网。
- 它是一种低速的无线网络，通常每秒能传输几十Kbit/s~几百Kbit/s的数据。
- WiFi采用CSMA/CA协议，支持AP模式（Access Point，即接入点）和STA模式（Station，即客户端）。
- AP模式的特点是能够被其他无线设备接入，能够分享免费的无线信道资源；STA模式的特点是只能通过AP进行通信。

12. WiMAX的组成
- WiMAX（Wideband Integrated Multi-access）宽带集成多址是由IEEE制定的第三代无线网络。
- WiMAX可以实现快速、高容量、广覆盖的多径通信，目前已成为长距离通信的新潮流。
- WiMAX的组成有基站（Base Station，BS），核心网（Core Netwrok，CN），边缘网（Edge Network，EN），业务网（Service Network，SN）。
- BS是WiMAX的核心单元，具有独立的无线电发射、接收和处理能力，协同参与多址业务网的连接。
- CN是边缘网，采用企业级设备，具有完整的信道资源，连接到所有BS和EN。
- EN是WiMAX网络的边缘部分，其覆盖范围一般是几千公里，具有不同地区性质的多址业务。
- SN是WiMAX的业务网，将各种业务接入到相同的网络，形成统一的整体。


## （二）第二册 “数据链路层”
1. 数据链路层的功能
- 数据链路层的主要功能是实现相邻计算机之间的数据通信。
- 数据链路层负责实现数据帧的透明传输，将比特流转化为信号。

2. 数据链路控制LLC协议
- LLC（Logical Link Control）数据链路控制协议是ISO制定的一种数据链路层协议。
- LLC协议定义了数据链路层的一些重要服务，如维护链路的完整性，处理差错、流控、资源分配、设备共享等。
- 重要的LLC服务包括：封装成帧、透明传输、差错检测和纠正、连接建立与拆除、流量控制和访问授权。

3. STP协议
- STP（Spanning Tree Protocol）是IEEE制定的自学习的、分布式的、优先级划分的、环回口和网桥的协同工作的的协议。
- STP协议是使得整个网络平稳运行且互通的关键。
- 当网络出现分叉的时候，STP协议会在路由器之间传递信息，使得它们能够按照正确的方向运行。

4. MAC地址
- MAC地址（Media Access Control Address）即物理地址，用来唯一标识网络接口的硬件地址。
- MAC地址长度为48位，其中前24位表示厂商的代码，中间6位表示制造商的本地识别码，最后的24位表示制造顺序号。

5. CSMA/CD协议
- CSMA/CD（Carrier Sense Multiple Access with Collision Detection）是IEEE制定的以太网的共享式的碰撞检测协议。
- CSMA/CD协议能够有效防止多点同时发送数据导致的干扰，并通过监听信道空闲状态来检测是否存在冲突。
- 当一台计算机要发送数据时，首先检查信道是否空闲，若空闲则将数据发送出去，否则等待一段时间后再重试。
- 如果在发送过程中发现信道又变为空闲，那么就可以避免产生冲突。

6. 中继器
- 中继器（Repeater）是将两个以太网之间连接起来的设备。
- 通过中继器，两个以太网可以实现彼此通信。
- 中继器可以减轻双方的通信压力，改善网络的可靠性。

7. 次要作用地址FSA
- 次要作用地址（FSA）是为了便于IP数据报的目的地址匹配而设置的地址。
- FSA通常和IP地址一起使用，作为IP数据报的逻辑地址。

8. MAC帧的封装过程
- 将数据封装成MAC帧的过程称为帧封装。
- 帧封装包含如下步骤：
   - 报头字段：帧的起始符，目的MAC地址，源MAC地址，类型字段等。
   - 数据字段：帧的数据部分，负责存储数据。
   - FCS校验码：帧检验序列，用于确定帧是否损坏或错误。

9. ATM协议
- ATM（Asynchronous Transfer Mode）异步传输模式是ITU-T定义的一种新的高速率、无比程度的点对点通信技术。
- ATM网络由两部分组成：物理网络和MAC子层。
- 物理层负责信道分配和信号传输。MAC子层负责进行网络层的功能，如QoS、分组聚合等。

10. 令牌环协议
- Token Ring（令牌环）是IBM、cisco等厂商提出的一种以太网的共享式的广播协议。
- 令牌环协议中的每一跳都有一个令牌，令牌环中的所有主机必须占有令牌才能够发送数据。
- 令牌环协议与CSMA/CD协议类似，但比CSMA/CD协议更严格，因为它还提供了更高的可靠性。

11. PPP协议
- PPP（Point to Point Protocol）点对点协议，是Internet上常用的协议。
- PPP协议是点到点链路协议，用于在不同网络之间的数据通信。
- PPP协议包括两部分：LCP（Link Control Protocol）和IPC（Internet Protocol Control）。
- LCP协议用于控制网络的链接，包括用户认证、配置参数的协商、拒绝、回答等。
- IPC协议用于网络层的通信，包括IP地址配置、寻址、路由选择、差错控制、流量控制等。

12. TPDU和CPDU的区别
- TPDUs（Transmission Protocol Data Units）传输协议数据单元，即帧中的数据。
- CPDUs（Connection Protocol Data Units）连接协议数据单元，即帧边界的各种控制信息。

13. VDSL技术
- VDSL（Very Digital Subscriber Line）高速数字用户线，是ITU-T提出的一种新的数字传输技术。
- VDSL以高速数字信号传输方式替代模拟信号传输方式，以提高通信性能。
- VDSL的工作原理是将视频信号编码成数字信号，在传输信道中播放。
- VDSL采用光的集束效应，允许实时播放视频，适用于娱乐、视频监控等场合。

14. 多端口映射网桥
- 网桥（Bridge）是计算机网络的物理层设备，具有帧分组功能，能够透明地交换网络数据。
- 网桥可以实现多端口映射功能，即一个端口收到的帧可以发送到多个端口。
- 可以把多个服务器通过网桥连接起来，实现负载均衡、实现故障切换和冗余保护。

## （三）第三册 “网络层”
1. 网络层的作用
- 网络层的主要功能是为数据包从源点到达目标点提供路由选择和数据传输服务。
- 网络层将分组从源点到达目标点，首先判断其路径。
- 如果路径不可达，则会进行路由选择，以决定如何到达目标点。
- 如果路径可达，则会传输数据。

2. 网络层地址
- 网络层地址（Network Layer Address）主要有IP地址和子网掩码组成。
- IP地址是网络内部的标识符，用来唯一标识网络中的计算机。
- 子网掩码用于计算IP地址中的网络部分，用来屏蔽掉主机部分。

3. 路由选择协议
- 路由选择协议（Routing Protocol）用于在网络之间选取一条最佳路由。
- 路由选择协议包括距离矢量路由协议和链路状态路由协议。
- 距离矢量路由协议（Distance Vector Routing Protocol）采用类似电话簿的方法，将路由器与路由表中的条目相比较，计算两个路由器之间的距离。
- 链路状态路由协议（Link State Routing Protocol）采用迭代算法，每次迭代都会计算整个网络的最短路，计算量大。

4. BGP协议
- BGP（Border Gateway Protocol）边界网关协议，是IETF提出的自治系统（AS）的动态路由选择协议。
- BGP协议可自动选取网络中的最佳路由，并传播路由信息给其它AS，实现动态的网络平面中路由的变化。
- BGP协议运行在TCP/IP协议栈的上层，不仅可以实现路由选择，还可以用于网络可靠性的维护。

5. IGMP协议
- IGMP（Internet Group Management Protocol）Internet组管理协议，用于 multicast 的地址管理。
- IGMP协议用于在 multicast 组播数据报的发送和接收。
- IGMP协议需要基于UDP协议实现，默认使用端口号为1组播地址172.16.58.3。

6. NAT协议
- NAT（Network Address Translation）网络地址转换，是一种技术，可以将私网的IP地址转换成公网IP地址。
- 使用NAT的原因有很多，比如防火墙限制了公网IP的数量，或者私网IP数量已经枯竭，可以向公网申请更多IP地址，使用NAT可以缓解这些问题。
- NAT又分为静态NAT和动态NAT两种类型。

7. RIP协议
- RIP（Routing Information Protocol）路由信息协议，是Cisco提出的分布式路由协议。
- RIP协议基于距离矢量算法，将每个路由器上的路由信息发送给所有相邻路由器。
- RIP协议简单、易于实现、速度快、可靠性高，但是缺乏灵活性。

8. OSPF协议
- OSPF（Open Shortest Path First）开放式最短路径优先，是RFC 2328定义的可伸缩的网络层路由协议。
- OSPF协议支持VLSM（Variable Length Subnet Mask）变量长度子网掩码，能够适应网络的变化。
- OSPF协议运行在IPv4之上，可以使用端口号为89即OSPF的端口。

9. ICMP协议
- ICMP（Internet Control Message Protocol）网络控制报文协议，是IP协议的一部分。
- ICMP协议用于网络层的错误报告和流量控制报告。

10. VPN协议
- VPN（Virtual Private Network）虚拟专用网，是利用公用网络技术创建专用网络的一种技术。
- VPN技术利用加密和隧道协议实现远程访问和远程通信。
- VPN技术可以隐藏网络内部的复杂网络拓扑结构，为用户提供可信赖、可靠的服务。

11. MPLS技术
- MPLS（Multiprotocol Label Switching）多协议标签交换，是RFC 3031定义的一种网络层技术。
- MPLS技术的主要功能是改变数据包的地址，使其可以沿着多条路径路由。
- MPLS技术依赖于标签交换机，将用户数据报打上特定标签，然后交换机根据标签将其转发到目的地。

12. CDN技术
- CDN（Content Delivery Network）内容分发网络，是由Akamai、CloudFlare、MaxCDN、Fastly等公司推出的全球性的网络服务。
- CDN服务的对象是网站内容，通过部署缓存服务器，将内容分发给用户所在的区域。
- CDN服务可以有效降低用户响应时间、提高用户体验，改善网站的可用性。

13. DNS域名系统
- DNS（Domain Name System）域名系统，是因特网的一项服务，用于将域名转换为IP地址。
- DNS系统包含两级名称服务器（TLD NS），根域名服务器（Root NS），顶级域名服务器（Top Level Domain NS），权限域名服务器（Authoritative NS）。
- DNS系统运行在UDP协议的53号端口，用于域名解析和邮件服务器的邮箱域名验证。

## （四）第四册 “传输层”
1. 传输层的作用
- 传输层的主要功能是为上层的应用进程提供端到端的通信服务。
- 传输层的作用主要有两个方面：
   - 提供通信的可靠性：为通信双方提供可靠的数据传输服务，保证通信的成功。
   - 为上层协议提供接口：传输层向上层协议提供各种接口，使其可以透明地使用TCP/IP协议族。

2. TCP协议
- TCP（Transmission Control Protocol）传输控制协议，是一种面向连接的、可靠的、基于字节流的传输层协议。
- TCP协议提供可靠的字节流服务，可以实现双向通信、广播、错误恢复和流量控制。

3. UDP协议
- UDP（User Datagram Protocol）用户数据报协议，是一种无连接的、不可靠的、基于数据报的传输层协议。
- UDP协议提供尽最大努力交付的服务，也就是说，不保证数据的可靠交付。
- 不需要握手建立连接，传输数据报文不需要排序，能够提供高吞吐量。

4. 端口号
- 端口号（Port Number）是用来标识网络进程的特殊号码。
- 一台计算机可以通过IP地址和端口号标识网络进程。
- 服务进程在启动时，会随机选择一个未使用的端口号，然后绑定到相应的网络接口。
- 用户可以在程序中指定端口号，用于标识程序的网络进程。

5. SSL协议
- SSL（Secure Sockets Layer）安全套接层，是Netscape公司开发的一种安全协议。
- SSL协议可以为互联网通信提供安全支持，包括身份验证、加密数据、数据完整性检查等。
- SSL协议运行在TCP/IP协议栈的下层，位于传输层和应用层之间。

6. STUN协议
- STUN（Session Traversal Utilities for NAT）（NAT Traversal）Traversal Utilities for NAT，是NAT技术的一种工具。
- STUN可以帮助用户穿越NAT网关，实现网络通信。

7. ICE协议
- Interactive Connectivity Establishment（ICE）互动连接建立，是NetflixBeta实验室提出的一种综合解决方案。
- ICE可以让多媒体应用建立连接，包括音频、视频、文本、数据等。
- ICE协议运行在UDP协议的端口号19911，使用DTLS协议加密数据。

8. TCP粘包问题
- 粘包（Packet Snipping）是指多个小数据包，合并成一个大数据包进行发送。
- TCP协议是一种可靠的面向连接的协议，通过确认和重传机制，实现数据包的完整性。
- 但是，TCP协议没有考虑网络拥塞的问题，因此可能会发生粘包现象。

9. 拥塞控制
- 拥塞控制（Congestion Control）是一种机制，通过调整发送窗口大小，以减轻网络拥塞引起的丢包问题。
- 拥塞控制通过避免过多的乱序传输和重传，使网络的负载不会过多地增加，提高网络的利用率。

10. 流量控制
- 流量控制（Traffic Control）是一种方法，通过控制发送方发送速率，来限制接收方的接受速率。
- 流量控制通过流量控制报文（Flow Control Message）在两个方向之间进行通信，实现对发送方的流量控制。

11. SYN攻击
- SYN（Synchronize）同步SYN-ACK（Synchronize/Acknowledgement）握手，是一种恶意攻击方法。
- SYN攻击利用TCP协议的三次握手建立连接过程中的漏洞，导致攻击者构造伪造的TCP连接请求。

12. 公钥加密与私钥解密
- 公钥加密（Public Key Encryption）和私钥加密（Private Key Decryption）是加密过程的两种方式。
- 公钥加密过程是接收方使用自己的公钥对信息进行加密，只有私钥拥有解密的私钥，这种加密方法具有非对称性。
- 私钥解密过程是发送方使用自己的私钥对信息进行解密，只有公钥拥有加密的私钥，这种解密方法具有非对称性。

## （五）第五册 “应用层”
1. 应用层的作用
- 应用层的主要功能是实现各种应用进程之间的通信。
- 应用层协议向上层提供各种API接口，用于各应用进程之间的数据交换。

2. HTTP协议
- HTTP（Hypertext Transfer Protocol）超文本传输协议，是互联网上万维网超文本文档的主要协议。
- HTTP协议是用于从WWW服务器传输超文本到本地浏览器的协议。
- HTTP协议支持GET、POST、HEAD、PUT、DELETE等方法，以及Cookie、Session、Cache等技术。

3. HTTPS协议
- HTTPS（HTTP Secure）是HTTP协议的安全版本，是以安全为目标的HTTS扩展。
- HTTPS协议的主要思想是采用SSL/TLS协议来对HTTP协议进行封装。
- HTTPS协议需要到权威的证书颁发机构（Certificate Authority）购买证书，并安装在客户机和服务器上。

4. FTP协议
- FTP（File Transfer Protocol）文件传输协议，是因特网上使用最广泛的文件传输协议。
- FTP协议可以实现文件的上传、下载、删除、浏览等操作。
- FTP协议运行在TCP/IP协议栈的下层，位于传输层和应用层之间。

5. SMTP协议
- SMTP（Simple Mail Transfer Protocol）简单邮件传输协议，是发送和接收email的主要协议。
- SMTP协议支持邮件的发送、接收、暂停、转发、删除等操作。
- SMTP协议运行在TCP/IP协议栈的下层，位于传输层和应用层之间。

6. POP协议
- POP（Post Office Protocol）邮局协议，是POP3邮件协议的升级版。
- POP协议支持邮件的下载和删除操作。
- POP协议运行在TCP/IP协议栈的下层，位于传输层和应用层之间。

7. DNS协议
- DNS（Domain Name System）域名系统，是因特网的一项服务，用于将域名转换为IP地址。
- DNS协议运行在TCP/IP协议栈的上层，位于应用层之上。