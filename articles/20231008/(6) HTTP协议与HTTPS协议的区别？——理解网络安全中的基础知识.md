
作者：禅与计算机程序设计艺术                    

# 1.背景介绍


HTTP协议和HTTPS协议都是用于传输Web页面、文件的协议。它们的主要区别在于：HTTP协议是超文本传输协议（Hypertext Transfer Protocol）的缩写，也就是通常所说的网页协议；而HTTPS协议则是HTTP协议的SSL或TLS的加密版本，可以对Web通信提供相当程度的安全保证。
但两者之间又存在着一些细微的差别。在本文中，我们将探讨这些差别并阐述其背后的一些基本概念，进而帮助读者理解HTTP协议和HTTPS协议之间的关系。同时，也希望能够启发读者在实际应用中更好地掌握这两个协议。
# 2.核心概念与联系
## 2.1 HTTP协议
HTTP协议是Web浏览器和服务器之间通信的协议，它定义了客户端如何向服务器请求资源及资源返回给客户端的方式。
HTTP协议包括以下几个方面：
### 请求消息：
- 请求方法：GET/POST/PUT等
- 请求URI：Uniform Resource Identifier
- 协议版本：HTTP/1.0/1.1
- 请求首部字段：各种各样的请求头信息，如Host，User-Agent，Accept，Cookie等。
- 请求主体：可能为空，比如GET方法没有请求主体。

### 响应消息：
- 状态码：表示请求成功或者失败的状态码。如200 OK，404 Not Found，503 Service Unavailable等。
- 协议版本：同请求消息。
- 响应首部字段：各种各样的响应头信息，如Content-Type，Content-Length，Server等。
- 响应主体：就是所请求的内容，通常是一个HTML文件或者一个图片文件。

## 2.2 HTTPS协议
HTTPS协议是一种加密传输层通信协议，通过对网络通信的数据进行加密，从而保护数据不被第三方截获，避免了数据在网络上被窃取、篡改、伪造的风险。它建立在HTTP协议之上，HTTP协议端口号为80，而HTTPS协议端口号一般为443。
HTTPS协议的实现需要使用到证书认证机构颁发的数字证书，即CA证书。采用HTTPS协议前，服务器首先把自己的身份标识信息发送给浏览器，之后浏览器会告诉用户是否接受该服务器的证书。如果用户选择接受，那么浏览器会检查证书上的信息是否有效，然后生成一个随机数并用证书上的私钥对随机数进行加密，再把加密后的数据发送给服务器。服务器接收到数据后，用同样的私钥解密出随机数，得到用户提交的请求。这样，服务器就可以判断用户身份，并提供正常服务。
HTTPS协议在通信过程中使用了SSL/TLS协议，并且在TLS协议的基础上，还加入了HTTPS协议的独特功能，例如加密套件、压缩技术、身份认证等。
总结来说，HTTPS协议的实现需要CA证书，而对于CA证书的有效性、颁发机构、私钥的安全保管等，都需要做好相关工作。
## 2.3 共同点
- 都基于TCP/IP协议栈实现。
- 都加密传输数据。
- 从请求/响应角度看，都遵循请求-响应模式。
- 支持HTTPS协议的WEB服务器支持HTTP协议，而支持HTTP协议的WEB服务器不一定支持HTTPS协议。
## 2.4 不同点
- HTTP协议的默认端口号是80，而HTTPS的默认端口号是443。
- HTTPS协议需要到CA机构申请证书，一般免费证书较少，因而受到中间人攻击的威胁较小。
- HTTPS协议需要CA证书，部署麻烦，且需要维护更新证书。
- HTTP协议连接的是明文传输，容易被窃听、监听和篡改；HTTPS协议加密数据包，保护用户隐私信息。