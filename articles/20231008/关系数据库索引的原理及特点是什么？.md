
作者：禅与计算机程序设计艺术                    

# 1.背景介绍


关系数据库索引（RDBMS Index）是存储在关系型数据库中的数据结构，用来快速找到一个或多个记录的位置。索引可以帮助数据库高效地检索数据，提高查询效率，同时减少磁盘 IO 操作。但索引的建立、维护和优化需要耗费大量的时间，因此索引的设计也具有一定的技巧性。所以，了解索引的原理及特点能够对后续的工作和优化有所帮助。
# 2.核心概念与联系
关系数据库索引有很多种类型，主要包括 B-Tree 索引、Hash 索引、GiST 索引、SP-GiST 索引、B+ Tree 索引等。其中，B-Tree 和 Hash 是最常用的两种索引结构。以下简要介绍这两种索引的基本原理和特点。
## 2.1 B-Tree 索引
### 2.1.1 定义
B-Tree 索引（英语：B-tree index），是在 B-Tree 数据结构的基础上构造出来的一种索引结构。B-Tree 索引由多棵平衡的 B-Tree 组成。每棵 B-Tree 的内部节点存放着索引值（可以理解为关键字），而叶子节点则存放了对应的数据记录。
### 2.1.2 特点
- 查询时间复杂度为 O(log n) ，相对于 Hash 索引来说更快；
- 支持范围查询、排序等高级功能；
- 插入删除性能差，频繁更新时会导致树的不平衡。
### 2.1.3 使用场景
应用于经常进行范围查询、排序或者聚集计算的字段。
## 2.2 Hash 索引
### 2.2.1 定义
Hash 索引（英语：hash index）是通过将索引键根据某种函数转换为数组下标的方式，将索引映射到数据的物理位置。也就是说，索引是建立在数据表上的一张虚拟的、物理上也不存在的表，它只是为了方便查找，提供一个快速访问数据的方式。
### 2.2.2 特点
- 查询速度快，但是不能用于顺序查找、范围查询、排序等高级操作；
- 只支持等值比较查询。
### 2.2.3 使用场景
适合对等值条件查询，且不会出现性能问题的场合。比如，用于主键查找的唯一索引。
## 2.3 总结
综上所述，B-Tree 索引支持多种高级查询功能，尤其适合用于需要大量范围查询、排序等场景。而 Hash 索引由于其特殊的存储方式，只支持等值比较查询功能，而且只能用于特定场景。因此，如果需要高速查询，同时又不需要排序、范围查询等功能，那么选择 B-Tree 更加合适；如果需求中仅仅包含等值查询，可以使用 Hash 索引，这样查询速度更快，节省空间。但是，应注意的是，不要过度滥用索引，索引过多也会降低数据库的查询性能。另，对于 MySQL/MariaDB 数据库，建议使用 InnoDB 引擎，因为它们使用了 B-Tree 索引。
# 5.参考文献