                 

# 1.背景介绍


Python的设计模式(Design pattern)又称“面向对象设计法”或“一切皆对象设计法”，是解决特定类别问题的一套经过良好定义、系统化的方法论。它的目的是为了能够在开发中复用一套可扩展的、可重用的代码。

设计模式可以分为创建型、结构型、行为型三种类型，每一种都描述了一个问题的最佳方案。例如：

1. 创建型模式：主要用于帮助创建对象的过程，包括工厂方法模式、抽象工厂模式、单例模式、建造者模式等。
2. 结构型模式：主要用于处理类或者对象的组合关系，包括适配器模式、装饰器模式、代理模式、外观模式、桥接模式、组合模式等。
3. 行为型模式：主要用于描述类或者对象间的通信方式及其不同状态下的行为，包括策略模式、模板方法模式、迭代子模式、观察者模式、责任链模式等。

Python实现了面向对象编程语言的一些基本机制，如动态绑定、多态性、垃圾回收机制、异常处理机制等，同时也提供了大量的库和工具来简化开发，如列表推导式、生成器表达式、迭代器协议、上下文管理器、函数装饰器等。因此，Python也可以作为一种面向对象的语言来使用设计模式。

基于Python的设计模式主要分为两类:
- 大众认知的设计模式：这些设计模式广泛被各种开发人员所熟悉，例如Builder模式、Factory模式、Singleton模式等。这类模式常见于各种语言的软件开发框架中。
- “Pythonic”风格的设计模式：它们虽然通常被认为是非常高级的设计模式，但却和Python特性紧密相关。比如，Python的鸭子类型允许子类无需修改父类的接口就可以直接使用，这种特性使得Python实现了Duck Typing（鸭子类型）设计模式。另外还有Pythonic风格的装饰器模式、反射模式等等。

因此，我们可以将Python的设计模式分为两大类，即大众认知的设计模式和“Pythonic”风格的设计模式。

# 2.核心概念与联系
## 2.1 模式概览
|模式名称|中文名|英文缩写|适用场景|示例|
|---|---|---|---|---|
|Builder|建造者模式|builder|用于创建复杂对象|数据映射表、DOM树的构建|
|Factory Method|工厂方法模式|factory method|用于创建对象而不指定具体类|数据库连接池的实现、文件读取器的创建|
|Abstract Factory|抽象工厂模式|abstract factory|用于创建一组相关的对象|游戏中的战斗力计算器、GUI组件的生成|
|Prototype|原型模式|prototype|用于创建多个类似对象|对象克隆的实现|
|Singleton|单例模式|singleton|保证一个类仅有一个实例存在|数据库连接池、线程池、日志记录器等|
|Adapter|适配器模式|adapter|用来匹配两个 incompatible interfaces|面部识别系统的转换器、旧版数据库系统的访问|
|Bridge|桥接模式|bridge|把一个复杂系统划分成抽象和实现两个层次|电脑系统的硬件和软件层次、文件传输系统的用户界面层和核心业务逻辑层|
|Decorator|装饰器模式|decorator|增强对象功能|打印日志、事务控制、权限校验|
|Facade|外观模式|facade|提供一个简单统一的接口|服务器操作系统的接口|
|Flyweight|享元模式|flyweight|减少内存消耗、提升性能|字体缓存、图像缓存|
|Proxy|代理模式|proxy|控制对原始对象的访问|远程服务调用、消息预处理、延迟初始化|
|Chain of Responsibility|责任链模式|chain of responsibility|多个对象依次处理请求，直到成功或失败|事件通知、Web请求处理|
|Command|命令模式|command|封装命令、参数和执行者，并提供统一的接口|移动鼠标、拷贝文件、打开窗口|
|Interpreter|解释器模式|interpreter|实现简单的语言解释器|SQL查询解析器、符号运算解释器|
|Iterator|迭代器模式|iterator|提供顺序访问集合元素|数组迭代器、链表迭代器|
|Mediator|中介模式|mediator|用来降低对象间的耦合度，使各对象只关注自己的行为|MVC中的控制器、TCP/IP网络栈|
|Memento|备忘录模式|memento|提供恢复之前对象状态的能力|编辑器撤销/恢复操作|
|Observer|观察者模式|observer|建立一对多依赖关系，当对象改变时自动通知其他对象|按钮点击事件监听、日历视图更新|
|State|状态模式|state|允许对象在内部状态发生变化时改变行为|交通信号灯状态切换、动画播放器状态转换|
|Strategy|策略模式|strategy|定义一系列算法，将每个算法封装起来并替换同样的方法|排序算法选择、压缩/加密算法选择|
|Template Method|模板方法模式|template method|定义一个操作序列框架，将子类化点交给子类完成|各种页面的渲染流程|
|Visitor|访问者模式|visitor|表示一个作用于某对象结构中的元素的操作，它使我们可以在不改变该对象结构的前提下定义作用于此结构的新操作|模拟古董机翻译、文档转换|