                 

# 1.背景介绍


## 一、计算机的软硬件架构
### （1）软件层（Operating System OS）：提供运行环境、方便用户使用计算机资源、管理存储器和I/O设备。它控制着各种资源（如CPU、内存等），并向上提供接口供应用层调用。
### （2）系统调用接口：应用程序通过调用系统调用接口向操作系统申请资源或执行特定任务。系统调用接口在OS中实现，是OS对外提供服务的重要方式之一。
### （3）硬件层（Central Processing Unit CPU）：由运算器、控制器、寄存器组成，负责执行指令序列，完成各种数据处理。
### （4）BIOS/UEFI：用于初始化硬件设备并启动操作系统的固件。
## 二、单核CPU的缺陷
1. 处理能力瓶颈：单个CPU只能执行少量的计算任务；
2. 内存访问延迟高：由于一个CPU只能运行一个程序，导致内存的访问延迟相对较高。 
3. 计算密集型任务无法有效利用多核CPU资源。
## 三、并行计算的两种方式
1. 多进程模式(multiprocessing)：多个进程同时运行在不同的内存空间；
2. 多线程模式(multithreading)：同一个进程内的多个线程运行在不同的内存空间。
## 四、并发与并行
**并发：**两个或者更多事件在同一个时间间隔发生。在这个过程中，只有一个事件处于活动状态。这种方式称为串行或串行化处理。比如打电话时，一个人接电话另一个人不能说话；
**并行：**两个或者更多事件在同一个时间间隔发生。在这个过程中，可以同时发生多个事件。这种方式称为并行或并发处理。比如同时播放音乐，两首歌同时开始播放。
## 五、多进程与多线程的区别
### 1. 创建方式不同
多进程创建方式：通过fork()系统调用，调用一次，就会创建一个子进程，并且当前进程和子进程之间共享内存空间。但是需要注意的是，子进程会复制父进程的所有数据结构，包括全局变量。
多线程创建方式：通过pthread库函数，创建新线程。每一个线程都有自己独立的栈和局部变量。因此，线程之间不共享内存空间。
### 2. 执行顺序不同
多进程模式下，主进程先启动，然后再创建多个子进程，每个子进程分别执行任务，最后回收销毁；而多线程模式下，主线程先启动，然后创建多个线程，每个线程执行任务，最后回收销毁。也就是说，多进程模式下所有进程都是平等竞争地被调度，各自独立地运行；而多线程模式下，所有线程均在一个进程内运行，因此一个线程挂掉将导致整个进程挂掉。
### 3. 通信方式不同
多进程间可以通过IPC方式通信，而多线程间只能通过共享内存的方式通信。
### 4. 系统开销不同
系统开销方面，由于多个进程之间需要拷贝相同的数据到内存，因此创建进程的代价要比创建线程小很多。但是也正因为如此，多进程模式下，系统资源开销增大，容易出现死锁和资源竞争问题。多线程模式下，系统资源开销小，切换线程比切换进程效率高。