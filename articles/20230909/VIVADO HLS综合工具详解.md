
作者：禅与计算机程序设计艺术                    

# 1.简介
  

Vivado HLS (高级硬件设计语言) 是Xilinx公司推出的一款用于生成可综合、高效能、可靠性且价格低廉的FPGA软核的工具。其实现了在C/C++或VHDL等编程语言中用高层次综合语言描述硬件设计逻辑的功能。它的主要特性如下：

1）基于数据流图模型：Vivado HLS采用数据流图模型（Dataflow Graph Model），它将高层次综合语言指令转换成数据流图，再利用优化算法将数据流图转化为电路形式。
2）支持多种RTL语言：Vivado HLS可以接受Verilog、VHDL和SystemVerilog作为输入文件。同时还支持Verilog-Agnostic Language(VLL)和SV，这两个语言不受Verilog兼容性限制。
3）灵活的参数配置：Vivado HLS提供了丰富的参数配置，可以灵活地调节编译器参数以提升性能。
4）高效运行时引擎：Vivado HLS运行时引擎的运算速度可以达到理论上限，该引擎使用纯软件方法构建，并采用分而治之的策略进行优化，有效提高资源利用率。

HLS可以帮助工程师解决复杂的综合和优化问题，缩短开发周期，加快仿真、仿真仿真流程的结束，降低制造成本，实现更快的发展速度。因此，HLS在当今物联网、移动互联网、云计算、人工智能领域都有着广泛的应用。
# 2.基本概念术语说明
## 数据流图（Dataflow Graph）
在数据流图模型中，所有的硬件逻辑描述都由数据流和运算符构成。在数据流图中，信号的流动是通过路径相连而定义的。数据流图中包括两个类别的数据结构：

1）数据节点（Data node）：数据节点表示在数据流图中数据的逻辑意义，例如存储器中的数据或运算结果。每个数据节点都有一个唯一标识符，可以用来连接其他数据节点或者与外部信号相连。

2）算术逻辑单元（ALU）：ALU代表硬件逻辑运算，例如加法、乘法、比较等。ALU可以连接多个数据节点并产生新的结果数据节点。

数据流图可以表示任意类型的硬件逻辑，从简单的状态机到较复杂的网络协议处理，甚至还可以表示多线程任务执行过程。

## 分布式系统（Distributed System）
分布式系统是一个硬件架构，使得计算机的运算能力分布于不同的处理器之上，分布式系统通常采用共享内存的方式进行通信，每个处理器拥有自己的本地内存。分布式系统可以通过消息传递、异步通信的方式进行通信。

## 空间循环（Spatial Looping）
空间循环是一种设计方法，能够有效地解决资源约束问题。空间循环是在设计网表面的时候引入的，其目的是减少时序逻辑区域，提高空间利用率。

空间循环通过对数据的局部化处理，即只需要处理相应的数据块，就可以提高整个设计的利用率。空间循环能够将资源的重复利用率最大化，并能减少电路尺寸。同时，空间循环还可以防止冲突，使得信号之间的相互依赖关系变得可预测，进而避免发生竞争。空间循环能够减小时序逻辑区域的数量，因此也能够降低时序逻辑上的开销。
## 时钟域（Clock Domain）
时钟域表示数字设计中所使用的不同时钟信号的集合。时钟域的划分方式一般有以下两种：

1）全时钟域：在全时钟域中，所有模块都使用一个全局的标准时钟信号。这种时钟域的使用方式最简单，但只能提供时延抖动最小的设计。

2）分时钟域：在分时钟域中，所有模块各自有自己的时钟信号，但它们的频率差异可以忽略不计。这种时钟域的使用方式要比全时钟域复杂一些，但能提供更精确的时钟控制。

时钟域的选择直接影响到整个设计的时序性能，所以根据实际情况选择正确的时钟域非常重要。

## 晶体管网络（Cell-Net）
晶体管网络是指把多个晶体管放置在同一片场地中，并通过电路互连的方式组成的逻辑电路。晶体管网络可以极大地降低集成电路的尺寸、功耗和面积，使得逻辑电路的封装、测试和维护变得更加容易。
## 模块化设计（Modular Design）
模块化设计是一种面向硬件设计的设计模式，将复杂的功能模块化，逐个集成到主控制器中，从而实现高度模块化的设计，提高硬件的可维护性和复用性。模块化设计的特点是能够有效地管理复杂的设计，使得维护工作量大幅度降低。

模块化设计将一个大的逻辑电路拆分成一个个独立的功能模块，每个模块完成一个简单明确的功能。每一个模块都具有良好的接口规范，通过接口可以与其他模块相连，实现功能模块的集成。

## 库存转储库（Backup Library）
库存转储库是一种电子设计自动化工具，可以在硬件设计的某个阶段暂停某个模块，保存当前设计的状态，并将它留在库存转储库里，待恢复后继续工作。库存转储库对于需要频繁修改设计的工程师来说很有帮助。

## 文件格式（File Format）
文件格式是指用于描述硬件设计逻辑的文件格式。文件格式的类型很多，比如Verilog、VHDL、IPXACT、FPGA的约束文件、生成配置文件、报告文件等。其中，Verilog HDL和System Verilog都是HLS最常用的两种语言。