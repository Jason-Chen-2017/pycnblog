
作者：禅与计算机程序设计艺术                    

# 1.简介
  

KubeEdge 是什么？它是一种开源的边缘计算框架，使开发人员能够轻松地将物联网（IoT）设备、云端应用程序及其之间的数据流动部署在边缘计算节点上。KubeEdge 基于 Kubernetes 提供了一套简单易用且可扩展的 API 和命令行工具，可以方便用户管理各种边缘设备并编排它们之间的工作负载，从而实现对数据的实时处理、分析、过滤等功能。
KubeEdge 的主要功能包括：

- **机器学习**（ML）：支持机器学习模型训练、推理，以及集成到边缘计算任务中；
- **边缘容器化**（Edge Containerization）：支持容器编排，包括 Kubernetes 在内的其他编排引擎；
- **边缘自治**（Self-Management）：支持自动化配置、部署、管理、监控等工作流程，实现对边缘资源的自主管理；
- **边缘服务**（Service at Edge）：支持服务发现、负载均衡、路由策略等功能，实现应用于边缘端的业务逻辑部署和协同工作；
- **海量数据**（Massive Data）：支持对超高速、多维、海量数据进行快速处理，同时具备低延迟和较高吞吐率的能力；
- **可观测性**（Observability）：支持丰富的仪表盘、监控指标、日志查询等，可帮助管理员及时掌握集群和边缘节点的状态；
- **安全性**（Security）：提供完整的身份验证和授权机制，支持多种访问控制方式，提升边缘节点的安全性；
# 2.核心概念术语说明
## 2.1 Kubernetes
Kubernetes 是当前最热门的开源容器编排引擎之一。它是一个开源系统，用于自动化部署、弹性扩展和管理容器ized应用。它具有以下特点：

1. 可扩展性：允许通过插件形式添加新的功能，如持久卷、调度策略、DNS 管理器等；
2. 自动缩放：根据应用的需求动态调整 pod 数量，让应用无需停机即可实现扩容或缩容；
3. 服务发现和负载均衡：支持通过 DNS 或者 API 发现服务，并通过网络负载均衡器分发请求；
4. 滚动更新：支持部署中的 pod 版本升级，确保应用始终保持可用性；
5. 自我修复：当节点故障时，会自动拉起 pod 来重新调度，确保应用始终处于健康状态；
6. 密钥和证书管理：支持自动化的密钥和证书管理，包括为不同的应用生成唯一的证书签名请求 (CSR) 文件；
7. 资源配额和限制：支持设置每个命名空间的资源配额，防止某个应用占用过多的系统资源；
8. 自动装箱：支持将依赖项打包到镜像中，减少应用的大小，加快部署速度；
9. 扩展插件机制：允许第三方开发者开发自己的控制器、应用交付接口 (ADI)，或者其他插件，用于扩展 Kubernetes；

Kubernetes 架构图如下：


以上架构图展示了 Kubernetes 系统的组件及各个模块之间的关系。
## 2.2 Knative
Knative 是谷歌开源的构建和运行 Serverless 应用的方案。它提供简单易用的 Kubernetes 接口和工具，帮助开发者快速、轻松地创建和部署基于容器的无服务器函数。Knative 将 Kubernetes 中的基础设施抽象为一个通用的“服务”概念，开发者可以使用这个服务概念来声明应用需要的任何类型的计算资源，包括 CPU、内存、存储和网络等，而无需担心底层基础设施如何提供这些资源。Knative 中有多个服务运行时，包括 Knative Serving、Eventing、Build 等。其中 Knative Serving 用于提供 serverless 函数的运行环境。Knative Serving 为 Knative 的核心组件之一，通过提供资源管理和编排服务，解决了开发者面临的主要痛点——开发、测试、部署和监控等环节，同时还提供了简化的部署流程、丰富的自动伸缩能力、高度可用的服务质量保证、灵活的应用连接和服务路由模式。

## 2.3 KubeEdge
KubeEdge 是由华为云 openEuler 发起，面向边缘计算领域的开源项目，它是一个基于 Kubernetes 技术栈的开源框架，用于将云端的 Kubernetes 集群扩展到底层 IoT、低功耗设备甚至传感器等边缘节点。它提供了一个统一的编程模型，允许云应用和边缘设备可以很容易地互相融合。KubeEdge 也是 CNCF（Cloud Native Computing Foundation）毕业的顶级项目，作为 Kubernetes 在边缘领域的典范。它的架构图如下所示：


KubeEdge 分别在云端和边缘端运行 Kubernetes 集群，分别称为 CloudCore 和 EdgeCore。云端 Core 模块包括控制平面、API 服务器、调度器、ETCD 数据库等；边缘端 Core 模块则包括本地代理（Kubelet）、联邦代理（EdgeMesh）、Web Socket Gateway、Runtime Security Manager 等。

KubeEdge 在边缘节点上提供边缘容器运行时（Edge Runtime），运行时按照 Kubernetes 规范运行应用，提供应用生命周期管理、服务发现、消息路由、配置管理等功能。另外，它还支持边缘节点的机器学习、流处理和事件驱动计算，并提供丰富的 SDK 和组件，帮助开发者轻松地将云端 Kubernetes 集群扩展到边缘节点。