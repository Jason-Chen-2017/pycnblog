
作者：禅与计算机程序设计艺术                    

# 1.简介
  

在机器学习领域中，数据预处理（data preprocessing）是指对原始数据进行一系列变换，从而得到可以用于训练模型的数据。其中，数据的中心化（centerization）是一个重要的预处理步骤。它的主要目的是将每个特征（feature）转换到均值为0方差为1的分布上，方便后续模型的训练及应用。数据中心化一般包括以下三个步骤：

1. 中心化之前需要对数据进行标准化（standardization），即将所有属性值转换到同一个量纲下（通常采用零均值和单位方差）。这是因为数据中心化依赖于各个属性值的相对位置，若各属性值在不同量纲下则可能会受到影响。

2. 将每个属性的均值设为0，使得各属性相对于中心点的偏移量（offset）都为0。这里有一个小技巧就是求出所有属性的平均值，然后再减去这个平均值。这样做不仅可以将属性变成零均值，而且还可以消除某些属性可能具有更大的影响力的问题。

3. 将各属性的方差设为1，使得每个属性占据的比例相同。

我们以“销售额”作为例子，假设我们要预测一个城市的销售额，那么每个城市的销售额都是可以观察到的。然而，由于存在不同的量纲，比如有的地方的销售额是以千元计算，有的地方是以万元计算，有的地方是以亿元计算等等，所以要先将所有的销售额都转换到同一个量纲下才能进行数据中心化。下面以房价为例，说明如何进行数据中心化：

首先，对原始数据进行标准化：

|         | 北京 | 上海 | 深圳 |... |
|---------|------|------|------|-----|
| 房价    |  700 |  900 |  800 |... |
| 价格/平米|    1 |    1 |    1 |... |

将房价每户除以价格/平米，得到平米价，如：

|         | 北京 | 上海 | 深圳 |... |
|---------|------|------|------|-----|
| 房价/平米|    7 |    9 |    8 |... |

然后，求出所有属性的均值：

均值 = (北京 + 上海 + 深圳 +...) / n

其中n是样本总数；

得到：

|         | 北京 | 上海 | 深圳 |... |
|---------|------|------|------|-----|
|均值|     700|    900|    800|...|

最后，求出各属性的方差：

方差 = （（北京-均值）^2 + （上海-均值）^2 + （深圳-均值）^2 +...） / n 

得到：

|         | 北京 | 上海 | 深圳 |... |
|---------|------|------|------|-----|
|方差|   14000|  18000|  16000|...|

最后，进行中心化处理：

X’ = （X - 均值）/ sqrt(方差)

得到：

|         | 北京 | 上海 | 深圳 |... |
|---------|------|------|------|-----|
| X' | 0 | 0 | 0 |...|

以上便是房价数据中心化的全部过程。通过数据中心化，我们消除了不同量纲带来的影响，将每个属性都转换到均值为0方差为1的分布上，方便后续模型的训练及应用。