
作者：禅与计算机程序设计艺术                    

# 1.背景介绍


## 概念简介
计算机网络(Computer Networking)是指将地球上或不同局域网通过电缆、光纤、无线电等物理媒介连接起来的数据通信，使得它们像单个系统一样能够进行信息交换和资源共享的系统。在现代社会，计算机网络的应用范围十分广泛，涉及计算机通信，计算，存储，娱乐，金融等各个领域。随着信息技术的不断发展和应用需求的不断扩大，网络技术越来越复杂，使得网络工程师的知识面越来越宽广。对于一个技术人员而言，掌握并理解计算机网络基本概念是非常重要的。
## 计算机网络的组成结构
计算机网络由许多不同的硬件和软件构成，如：路由器、集线器、交换机、防火墙、服务器、PC机、打印机、调制解调器、智能终端设备、移动通信设备等。这些设备之间通过各种传输协议(如TCP/IP协议、Ethernet协议、Wi-Fi协议等)进行通信。如下图所示：
其中，路由器是连接各个局域网的中枢，负责数据包的转发；集线器则是一个将多个电话线、无线信道、传真线、电力线等连接起来的电缆设备，可以用来扩展局域网；交换机是一种电路交换设备，它接收发送到同一网络上的所有数据包，然后根据特定的规则对其进行转发；防火墙又称网络安全设备，主要用于保护局域网内部的数据安全，过滤掉恶意的数据包；服务器是提供网络服务的计算机；PC机通常运行着网络浏览器、邮件客户端、视频播放器等应用程序；打印机是将文档直接打印到指定的文件夹的设备；调制解调器是将数字信号转换为模拟信号的硬件设备；智能终端设备也叫终端节点(End Node)，即支持网络接入、数据传输、远程操控等功能的网络设备。移动通信设备是指安装在住宅楼道、办公室、商场等户外使用的移动通信设备。
## 互联网概述
互联网(Internet)是利用因特网协议(TCP/IP协议族)标准化的网络互连系统。它是一个基于互联网协议(IP协议)的分布式网络体系结构，由一组结点(网络设备)组成，包括客户机、服务器、路由器、交换机等。互联网为人类提供了获取最新科技新闻、商务信息、图片、视频等众多形式的信息源。目前全球已有超过三亿的互联网用户。目前，互联网已经成为一种基础设施，成为了世界经济的支柱之一。随着互联网的发展，越来越多的人使用网络作为生活中的一部分，比如上网冲浪、购物、网聊、微博留言、论坛评论等，网民数量呈爆炸式增长。
## 互联网的历史发展
### ARPANET(阿帕网)
1969年3月，美国国防部重建的阿帕网项目成功地架起了两台主要的主机计算机之间的通信线路，此后，这种分布式的计算机系统网络就被称作阿帕网(ARPANET)。由于阿帕网项目的基础设施比较落后，所以它只能承载少量的通信事务，因此，当时很多网络爱好者在该项目上开发出了很多初期的网络应用。
### NSFNET(NSF网)
1973年5月，美国国家科学基金会(National Science Foundation)向阿帕网提供计算机资源，设计了新的网络互联系统，命名为NSFNET。NSFNET首先是用运行Linux操作系统的机器作为路由器、文件服务器，然后用微型计算机组成的小型局域网作为通信平台。NSFNET曾经对工程界产生过巨大的影响，例如NSFNET的作者<NAME>把它作为一项重要的计算机研究项目，并得到了哈佛大学(Harvard University)和耶鲁大学(Yale University)的支持。1974年，NSFNET的性能有了显著提升，远超了当时的互联网。
### Internet Protocol(IP)协议
1974年，蒂姆·伯纳斯-李发明了互联网协议(Internet protocol IP)，它使得两个相邻的计算机之间可以进行通信。至今，互联网的所有通信都依赖于IP协议。IP协议包含两部分，即网际层和运输层。
#### 网际层(Internet Layer)
网际层(Internet layer)负责寻址和路由选择。一个IP数据报从源地址发送到目的地址需要经过多个路由器，每经过一个路由器，IP数据报中的头部的目的地址就会发生改变。每个路由器都会把收到的IP数据报重新封装并发送到下一个目的地址。
#### 运输层(Transport Layer)
运输层(Transport layer)负责建立、维护、断开连接以及可靠传输数据。它实现不同协议之间的通信，包括TCP、UDP和SCTP等协议。TCP协议保证数据完整性，它采用三次握手建立连接、四次挥手释放连接，并对数据进行重排序。UDP协议是一种不可靠传输协议，它的优点是速度快，适合实时通信。SCTP协议是一种流控制传输协议，能够进行流的拥塞控制。
## Internet协议栈
在计算机网络中，网络协议按照不同层级组织，如下图所示：
物理层：定义物理设备和传输媒介特性，如同轴电缆的传输距离，双绞线的带宽，光纤的抗干扰能力等。
数据链路层：处理比特流，检错、差错控制、访问控制。
网络层：路由选择和数据包的封装、转发。
传输层：建立、维护、断开传输连接，提供可靠的通信。
应用层：网络通讯时应用进程之间的接口。
互联网协议栈：包括互联网层、网络层、传输层、应用层四层协议。互联网层负责管理整个网络，对上面的各种协议提供统一的接口，并与传输层和应用层交互。网络层负责路由选择，负载均衡等，它主要依靠IP协议完成，IP协议的作用是确定两个结点之间的路径。传输层负责建立、维护、断开传输连接，并对应用层产生的数据进行传输，传输层中最著名的是TCP协议和UDP协议。TCP协议提供可靠的通信，它建立连接、保持连接、断开连接。UDP协议是一种不可靠的传输协议，它的优点是速度快，适合实时通信。应用层负责为应用程序提供网络服务，主要包括HTTP协议、SMTP协议、FTP协议、SSH协议等。