
作者：禅与计算机程序设计艺术                    

# 1.简介
  

　　文件操作（File operation）是指对文件进行读、写、删除等操作，如读取、保存文件中的数据、创建新文件、修改已有文件的内容、删除文件等。在实际应用中，文件操作经常被用到，比如在计算机网络上传输文件、进行数据备份、处理文件的文本内容、生成报告文档、导入导出文件等。

　　Python提供了许多内置函数用于文件操作，如open()函数用于打开一个文件、read()函数用于读取文件中的内容、write()函数用于写入文件、seek()函数用于移动文件指针位置、flush()函数用于刷新文件缓冲区等。这些函数虽然简单易用，但是并不直观，适合做一些简单的操作，对于复杂的文件处理任务就显得力不从心了。

　　为了解决文件操作中遇到的各种问题，开发者们设计出很多更高级的API，如csv模块、xml模块、json模块、PIL(Python Imaging Library)库、smtplib模块、email模块、tarfile模块等。这些模块能够帮助开发者处理常见的文件处理任务，但是需要学习和掌握额外的知识才能熟练运用。

　�Python中的文件操作可以分为输入输出流（I/O streams）、二进制流（binary streams）和低级文件操作三种类型。

　　1.输入输出流I/O Streams

　　对于文本文件，使用Python打开文件时，会返回一个文本文件对象（TextIOWrapper），通过该对象可以读取文件内容、写入文件内容。例如：

```python
with open('example.txt', 'r') as f:
    content = f.readlines()
    for line in content:
        print(line)
```

　　2.二进制流Binary streams

　　对于二进制文件，使用Python打开文件时，会返回一个二进制文件对象（BufferedReader或BufferedWriter）。二进制文件对象支持读取文件内容、写入文件内容、查找指定字符串、替换字符串等操作。例如：

```python
    data = f.read()
        new_f.write(data)
```

　　3.低级文件操作Low-level file operations

　　对于二进制文件，使用Python打开文件时，会返回一个文件描述符，可以使用系统调用函数对文件进行操作，例如：

```python
import os

fd = os.open('example.txt', os.O_RDWR | os.O_CREAT) # 创建文件描述符
os.write(fd, b'Hello world!\n') # 写入文件
os.close(fd) # 关闭文件描述符
```

　　以上代码创建了一个名为"example.txt"的文件，然后写入了"Hello World!"，最后关闭了文件描述符。此外，还有很多其他的系统调用函数可供使用。

　　　总结：

　　根据文件类型选择相应的I/O Stream、Binary Stream或Low-level File Operations即可实现不同类型的文件操作，不同方式的选择会影响效率和效率的控制能力。一般来说，建议优先考虑使用I/O Streams或Binary Streams，因为它们在处理较小文件时比低级文件操作要快很多。如果需要更多的控制能力，才考虑使用低级文件操作。

　　接下来，我们将详细介绍文件操作相关的知识点。

# 2.基本概念术语说明
## 2.1 文件和目录
　　文件是存储在磁盘上的数据集合，每个文件都有一个唯一名称，可以存放特定类型的数据，如文本文件、图像文件、视频文件等。

　　目录是用来组织文件的文件夹，它类似于Windows操作系统中的文件夹，里面可以存放多个文件和子目录。在UNIX操作系统中也有类似的文件夹结构，不过它的层次结构可能比较复杂。

　　1.绝对路径与相对路径

　　文件路径是指文件所在位置的描述信息，包括文件名、路径名（可以是相对路径或者绝对路径）。其中，相对路径表示相对于当前目录的位置，而绝对路径则表示从根目录（假设是“/”）开始计算的完整路径。例如，当我们浏览文件系统时，当前所在的目录称为工作目录，工作目录的绝对路径就是当前所在的路径；而相对路径则表示从某个指定的目录开始计算的相对位置。

　　例如，假设当前目录为“/usr/home”，想要访问目录“/usr/bin”下的文件，可以通过以下两种路径方式：

```
绝对路径：/usr/bin/ls
相对路径：../bin/ls
```

第一种方式使用绝对路径，而第二种方式使用相对路径，它表示从“/usr/home”目录向上走两级（即父目录）后再到达目标目录“/usr/bin”。

　　另外，“.”和“..”符号也可以作为相对路径的符号。“.”代表当前目录，“..”代表父目录。例如，“./example”表示当前目录下的“example”目录，而“../example”则表示上级目录（即父目录）下的“example”目录。

　　2.扩展名


　　3.特殊文件

　　Linux系统定义了一些特殊文件，如设备文件（如tty、socket）、命名管道（named pipe）、符号链接（symbolic link）等。这些文件不能通过标准I/O函数打开，只能通过特殊的函数进行操作。另外，还存在着各种别名文件，它们可以指向同一文件。

　　常见的特殊文件如下所示：

```
设备文件：/dev/null      空设备文件，读写都不会发生，任何写入都会消失
                   /dev/zero     只读文件，内容全为0
                   
命名管道：fifo           命名管道，两端独立运行的进程间通信机制，先进先出
                   tcp socket    TCP协议的套接字，通常用于网络通信
                   
符号链接：soft link       soft link是另一种路径名，它指向另一个文件或目录
                   hard link     hard link是创建一个新的inode，指向原始inode的引用
```