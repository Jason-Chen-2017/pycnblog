
作者：禅与计算机程序设计艺术                    

# 1.背景介绍


## 为什么要学习设计模式？
### 概念
设计模式（Design pattern）是一个可复用的、面向对象的、创建型的软件设计模板，它能提高代码质量、可维护性、扩展性和可重用性等特性。通过应用设计模式，开发人员可以简化并更好地实施面向对象编程方法，并有助于避免一些常见的设计陷阱和错误。一般来说，设计模式分为三大类：创建型、结构型和行为型。

### 用途
设计模式作为一套被反复使用的解决方案，其基本目的就是为了能够在面对需求变更时提供一个经过验证的通用结构，使得软件设计的不断迭代和演进更加容易，从而让代码编写者从繁琐的重复工作中解放出来。

设计模式有许多优点，例如可以降低软件设计与开发难度，缩短开发周期；提高代码的可读性、可理解性、可靠性和可扩展性；方便团队间的沟通协作，促进开发人员之间的合作；提升软件质量，降低软件 bugs 的出现率；保护性措施，减少软件缺陷或安全漏洞等。但同时也需要考虑到它们所带来的一些副作用，比如增加了代码的复杂度、意外情况的可能性增加等。因此，在实际项目中选择适合自己的设计模式，既要合理利用，又要充分关注可能出现的问题及后果。

### 为何选用 Java 语言？
Java 是目前最流行的编程语言之一，也是世界上应用最广泛的编程语言。市场份额占据绝对优势，有大量的企业都在使用 Java 来进行应用程序的开发。同时，由于 Java 平台本身的功能强大，各种设计模式的实现往往都很简单易懂，可以直接参考案例学习，节约学习成本。另外，Java 本身具有高度的运行效率和稳定性，并且在商用领域也取得了良好的声誉。所以，Java 成为学习设计模式的首选语言。

# 2.核心概念与联系
## 创建型模式
### 工厂模式 Factory Pattern
**定义**：定义一个用于创建对象的接口，该接口将创建对象的任务委托给子类去做。


#### UML类图表示
```
┌─────────┐      ┌────────────┐       
│Factory │──────►│Product     ├───▶ Client
└─────────┘      └────────────┘  
                            │   
                            ▼   
                  ┌────────────┐  
                  │Concrete Factory├──┐ 
                  └────────────┘ │ │ 
                                  │ │ 
                            ┌───▼───┴──┐ 
                            │         │ 
                            │ ProductA│ 
                            │         │ 
                            └─────────┘ 
                                 |  
                                 ▼  
                         ┌──────────┐  
                         │ProductB  ├──┐  
                         └──────────┘ │ 
                                      │ 
                                    ┌──▼─────┐ 
                                    │       │ 
                                    │ ProductC│ 
                                    │       │ 
                                    └───────┘ 
                                            | 
                                            ▼ 
                                        ┌─────────┐ 
                                        │ProductD│ 
                                        └─────────┘ 

```

#### 适用场景
当某个系统中存在多个产品族，而系统中只需创建一个对象就能完成相关操作时，可以使用工厂模式。如，Windows 操作系统中有多个磁盘管理器，但是系统只需创建一个磁盘管理器就可以对多个磁盘进行管理，这里就可以采用工厂模式。

#### 优点
* 将对象的创建与使用相分离，从而降低耦合度。
* 使用户无需知道所需对象的具体类，只需指定类型就可以得到所需对象，因此可在类的内部对对象的创建过程进行细粒度控制。
* 可有效减少系统中的重复代码，尤其是在创建复杂对象时。

#### 缺点
* 当工厂类集中太多的创建逻辑时，会造成类数目膨胀，从而影响系统性能。
* 修改一个产品的工厂类非常麻烦，因为要修改所有涉及这个产品的客户端的代码。
* 增加新的产品时，工厂类中可能会增加很多代码，违背“开闭”原则。