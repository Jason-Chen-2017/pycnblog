
作者：禅与计算机程序设计艺术                    

# 1.背景介绍


计算几何（Computer Graphics），通常缩写为CG，指利用计算机图形学、图像处理等技术，创建、表示、编辑、处理和显示三维信息的科学。它涉及的数据包括几何形状，结构，运动，颜色和材质。在工业界，计算几何用于设计、工程应用、机器人技术、虚拟现实，3D打印，虚拟化等领域。
计算几�径技术包括几何建模、图形算法、计算机渲染、CAD与CAE、物理模拟等。本文将着重阐述计算几何相关的基本知识。
# 2.核心概念与联系
## 2.1.平面上的点、线段、曲线
设有平面上的点P(x,y)，则称其坐标为(x,y)。同样地，设有一条直线L的一般方程ax+by+c=0，则其截距为c=-ax-by；另一条斜率为k且经过某一点O(ox,oy)的直线可以记作Ox+ky=cy+kx。
一般来说，一条曲线可以由多种方式定义，但它们都可以在一定范围内用形式简单易懂的等价函数表示出来。例如，贝塞尔曲线是一种参数方程(parametrization equation)的连续曲线。假定控制点P0(x0,y0), P1(x1,y1),..., Pn(xn,yn)，则Bezier曲线的方程可以表示为:
B(t) = (1-t)^(n-1)*P0 + t^(n-1)*Pn, 0<=t<=1    (1)
其中t取值于[0,1]，n为控制点个数。如果阶数N的Bezier曲线被选中作为近似曲线，则Bezier曲线P(t)有如下递归关系式:
B(t) = ((1-t)^(N-1))*Pn   + (1-t)*(1-(1-t))^((N-1)-1)*(Pn-1)+...+t*(1-t)^(N-1)*(Pn-N+1)      (2)
(2)式中，(Pn-1),(Pn-N+1)代表两端点处的切向量。由于Bezier曲线是全纯的，因此它是平滑的，即它的各阶导数和二阶导数是存在且连续的。
因此，Bezier曲线可以用来对非均匀有理的形状进行精确描述，但是它的绘制和理解比较困难。

另外，还有一些其他的曲线，如弧线、抛物线、椭圆、双曲线等。这些曲线的形态与参数不同，需要不同的方法去描述和分析。

## 2.2.空间上的点、直线、曲面
空间上由位置坐标和方向角度确定一个点，这种点称为三维点或向量(vector)。三维点的位置坐标可以用(x,y,z)来表示，方向角度可以用三轴分量的形式表示，也可以用旋转矩阵或者欧拉角来表示。空间上由两个点之间的直线也叫直线(line)。直线的一般方程是Ax+By+Cz+D=0，其中A,B,C是单位法向量，D是法线到点O的距离。空间中有一个曲面的三个参数方程表示，可用曲面的切线方程来表示。

空间中的曲面有无穷多个，典型的曲面包括圆锥曲面、隐形曲面、狭义相机等。这些曲面可以通过微元法求解。微元法就是把空间划分成细小的片段，每一片段中都有曲面的某些显著特征，如顶点、边缘、表面积。通过微元法计算出来的曲面可以精确而自然地反映物体的形状。

# 3.核心算法原理和具体操作步骤以及数学模型公式详细讲解
## 3.1.平面几何算法
### 3.1.1.求两条线的交点
求两条线的交点可以根据它们所在平面的情况分类：
- 共线的两条线
    - 普通相交
        如果两条线平行于两点，则没有交点。但如果其中一条线延长至第三个点仍平行于第一条线，则有相交点。即两个线都在第三个点的同侧且不经过第一个点，第二个点的外部。
        有公式：交点(x,y)=((c2*b1-c1*b2)/(a1*b2-a2*b1),(a1*c2-a2*c1)/(a1*b2-a2*b1))
    - 平行于两点
        如果两条线平行且有公因子，则没有交点。
        有公式：交点=(p1*v2-p2*v1)/(v2*u1-v1*u2), p1,p2是相互垂直的向量
    - 平行于同一点
        如果两条线平行且只有一个点，则有交点。
        有公式：无
- 不共线的两条线
    - 在同一直线上
        如果两条线平行于同一直线，则没有交点。
        有公式：有，交点与第一条线平行且经过第一个点。
    - 相交于一点
        如果两条线相交于一点，则有交点。
        有公式：无
    - 交于一带
        如果两条线交于一带，则有交点。
        有公式：无
    - 交于一区域
        如果两条线交于一个区域，则有交点。
        有公式：无