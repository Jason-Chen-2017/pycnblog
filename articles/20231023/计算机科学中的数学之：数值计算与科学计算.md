
作者：禅与计算机程序设计艺术                    

# 1.背景介绍


## 概述
本文将详细介绍“计算机科学中的数学”中最基础、重要和基础性的部分——数值计算。
首先，数值计算（numerical computation）是指利用算法及算术运算对模拟问题求解的方法。这一领域由以下几个方面组成：
- 浮点数表示法（floating point representation）
- 多项式（polynomials）
- 分段函数（piecewise functions）
- 求积分和微分（integration and differentiation）
- 随机变量及其分布（random variables and their distributions）
- 代数变换（algebraic transformations）等。
在这篇文章中，我们会对数值计算中重要的一些概念进行阐述，并给出相应的例题，使读者可以更好地理解这些概念。
## 浮点数表示法
浮点数表示法是计算机科学的一个基本主题，它研究如何用二进制数表示实数。浮点数表示法有两种形式：定点表示法（fixed-point notation）和小数表示法（decimal notation）。
### 定点表示法
定点表示法就是把小数转换成固定数量的二进制位。定点表示法的优点是精度高，缺点是不能精确表达一些数值。例如，在一位有效数字的情况下，整数3.75只能被表示成0.11。
```python
0b11   # 表示整数3
0b11.1 # 表示小数3.75
```
### 小数表示法
小数表示法是一种近似表示方法。它的基本想法是将小数展开成多个比特的组合，而每一比特代表一个基数单位的小数部分。小数表示法的优点是能够完整地保存精确的值，但失去了定点表示法的精度。例如，如果采用4个比特作为基数单位，那么整数1/3可以用三个比特表示，而小数0.125只能表示为0.12。
```python
0b001     # 表示整数1/3
0b001.11  # 表示小数0.125
```
不同进制之间的转换需要借助转换表格或者电子计算器。在Python语言中，可以使用标准库`fractions`模块实现小数到二进制字符串的转换。
```python
import fractions
frac = fractions.Fraction(0.125)    # 创建一个Fraction对象
binary_str = bin(int(bin_str))        # 将Fraction对象转化为二进制字符串
print("{:b}".format(frac.denominator))       # 输出分母对应的二进制字符串
print("{:b}.{:b}".format(*divmod(frac.numerator*2**32, frac.denominator)))
                                        # 输出分子对应的二进制字符串
```
此外，还有很多其他的数值类型，如有理数、复数、整型矩阵、浮点型矩阵等。它们也都属于数值计算的一部分。不过对于一般应用来说，浮点数表示法已经足够使用了。
## 多项式
多项式是有限集上的一种线性运算，表示为加权乘积的形式。对于单变量函数$f(x)$，多项式可以表示为如下形式：
$$p(x)=a_{n}x^{n}+a_{n-1}x^{n-1}+\cdots + a_{1}x+a_{0}$$
其中，系数$a_{i}$表示多项式的第$i$个项，$n$表示多项式的次数。多项式还可以用于定义连续函数，例如阶跃函数、指数函数等。

通常，多项式都可以用来近似表示某些函数，例如图形函数、光谱函数、幻方函数等。实际上，对于一个周期性的连续函数，都可以通过一个周期内的多项式来近似表示。因此，多项式也常被用于信号处理、图像处理、数值计算等领域。

### 用Python计算多项式
在Python中，可以使用`numpy`、`sympy`或`mpmath`等第三方库来计算多项式。下面给出两个例子，展示如何利用`numpy`和`sympy`计算多项式。
#### 用numpy计算多项式
```python
import numpy as np
coefficients = [1, -2, 3]    # 多项式的系数组成
degree = len(coefficients)-1 # 获取多项式的次数
domain = (-1, 1)            # 函数的定义域
poly = np.poly1d(coefficients)      # 生成多项式对象
samples = np.linspace(-1, 1, num=100) # 在(-1, 1)范围内生成100个样本点
y = poly(samples)                   # 对样本点求值
```
#### 用sympy计算多项式
```python
import sympy as sp
x = sp.symbols('x')             # 创建符号x
coefficients = [1, -2, 3]      # 多项式的系数组成
degree = len(coefficients)-1   # 获取多项式的次数
poly = sum([coeff * x ** deg for coeff, deg in zip(coefficients, range(degree+1))])
                                                 # 使用匿名函数计算多项式
samples = [-1, -0.5, 0, 0.5, 1] # 在(-1, 1)范围内生成样本点
values = [poly.subs({x: s}) for s in samples]
                                           # 对样本点求值
```