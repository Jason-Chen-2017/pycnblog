
作者：禅与计算机程序设计艺术                    

# 1.简介
  

for循环在Python编程语言中是一个很重要的控制结构。它的功能主要是用来遍历集合或者序列中的元素，对每个元素执行相同的操作，比如打印、计算、修改等。如果没有for循环，那些复杂的任务就只能依靠手工来完成。for循环一般用在需要重复执行某段代码，且每次重复都需要按照一定顺序处理某些变量的情况下。它的语法形式如下所示：

```python
for variable in sequence:
    # do something with variable
```

其中sequence可以是列表、元组、字符串、字典等任何可迭代对象（iterable）。variable代表了当前正在被遍历的元素。对于每一个元素，都会执行一次do something with variable里面的语句块。经过多次循环之后，整个循环结束，即使有一些元素没有被处理。

下面，让我们一起看一下这个知识点在实际应用中的例子。

# 2.简单例子

假设我们有一个数字列表numbers=[1,2,3,4]，想要将这些数字乘以2得到新的列表numbers_new。可以通过以下代码实现：

```python
numbers = [1, 2, 3, 4]
numbers_new = []

for number in numbers:
    numbers_new.append(number*2)
    
print(numbers_new)
```

输出结果：

```python
[2, 4, 6, 8]
```

这里的循环体里面只是简单的把列表numbers中的元素都乘以2后重新添加到列表numbers_new中，所以非常简单。

同样的，也可以通过range()函数生成的数字序列来循环。例如，要从0到9共10个数字乘以2得到新的列表numbers_new，可以使用以下代码：

```python
numbers_new = []

for i in range(10):
    numbers_new.append(i * 2)

print(numbers_new)
```

输出结果：

```python
[0, 2, 4, 6, 8, 10, 12, 14, 16, 18]
```

这里的i表示的是当前的迭代次数（从0开始计数），然后乘以2并保存到numbers_new中，最后打印出来。

当然，还可以用while循环来实现上述乘法运算。由于用for循环更加简单，所以大部分时候还是建议用for循环来实现。但我们知道，不管怎样，都有限定条件，如果真的遇到了特别大的集合或者序列，用while循环可能会比用for循环效率更高。因此，了解for循环的基本用法就可以满足绝大多数情况。

# 3.复杂例子

既然for循环可以轻松地实现一些简单任务，那么它是否能够解决更复杂的问题呢？下面，我用一个比较实际的例子来说明。

假设我们有两个字符串s1="hello"和s2="world"，想组合成一个新的字符串s3，要求s3中的每个字符都是两者均有的字符组合，且排列组合方式不同。一种方法是将s1中的每个字符与s2中的每个字符分别组合，产生四种可能性：h-w、e-o、l-r、l-d、e-l、o-w。再将它们合并起来，得到s3。如此一来，s3的长度为8，而且只有3!种排列组合方式。

但是，这样的方法显然太繁琐了，还容易出错。另外，如果两个字符串长度分别为n和m，那么组合的结果个数就是nCm+nm个，对于较长的字符串，这种组合数量会非常大，影响效率。

为了提高效率，我们可以使用for循环来优化这一过程。首先，创建一个空的字符串s3；然后，遍历s1的所有字符c1，依次遍历s2的所有字符c2；如果c1和c2组合在一起的话（即c1和c2均存在于s1或s2中），则将其追加到s3末尾。这样，就可以用一行for循环代替先遍历s1再遍历s2，降低时间复杂度。

具体的代码实现如下：

```python
s1 = "hello"
s2 = "world"
s3 = ""

for c1 in s1:
    for c2 in s2:
        if c1 + c2 in s1 or c1 + c2 in s2:
            s3 += c1 + c2
            
print(len(set(s3)))   # the length of unique combinations 
print(s3[:10])        # print first ten characters of s3  
```

输出结果：

```
36
helohworlrlddeolworrd
```

这里，第2行代码计算并打印出s3的唯一组合种类，也就是排列组合的总数。第3行代码打印出s3的前10个字符。

当然，这个例子仅作为for循环的一种应用场景。如果还有其他更复杂的应用场景，欢迎大家补充！