
作者：禅与计算机程序设计艺术                    

# 1.简介
  

## Graphviz 是什么？
Graphviz 是开源的自动绘图工具，它被广泛用于生成结构图、流程图、DAG图、甘特图等各种形式的图形文件。它支持多种绘图引擎，包括 dot，neato，twopi，circo，fdp，sfdp，patchwork等。Graphviz 可以在 Linux，Unix 和 Microsoft Windows 上运行。
## 为什么要学习 Graphviz？
图（graph）是计算机科学中最基础的概念之一。许多复杂的系统都可以用图这种数据结构来表示其结构。机器学习领域也有大量涉及到图的应用场景。如果想要更好地理解这些图形，就需要掌握一些图论的知识。而学习 Graphviz 将可以帮助我们在不同领域快速解决各种图形问题。
## Graphviz 适用的场景
Graphviz 适用的场景有很多，比如：
- 生成模型架构图
- 生成决策树、关联分析或因果分析等图
- 模拟网络流量、交换机路由、系统调用等
- 数据流图或系统调用跟踪
- 流程图、状态图、ER图、组织结构图
- 代价估算表、项目管理计划
- 股票市场走势图、公司竞争力分析
- 投资建议或投标结果等可视化输出
除了以上应用场景，Graphviz 的功能远不止这些。因此，无论你是想成为一名数据科学家、AI工程师、架构师还是学生，掌握 Graphviz 都是必要技能。
## 图的常用术语
### 节点（node）
图中的一个顶点（vertex），通常用圆圈表示。每个节点都有一个唯一标识符，用来标识该节点。
### 边（edge）
两个节点之间相连的一条线，由箭头表示。边也可以没有箭头，表示边的方向。每个边都有一个唯一标识符，用来标识该边。
### 子图（subgraph）
多个节点和边组成的子图，通常用矩形框表示。子图内部可以包含其他子图。子图的样式可以自定义。
### 有向图（directed graph）
边存在方向性，即从一个节点指向另一个节点。
### 无向图（undirected graph）
边无方向性，即两个节点间可以双向连接。
### 路径（path）
一条从一个节点到另一个节点的边序列。路径可能穿过多个节点。
### 环（cycle）
一条路径上的所有边都恰好回到起点。
### 连通性（connectivity）
一个图中的节点是否可以互相连通，是指该图中至少存在一条通路。有向图中称为强连通性（strong connectivity）。
### 连通图（connected graph）
所有节点都可以互相连通。
### 完美图（complete graph）
所有节点对都有对应的边。
### DAG（Directed Acyclic Graph，有向无环图）
是一种特殊类型的有向无环图，即任意两个顶点之间只有唯一一条简单路径。如果把图中所有的有向边反转后得到的子图仍然是一个 DAG，那么这个图就是一个 DAG。
### 最大权重匹配（maximum weight matching）
在一个图中找到具有最大权重的匹配。一个匹配是一个独立集，其中每个顶点都与其邻接顶点的一个顶点匹配。
### 生成树（spanning tree）
在一个有向图中，所有顶点之间通过一条路径相连，并且不形成任何环。
## Graphviz 安装与环境配置
Graphviz 安装非常简单，只需按照官网提供的方法安装即可。一般情况下，Graphviz 会自行检测环境，并根据情况安装相应的绘图引擎。但是，我们还是可以通过设置环境变量的方式手动指定使用的绘图引擎。下面介绍如何手动指定绘图引擎。
### 设置环境变量
首先，在命令行输入以下命令，查看已有的 Graphviz 配置：
```
dot -c
```
如果显示 "GraphViz not found. Check the DOT_BINARY environment variable." ，则说明 Graphviz 没有安装成功。你可以参考上面的链接下载安装包进行安装。

之后，为了方便日后调用 Graphviz 命令，可以将 Graphviz 添加到 PATH 环境变量中。在 Linux 或 Unix 操作系统下，编辑 ~/.bashrc 文件，在末尾添加如下语句：
```
export PATH="$PATH:/usr/local/bin" # 添加 Graphviz 路径
```
然后，执行如下命令使修改生效：
```
source ~/.bashrc
```
如果你使用的不是 Linux 或 Unix 操作系统，则可以在 PATH 变量中添加 Graphviz 可执行文件的目录。

最后，设置 DOT_BINARY 环境变量，指定使用的绘图引擎。例如：
```
export DOT_BINARY="/usr/local/bin/dot"   # 使用 dot 引擎
```
这样，当你在命令行下输入 `dot` 时，就会调用 dot 引擎绘图了。