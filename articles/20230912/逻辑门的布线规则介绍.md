
作者：禅与计算机程序设计艺术                    

# 1.简介
  

在电路设计中，由于逻辑门具有五种不同的特性和功能，而在实际应用中又经常被混用，所以在布线时会出现一些复杂情况，如冲突、短路等。为了更有效地利用布线资源，降低成本，提升灵活性与实用性，人们设计出了一系列的“布线规则”，如金字塔型布线规则、网状布线规则、星型布线规则、环形布线规则等，这些规则都是经过不断的演变和优化的，旨在达到最佳的布局效果。
本文将阐述逻辑门的布线规则，并对其进行详细阐述。首先，将简单介绍逻辑门及其种类，然后分别介绍各个规则，最后讨论每个规则的优缺点以及适应范围。
# 2.1 逻辑门的分类
逻辑门（逻辑元素）是电子计算机的一个重要组成部分，它接收输入信号，根据一定的规则输出控制信号。常用的逻辑门有：
* NOT 门：负反相器，输入为高电平时输出为低电平，输入为低电平时输出为高电平；
* AND 门：与门，当且仅当两个输入信号同时为高电平时，输出信号才为高电平；
* OR 门：或门，只要两个输入信号有一个为高电平，则输出信号为高电平；
* NAND 门：与非门，与NOT门的组合，当任意两个输入信号均为低电平时，输出信号才为高电平；
* NOR 门：或非门，或NOT门的组合，当任意两个输入信号均为高电平时，输出信号才为低电平。
下图展示了逻辑门之间的联系关系：
# 2.2 金字塔型布线规则
金字塔型布线规则又称“一维、二维、三维”布线规则，该规则将每一个逻辑门视作一座山峰，沿着横纵轴布线，通过连接这些山峰实现整个逻辑电路的布线。这种布线方式能够最大限度地利用布线资源，并且可以根据具体需求调整连接层级，增加了灵活性。但是，由于连接层级较多，布线难度也随之增大，因此，该规则主要适用于布线简单的电路。

例如，下图中的六个逻辑门之间通过“金字塔型”布线规则进行连接。
## 2.2.1 普通金字塔型布线规则
普通金字塔型布线规则，又称“上、左、右”布线规则，即从上至下、从左至右依次布线。布线方向由上到下，即从逻辑门的顶部到底部连接。布线方向由左至右，即从逻辑门的左侧到右侧连接。如图所示。
采用这种布线规则，可以使得串联逻辑门之间的信号连续地传播，避免出现短路现象。但由于需要连接的逻辑门较少，造价低廉，还可以满足一般需求。
## 2.2.2 互补金字塔型布线规则
互补金字塔型布线规则，又称“上、右、下”布线规则，即从上至下、从右至左依次布线。布线方向由上到下，即从逻辑门的顶部到底部连接。布线方向由右至左，即从逻辑门的右侧到左侧连接。如图所示。
采用这种布线规则，可以保证各个逻辑门的输出独立性，防止出现错误信号。但是，该规则的布局和布线长度较长，不能充分利用布线资源，适用于较复杂的电路。
## 2.2.3 上偏左右布线规则
上偏左右布线规则，又称“上偏、左右”布线规则，即按照水平排布的逻辑门，左侧输出连接到右侧输入，右侧输出连接到左侧输入。如图所示。
采用这种布线规则，可以将较密集的逻辑门排列于顶端，避免出现空间冲突。但是，对于那些高度并行分布的逻辑门来说，布线会比较累，并不一定可以得到最佳布局。
## 2.2.4 下偏左右布线规则
下偏左右布线规则，又称“下偏、左右”布线规则，即按照水平排布的逻辑门，左侧输出连接到右侧输入，右侧输出连接到左侧输入。如图所示。
采用这种布线规则，可以将较密集的逻辑门排列于底端，避免出现空间冲突。但是，对于那些高度并行分布的逻辑门来说，布线会比较累，并不一定可以得到最佳布局。
## 2.2.5 跨越金字塔型布线规则
跨越金字塔型布线规则，又称“上下交叉”布线规则，即首先布线中间两层逻辑门，再依次向两侧布线，直到所有逻辑门都处于第一、第二层上，如图所示。
采用这种布线规则，可以有效地利用布线资源，减小布局长度，并降低成本，对于非常复杂的电路来说，能够有效地节省工程量。但是，对于高度并行分布的逻辑门来说，可能导致空间冲突，无法得到最佳布局。
# 2.3 网状布线规则
网状布线规则又称“四方格、八方格”布线规则，该规则将逻辑门划分为多个互相正交的格子，每一个格子内都布线着一个逻辑门，而四方格或八方格各有自己的布线模式。四方格型网状布线规则是最简单的一种网状布线规则，它将逻辑门布线在四条对角线，从而完成整个电路的布线。如图所示。
采用这种布线规则，可以充分利用布线资源，减少布局长度，达到合理布线效果。但是，由于网状布线规则将每个逻辑门布线在四条对角线，导致尺寸较小，对于某些逻辑门而言，可能会有空间不足的问题。
# 2.4 星型布线规则
星型布线规则又称“六边形、十二边形”布线规则，它将逻辑门布线在一定的正多边形里，并沿着该多边形的边缘进行布线。该多边形的数量越多，规模越大，布线结果就越好。

如图所示的是六边形布线规则，它把逻辑门布线在一个三角形里面。
采用这种布线规则，可以充分利用布线资源，减少布局长度，并降低成本，适用于布线复杂的电路。但是，由于逻辑门较密集，容易产生空间冲突。
# 2.5 环形布线规则
环形布线规则又称“螺旋”布线规则，它将逻辑门布线在一圈环形里面。布线的方式是在中心位置布线，然后在外围逆时针布线，这样就将逻辑门布线在圆环内。环形布线规则，要求布线的区域尽可能大，而无论是布线层级还是面积都要比其他布线规则大。

例如，下图中的三个逻辑门通过环形布线规则进行布线。
采用这种布线规则，可以充分利用布线资源，减少布局长度，并降低成本，适用于布线复杂的电路。但是，由于逻辑门非常密集，容易发生空间冲突。
# 2.6 小结
本文介绍了逻辑门的五种类型及其布线规则。针对不同类型的逻辑门，还有更多的布线规则可以选择，但应该注意各个规则的特点，选取适合自己的规则。当然，还有很多规则没有提及，比如旁链布线规则、无源布线规则等。希望本文对你理解逻辑门的布线规则有所帮助。