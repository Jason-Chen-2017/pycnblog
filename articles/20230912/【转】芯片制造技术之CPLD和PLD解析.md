
作者：禅与计算机程序设计艺术                    

# 1.简介
  

CPLD(Complex Programmable Logic Device) 和 PLD(Programmable Logic Device) 是两种常用的集成电路集成电路组成部件，它们都是由芯片公司设计、制造的可编程逻辑器件，其特点是在保持了功能化、可靠性和可定制性的同时兼顾了价格便宜、使用灵活度高等优点。下面我们就从这两个芯片的特性出发，看一下它们的工作原理及应用场景。
# CPLD(Complex Programmable Logic Device)
CPLD 是一种集成电路，通常被称作混合型可编程逻辑设备，或称为“半主机/全芯片可编程”电路。它的主要特点是采用复杂功能组合逻辑设计，集成了微处理器(Microprocessor)、动态随机存储器(Dynamic Random Access Memory, DRAM)，串行总线接口(Serial Bus Interface)。CPLD 可将各种信号输入、输出、控制、显示、存储等，实现多种功能。如图1所示，CPLD 可在逻辑层面上对组合电路进行参数配置，并在实时刻对组合电路的输入输出结果进行动态响应，即 CPLD 可实现可编程逻辑器件(PLA, PLA is a programmable logic array) 提供的各项功能。
图片来源: https://www.yinxiang.com/evernote/article/Detail?objectId=d8f1fa3e-cc5f-4cd2-b9eb-b1e27f4d6b64&objectType=NoteGuid&sourceApplication=desktop.win
# PLD(Programmable Logic Device)
PLD（可编程逻辑器件）是一种集成电路，它包括可重构电容（CMOS）的大量门阵列，通过网络连接器相互连接，提供逻辑函数单元，并可进行编程配置。与传统的 PLA （程序可重构阵列）不同的是，PLD 可对内部电路中的逻辑结构进行精确控制和优化。例如，可以按照预先设定的规则控制整个计算机系统的运行，实现更加准确的软硬件协同工作，提升计算机性能。同时，PLD 在系统中可提供丰富的外设接口，支持各种软硬件接口，满足用户需求的变动。如图2所示，PLD 可用于数字模拟、数字控制、数字信号处理、语音识别、网络通信等方面的应用。
图片来源: http://img.jjckjt.com/images/202008011147427423.JPG
# 2.基本概念术语说明
## 2.1 PLD(可编程逻辑器件)
PLD 是一种集成电路，它包括可重构电容（CMOS）的大量门阵列，通过网络连接器相互连接，提供逻辑函数单元，并可进行编程配置。与传统的 PLA （程序可重构阵列）不同的是，PLD 可对内部电路中的逻辑结构进行精确控制和优化。例如，可以按照预先设定的规则控制整个计算机系统的运行，实现更加准确的软硬件协同工作，提升计算机性能。同时，PLD 在系统中可提供丰富的外设接口，支持各种软硬件接口，满足用户需求的变动。
## 2.2 晶体管(晶体元件)
晶体管(MOSFET，Minimum Operable Solid-State Field Effect Transistor) 是一个三极管（二极管）的一类半导体器件，由二氧化硅（Silicon）、钨（Silver）、镍（Lead）等元素构成，具有低阻抗、高通量、高导通率、高泄露电流、高开关速度等优点，可广泛运用于集成电路、照明设备、继电器、激光器、电子器件、人机交互、通信等领域。其基本结构如图3所示，图中有很多杂项，但其中有一个关键词 —— 反向结构。反向结构指的是，当输出端接地（置于 GND 端口），电荷将流入腔体，导致腔体中被激活；而当输出端接 VCC 电压（置于 VDD 端口），电荷将流出腔体，导致腔体中不被激活。因此，如果要实现二进制编码，那么应将输出端连至 VCC 或 VSS，使得数据输出端电平连续性不断变化。
图片来源: https://zhuanlan.zhihu.com/p/88988693
## 2.3 触发器(Flip-Flop)
触发器又叫做扫频器（Oscillator）。它是一种电子元件，它能够根据输入信号的时脉冲或脉冲序列，改变其状态。最简单的触发器有两种类型：锁存器（Latching Register）和组合触发器（Combinationial Triggers）。锁存器的基本结构如图4所示，当触发器上接收到一个脉冲信号时，它会保存输入信号的值，并保持一定时间不变。然而，由于其易受干扰，所以实际上使用较少。组合触发器则比较常用，其基本结构如图5所示，当接收到一个脉冲信号时，它会改变其状态。两种触发器都可以在同步时钟下工作，因此，组合触发器也可以用来进行计数，也可以用来进行运算。另外，触发器还可以用来控制其他元件，比如，用于控制电路开关的触发器。
图片来源: https://zhuanlan.zhihu.com/p/88988693
## 2.4 时序逻辑(Sequential Logic)
时序逻辑是一种电路结构，用来描述事件发生的顺序。时序逻辑模型一般分为组合逻辑和时序逻辑。组合逻辑简单来说就是把信号按照一定的关系组合起来得到新的信号，但是这种关系是不可预测的，不容易知道它会产生什么效果。时序逻辑就好像一条时间轴一样，里面有很多事件在发生，我们可以根据这些事件的时间规律分析和预测。举个例子，比如在某种情况下电压随时间增长，那么电压就会在一定范围内上下波动，就可以用时序逻辑模型来描述这个现象。时序逻辑有多种不同的形式，比如同步时序逻辑、异步时序逻辑、无限延迟时序逻辑等等。
## 2.5 算术运算器(Arithmetic Unit)
算术运算器是一种集成电路部件，其功能是执行基本的算术运算。比如，算术运算器可以执行加法、减法、乘法、除法和求余运算。
## 2.6 控制器(Controller)
控制器是一种集成电路部件，其作用是协调输入输出设备之间的关系。控制器根据输出电压、电流、温度和其它参数，调整输入设备的参数，以达到所需的输出要求。常见控制器有直流转移矩匹配电路（STML）、稳压压力测量电路（SPM）、交流-直流双通调制解调器（ADF4351）、示波器前端控制器（SA5240）、温度补偿电路（TC5050）等。
## 2.7 CPU(Central Processing Unit)
CPU 是一种集成电路，它负责执行机器指令，同时处理数据的运算和管理。CPU 的架构分为五级流水：取指、译码、执行、访存和写回。取指阶段用于从存储器中取出指令，译码阶段用于分析指令的内容并确定指令操作的地址、操作码、操作数、寻址方式和功能，执行阶段用于执行指令操作，访存阶段用于访问内存或I/O设备，写回阶段用于将计算结果写入存储器。目前的 CPU 架构普遍采用五级流水，并且多核 CPU 可以有效提高计算能力。
## 2.8 定时器(Timer)
定时器是一种集成电路，它用来生成时钟信号，以驱动计数器或者其他设备的工作。定时器有很多类型，有周期定时器、单次定时器、持续计时器等等。周期定时器是指每隔固定时间（1秒、1分钟、1小时等等）产生一次时钟信号，用于触发计数器、输出激励脉冲等。单次定时器则是在设定的时间之后产生一次时钟信号，用于执行一次操作。持续计时器则是依据系统时钟一直计时，一旦到达设置的时间，就产生一个时钟信号，用于驱动工作电路。
## 2.9 中断系统(Interrupt System)
中断系统是指发生外部事件后，需要暂停正在进行的程序，进入特殊模式，处理由外部事件引起的异常情况，然后再返回到原来的程序。在嵌入式系统中，中断系统用于监控外围设备的输入，检测外部事件，并通知主程序相应的动作。中断系统由中断控制器和中断向量表组成。中断控制器用于屏蔽掉正在执行的任务，并切换到中断服务程序。中断向量表用于定义每个中断源对应的中断服务程序。