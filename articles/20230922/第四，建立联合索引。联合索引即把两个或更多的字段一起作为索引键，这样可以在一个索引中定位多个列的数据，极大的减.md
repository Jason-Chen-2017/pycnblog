
作者：禅与计算机程序设计艺术                    

# 1.简介
  

联合索引（Composite Index）又称为复合索引、组合索引。它是一种在数据库系统中用来提高数据检索速度的技术。一个联合索引由多个列组成，可以一次定位多个数据项；而非联合索引只能定位单个列中的数据。联合索引可以有效地缩短查询时间，避免了全表扫描。联合索引的应用场景包括按列条件查询、按多列排序查询等。在关系型数据库中，通常将经常用于连接的字段设置为联合索引，通过索引快速定位到相关的数据。

2.联合索引的特点
1）创建联合索引时，应该考虑字段顺序；
2）联合索引会占用额外的存储空间；
3）联合索引会降低插入、删除、更新的效率；
4）联合索引建立时的顺序也很重要；
5）联合索引会影响查询效率；
6）不能够创建超过 6 个字段的联合索引。

3.创建联合索引的方法
1）创建组合索引语句。例如：CREATE INDEX idx_name_age ON table(name, age); 
2) 创建组合唯一索引语句。例如： CREATE UNIQUE INDEX idx_name_age ON table(name, age); 
3）创建联合索引的同时创建唯一索引。例如：ALTER TABLE table ADD CONSTRAINT unq_idx_name_age UNIQUE (name, age),ADD INDEX idx_name_age (name, age); 

4）创建后检查索引状态。例如：SHOW INDEX FROM table; 
5）最佳实践：建表时设计好索引的结构，尽量减少冗余字段，保持索引大小小于 900 字节，并且使用较短的名称，尽量避免长字段名出现在索引中。

5.建立联合索引后的优化方法
1）使用EXPLAIN命令查看执行计划，分析查询优化器是否使用了索引；
2）使用索引覆盖查询，避免回表查询；
3）了解不同的数据库引擎对联合索引的支持程度；
4）测试查询性能并调优。

扩展阅读
理解PostgreSQL中联合索引的工作原理和优化技巧：https://www.cnblogs.com/moonfish/p/postgresql-index-theory.html
MySQL：联合索引背后的物理实现：https://www.jianshu.com/p/ce77e6f3abbe
MySQL：联合索引的类型及其区别：https://blog.csdn.net/ruggine/article/details/110899820
MongoDB: 联合索引: https://docs.mongodb.com/manual/core/indexes/#compound-indexes

参考文献：
[1] 蔡斌,张海霞. 数据库系统导论[M]. 清华大学出版社, 2008.
[2] PostgreSQL官网文档：https://www.postgresql.org/docs/current/indexes-multicolumn.html
[3] MySQL官方文档：https://dev.mysql.com/doc/refman/8.0/en/multiple-column-indexes.html
[4] MongoDB官方文档：https://docs.mongodb.com/manual/applications/indexes/#compound-indexes