
作者：禅与计算机程序设计艺术                    

# 1.简介
  

## 1.1 关于Kylin
Apache Kylin是一个开源的、分布式的、准实时的多维分析引擎，它提供在 Hadoop / Spark / Flink 上运行的多维数据集的联机分析处理（OLAP）能力。它的主要特性包括高性能、动态数据分片、快速查询响应、水平扩展性等。其架构设计上注重易用性、高性能及可扩展性，并且具备良好的容错能力、稳定性和可用性，可以满足企业不同的数据量、数据类型和访问模式下的海量数据分析需求。同时，Kylin 还提供多种客户端工具，例如 JDBC/RESTful API 和 ODBC/ADO.NET Drivers，方便用户使用 SQL 或基于图形界面的方式进行查询和分析。

## 1.2 为什么选择Kylin？
Kylin作为一个开源的、分布式的、准实时的多维分析引擎，拥有丰富的特性，包括“快速查询响应”、“无缝融合了传统行业分析工具”等。同时，Kylin 的生态系统也十分完整，包括支持多种数据库连接器、内置数据模型转换工具、丰富的可视化组件以及数据导入导出工具等。因此，Kylin 可以帮助企业实现复杂的多维分析任务，节约时间、降低成本，同时提供强大的分析能力。 

对于个人来说，Kylin 也提供了一种学习大数据的新途径——除了学会如何使用 SQL 来查询数据之外，也可以通过研究 Kylin 的原理和实现原理，了解其中的机制及原理，从而更好的理解大数据的各种功能和用法。另外，Kylin 的源代码开放，意味着你可以在 GitHub 中找到整个项目的代码，研究并提出改进建议。

所以，选择 Kylin 是非常值得的。

# 2.基本概念术语说明
## 2.1 数据仓库
数据仓库是一个用来集成多个不同源异构数据，进行规范化清洗，加工处理后存储的一体化、集成的综合数据集合。它按照主题进行整理，并经过分析之后用于决策支持的重要工具。数据仓库的功能是对企业的运营、管理、信息化建设进行数据的汇总、统计和分析，数据仓库的作用就是为了能够支持多种业务分析、决策支持等应用场景，利用数据仓库将各个层次的信息融汇到一起，以便实现各项工作目标的执行。 

数据仓库通常由以下五部分组成: 

1. 维度建模：即创建关于企业数据的模型，它不仅包括实体、属性、关系，还包括时间、空间、因素等相关的维度，目的就是为了能够把数据按照一定标准的形式组织起来。

2. 数据加载：即将公司现有的各种数据资源进行采集、清洗、结构化和集中存放在数据仓库。由于各种数据的特点不同，加载到数据仓库的方式也是不同的，如关系型数据库的加载、日志文件的加载、文件系统的加载等。

3. 数据准备：即对已加载的数据进行清洗、合并、标准化、汇总、验证和制作数据质量报告。目的是为了保证数据集中所有数据都是一致的、没有缺失的、符合逻辑的。

4. 数据转换：即将原始数据进行变换和计算，得到业务需要的指标数据。它包括了维度转换、聚合、关联、分类、排序等过程。

5. 数据分析：即对数据进行分析，通过提取模式、关联分析、交叉分析、回归分析等手段，发现并呈现有价值的商业洞察。

数据仓库是一个综合性的、面向主题的、随时间变化的、长期的集成数据环境，具有高度的数据处理、整合能力，能够有效地解决业务上的复杂问题。 

## 2.2 OLAP&OLTP&DW区别
### 2.2.1 OLTP(Online Transaction Processing)
在线事务处理（英语：Online Transaction Processing，缩写：OLTP）是一种数据库系统，旨在对大量用户活动或交易记录进行快速、高效地处理。OLTP系统每秒钟可处理数百万或数亿条事务记录，因此它们主要关注事务处理的速度、效率、准确性、一致性、完整性和异常处理等方面。OLTP系统经常被用来处理银行事务、零售业务、物流管理等业务流程，它倾向于高频、短时处理、严格的一致性要求、较高的可用性。

### 2.2.2 OLAP(Online Analytical Processing)
在线分析处理（英语：Online Analytical Processing，缩写：OLAP），简称OLAP，是指利用多维分析方法对复杂且结构化的数据集进行快速、直观的分析。在OLAP系统中，数据是按事实表的形式存在的，因此，OLAP的核心是数据的多维度建模。数据分析者利用多维查询语言（MDQL，Multidimensional Query Language）或MDX（Multidimensional Expression）语句对数据进行检索、聚合和分析，以得到所需的数据结果。OLAP系统经常被用来处理财务、金融、销售、市场营销、制造、物流、零售等领域的复杂业务问题，它倾向于高速的分析、直观的结果，数据质量要求高、数据量大。

### 2.2.3 DW(Data Warehouse)
数据仓库是一类专门用于存储、处理和分析企业数据资料的数据库。数据仓库是一个集成的、相互关联的仓库，集成了多个源异构数据，并保持最新状态，用于支持业务决策。数据仓库是一个独立的、集成的系统，按照主题分解业务数据，将面向主题的各个部件的关键信息统一入库。它把原有业务系统中各个模块、子系统间的紧密耦合解除，使得数据具有更高的独立性，灵活性较高，易于维护。数据仓库除了提供各种维度的分析数据之外，还支持集成的BI工具对数据进行汇总、报表和分析。

## 2.3 Druid
Druid是一个开源的、分布式、准实时的分析存储引擎，它可以对海量时间序列数据进行高效地存储、计算和查询。Druid既能够快速处理大数据，又提供了实时的查询响应时间，而且可以使用户能够轻松地进行数据分析和数据挖掘。Druid的主要特性如下：

1. 大规模并行计算：Druid采用了基于列式存储的多维数据索引技术，能够对TB级别的数据进行高效的并行计算；

2. 可扩展性：Druid支持集群部署，允许横向扩展，并通过自动负载均衡机制来均匀分布请求；

3. 透明水平扩展：Druid可以通过自动增加或减少服务器节点来方便地应对突发状况；

4. 高性能分析：Druid支持基于多维数据索引的快速、近实时的分析查询，并能在秒级、毫秒级返回结果；

5. 提供了一个易用的查询接口：Druid提供了一个易用、灵活、熟悉的SQL兼容的查询语言；

6. 灵活的数据模型：Druid支持多种数据类型，包括原始事件、度量值、字符串、标签、时间戳、IP地址、地理位置、连接数据等；

7. 支持丰富的数据源：Druid支持包括Kafka、Kinesis、Hadoop、HDFS、Amazon S3、PostgreSQL、MySQL等多种数据源。