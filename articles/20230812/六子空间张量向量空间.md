
作者：禅与计算机程序设计艺术                    

# 1.简介
  

子空间（subspace）是一种线性代数的重要对象。它是一种定义在一个向量空间V上的非空集合，而且满足两个条件：1)它是一个线性空间；2)从V到其上加了一组由零向量生成的线性变换。如果X是V的一个子空间，则称X为V的一部分或被V包含。
举个例子，设有一个线性空间V中的两个向量x和y，x=(1,2)，y=(3,-1)。那么，(1,2), (3,-1)构成了V，V中只有这两个向量作为元素，所以V就是一个两维空间。而这两个向量本身并不是一个子空间，因为它们都不属于V，所以(1,2), (3,-1)不是一个子空间。若要将(1,2), (3,-1)作为一个子空间，需要选择一个线性变换将它变换到V的坐标系下，比如说x'=(-2,1)，y'=(4,3)。那么，我们可以将V分为三个子空间：首先，(1,2)及其负方向，即(-2,1)，都不属于V，因为它们都没有生成零向量。第二，(3,-1)所在直线上所有向量，x轴、y轴和x轴正方向的垂直向量组成一个三维空间，它也是V的一部分。第三，从(3,-1)出发，沿着y轴正方向射线上所有向量组成一个一维空间，它也是V的一部分。所以，(1,2), (3,-1)的交集是(3,-1)，它们都是V的一部分。

除了上面所述的子空间外，还有另一种对象叫张量。张量是一种多维数组，通常用来表示函数、方程或者离散系统的某些性质。它描述的是向量的集合，包括对向量做线性运算后得到的结果仍然在这个集合中的概率分布情况。张量的每一个元素都对应了一个向量，每个向量有多个分量。比如，一个二阶张量可以描述一个三维空间中的曲面形状，或者一个三维空间中的曲面微分曲率场。张量的元素通常被用来表示物理系统中的动力学方程、统计学分布或微分方程。

最后，向量空间又称线性空间，是一个集合，里面包含向量的线性组合。它是空间几何学的基础概念之一。向量空间中的向量都是具有大小关系的点，它们之间可以用线性运算进行相互转换，且可以表示一切一维的事物。实质上，向量空间是由内积和范数定义的。

所以，子空间和张量在现实生活中非常重要，它们直接影响着数学的很多领域，如微分几何、信号处理、概率论等等。了解这些概念的精髓和应用，对于我们理解复杂的科技问题都非常有帮助。下面我们来详细看一下子空间、张量、向量空间的一些基本概念和应用。

# 2.基本概念术语说明
## 2.1 子空间（subspace）
子空间，是指一个向量空间$V$里面的一组基向量的集合，即$\mathscr{S}=\left\{v_1,\cdots,v_k\right\}$，满足以下两个条件：

1.$\mathscr{S}$是$V$的一部分，即$\forall v \in V, \exists s_{\mathscr{S}} \in \mathscr{S}: s_{\mathscr{S}}v = v \Rightarrow \forall v \in V,s_{\mathscr{S}}v \in \mathscr{S}$。
2.对任意的$w \in V$, $\alpha w \in \mathscr{S}, \alpha \in F$。其中$F$是一个向量空间，当$F=\mathbb{R}$时称为实向量空间，当$F=\mathbb{C}$时称为复向量空间。

举例来说，考虑$\mathbf{R}^2$空间里面的两组基向量$(1,0),(0,1)$。这两组基向量一定是$\mathbf{R}^2$的一部分，因为对于任意向量$v$,$$(1,0)\cdot v=v_1=\|v\|\cos(\theta)=\sqrt{\sum_{i=1}^{n}|v_i|^2}\cos(\theta), \quad (0,1)\cdot v=v_2=\|v\|\cos(\theta)=\sqrt{\sum_{i=1}^{n}|v_i|^2}\sin(\theta)$$, 当$\theta=\pi/4$时，两个式子都等于$v_1+v_2=2$. 有了这一前提，我们就可以求得其他向量：例如$v=(1/\sqrt{2},-1/\sqrt{2})$，它的基在$\{(1,0), (0,1)\}$的投影分别是$(\frac{1}{\sqrt{2}},-\frac{1}{\sqrt{2}})$和$(-\frac{1}{\sqrt{2}},\frac{1}{\sqrt{2}})$. 因此，$v$属于$\mathbf{R}^2$的一部分，且是由$(1,0), (0,1)$生成的子空间。

## 2.2 张量（tensor）
张量是多维数组。一般来说，它可以用来表示函数或方程的某种性质，比如一个二阶张量可以描述一个三维空间的曲面形状，或一个三维空间的曲面微分曲率场。比如，对于一个二阶张量$A_{ij}=a_{ij}$, 它表示$i$与$j$之间的依赖关系，即$f_i(x, y)=\sum_{j} a_{ij} f_j(x, y)$, 或$f_i(x, y, z)=\sum_{jk} A_{ijk} f_j(x, y, z) f_k(x, y, z)$。可以看到，一个二阶张量表示了一个二维空间中的一个二元函数。一般地，张量具有$n$个索引，分别记作$i_1,\cdots,i_n$。张量的元素通常有下标符号$A^{[i_1]}_{i_2 i_3\cdots i_n}$, 表示$A$的一个切片。当然，也可以表示更高阶的张量。

## 2.3 向量空间（vector space）
向量空间，也称线性空间，是一个集合$W$，里面包含向量的线性组合。它是空间几何学的基础概念之一。向量空间中的向量都是具有大小关系的点，它们之间可以用线性运算进行相互转换，且可以表示一切一维的事物。比如，$\mathbb{R}^n$是一个$n$维实数向量空间，包含了$n$维空间的所有向量。$\mathbb{C}^n$是一个$n$维复数向量空间，包含了$n$维空间的所有复向量。一般地，一个$m$维向量空间$V$包含了$m$维空间的所有$m$-元组。

# 3.核心算法原理和具体操作步骤以及数学公式讲解
## 3.1 笛卡尔积
对于两个向量空间$V$和$W$, 如果$V$和$W$能够由向量组成，那么它们的笛卡尔积$VW$同样也能够由向量组成。记$V=\left\{v_1,v_2,\cdots,v_d\right\}$和$W=\left\{w_1,w_2,\cdots,w_e\right\}$, 那么$VW$由$(vw)_1, (vw)_2, \cdots,(vw)_de$表示：

$$
vw_1=(v_1,w_1), \quad vw_2=(v_1,w_2), \quad \cdots, \quad vw_d=(v_1,w_d)\\
vw_1=(v_2,w_1), \quad vw_2=(v_2,w_2), \quad \cdots, \quad vw_d=(v_2,w_d)\\
\cdots\\
vw_1=(v_d,w_1), \quad vw_2=(v_d,w_2), \quad \cdots, \quad vw_d=(v_d,w_d)
$$ 

也就是说，笛卡尔积由两个向量空间的基向量连接得到。

## 3.2 列空间
给定一个矩阵$A\in R^{m\times n}$, 求它的列空间$colspan(A)$。它就是$A$的所有列向量构成的集合，并且满足：

1. $colspan(A)$的维数等于$rank(A)$;
2. 对任何$b\in R^m$, $A\cdot b$在$colspan(A)$中，且$A^T\cdot colspan(A)=rowspan(A)$;
3. $colspan(A)\subseteq span(A)$;

在向量空间中，列空间代表着线性相关向量组成的空间。因此，线性方程组的解存在与列空间的交集，或者说能够映到列空间的向量上。

为了求解矩阵的列空间，可以先将矩阵转置，然后求解转置后的矩阵的行空间。行空间由向量组成，并且与矩阵乘法不变。通过行空间求解列空间就很容易了：

$$colspan(A)=span(A^T)$$

## 3.3 行空间
给定一个矩阵$A\in R^{m\times n}$, 求它的行空间$rowspan(A)$。它就是$A$的所有行向量构成的集合，并且满足：

1. $rowspan(A)$的维数等于$rank(A)$;
2. 对任何$b\in R^n$, $A\cdot b$在$rowspan(A)$中，且$A^T\cdot rowspan(A)=colspan(A)$;
3. $rowspan(A)\subseteq span(A)$;

在向量空间中，行空间代表着线性无关向量组成的空间。因此，线性方程组的解存在与行空间的交集，或者说能够映到行空间的向量上。

为了求解矩阵的行空间，可以通过矩阵的秩来判断。若秩小于矩阵的行数，则有唯一的解存在于列空间中，此时行空间等于全体$R^n$中的向量。否则，矩阵的行空间等于它的一组基，就是列空间的标准基。

## 3.4 基
对于一个向量空间$V$, 如果存在基$\mathscr{B}=\left\{v_1,\cdots,v_n\right\}$, 使得$V=\bigoplus_{i=1}^{n}Span\left\{v_1,\cdots,v_n\right\}$, 那么$\mathscr{B}$就是$V$的一组基。基的个数$dim(V)$等于$n$, 每一个基向量都可以表示为$V$中的一个元素，因此，向量$u$在基$\mathscr{B}$下的坐标为：

$$coord(u,\mathscr{B}):=\left[\frac{v_1}{Span\left\{v_1,\cdots,v_n\right\}}\cdot u, \frac{v_2}{Span\left\{v_1,\cdots,v_n\right\}}\cdot u, \cdots, \frac{v_n}{Span\left\{v_1,\cdots,v_n\right\}}\cdot u\right]$$

基的选择对矩阵乘法的计算是至关重要的。在线性代数中，往往将选取的基放在左边，这样做能够减少计算量。