
作者：禅与计算机程序设计艺术                    

# 1.简介
  

超大规模集成电路(VLSI)电子设计中，可靠性、可维护性及高速性能一直是关键。在现代计算机系统中，系统级芯片(SOC)的实现需要面对各种复杂的可控硅双极管(CMOS)结构。CMOS电源供应器等电路组件具有很强的时序功能，而其寿命周期也较短，因此对它们的研究对于提升系统电路的可靠性、可维护性和高速性能至关重要。本文主要介绍了CMOS电路时序功能的关键特性，包括最小周期、平衡点、稳定性和抗干扰性等，并基于这些特性进行了一系列的工作，对当前CMOS电路时序功能的研究、分析和优化做了系统性的总结。
# 2. 时序特性简介
CMOS电路时序特性包括以下几个方面：

① Minimum period（最短周期）：一个门电路的最小周期是指它必须经历的最短时间，即使是在没有外部输入信号时也可以正常工作。一个CMOS电路最小周期通常为10ps到20ps之间，这个范围内的任何一个值都可以接受。

② Balancing point（平衡点）：在同样的电压环境下，不同输入信号的驱动会产生不同的开关响应，而平衡点是指在每个驱动条件下，开关输出的时间延迟等于输入到达的时间。对于CMOS电路来说，其平衡点一般在几百ps到几纳秒之间。

③ Stability（稳定性）：稳定性是指电路不会因某些外部信号的变化而发生变化，例如电流或电压的变化。在CMOS电路中，通常具有较高的稳定性，稳定性差的电路可以接受更长的时钟脉冲，但这样也会引入更多的噪声。

④ Sensitive to noise（抗噪声性）：CMOS电路抗噪声能力比较强，可以在静止状态、低功率、弱信号的情况下保持较高的时序精度，并且在较高功率、强信号的情况下表现出较好的抗干扰能力。但是在非线性环境、较大的门厚度和交叉的情况下，CMOS电路仍然会出现失真。

总之，CMOS电路具备良好的时序特性，具有较高的精度、效率和可靠性，且可以通过有效地使用边沿检测、缓冲和同步控制等方法来降低信号衰减、抗干扰、抖动等问题，同时还能够在电路间和电路与外界环境中的应用，取得出色的性能。
# 3. 时序函数的描述
时序电路模型可以从电路参数化、时序约束和时序函数三个角度进行描述。

① 电路参数化：时序电路模型的参数化方法一般采用相对恒定的模型来描述电路时序特性。例如：在一个门电路中，如果驱动电压增加，门输出会稍晚；如果功率下降，门输出会更快。相比于绝对恒定的模型，相对恒定的模型能够对电路时序特性的影响进行更加细化的建模。

② 时序约束：时序约束方法是指通过对电路中信号的输入和输出关系进行约束，以此来刻画时序电路模型。例如：如果输入A的时序前件是B，则输出Y的时序前件必定是B。时序约束可以帮助刻画电路之间的依赖关系，对电路的时序特性进行更全面的描述。

③ 时序函数：时序函数是指电路内部信号随着时间的关系。时序函数描述了电路在任意给定时间的输入、输出、状态等信号，用以刻画电路时序特性。时序函数的形式可以多种多样，包括线性时序函数、阶跃函数、脉冲函数等。

在电路参数化和时序约束方法中，常用的模型如静态时序逻辑模型、电路仿真模型、事件驱动模型等。在时序函数描述方法中，常用的时序函数有正弦函数、三角函数等。
# 4. CMOS电路时序研究进展
CMOS电路时序研究的基础是将时序电路模型与实际可编程电路硬件平台进行结合，掌握时序电路硬件技术的设计原理、制造方法、测试验证和应用实践。CMOS电路时序研究的领域广泛，包括电路级时序、设备级时序、系统级时序和嵌入式应用级时序。这里只介绍电路级时序。
## 4.1 门电路的时序行为
目前CMOS电路时序研究最突出的成果就是研究了各类门电路的时序行为，即判断每一种门电路的最小周期、平衡点、稳定性、抗干扰性等特性。根据门电路特性的不同，CMOS电路时序研究可以分为以下四个阶段：
### (1)器件级时序
最早的CMOS电路时序研究主要集中在器件级时序上，主要研究的是器件的制造和封装，以及晶体管等结构的时序特性。早期的CMOS时序器件制造工艺是缺乏针对时序电路的优化，导致器件的时序性能严重偏离标准设计，使得标准CMOS器件无法满足时序要求。1983年，美国威斯康星大学的J. Dubois等人就设计了一套可适配CMOS电路的新时序电路模型，他们认为可以利用时序函数描述电路的时序特性，并将此模型应用到工艺过程当中，使晶体管的宽度、延迟、分层等参数适配CMOS器件。1987年，J. Dubois等人又针对时序电路中经典的组合逻辑设计了一套时序逻辑模型，试图建立时序电路模型的共通基础。但由于器件制造工艺上的限制，使得时序电路模型只能用于CMOS器件的标准时序性能评估。随后，研究者们对时序电路设计方法、器件封装、时序器件性能测量方法等方面进行了研究。
### (2)资源级时序
第二阶段的CMOS电路时序研究主要聚焦在资源级时序。这一研究领域包括存储电路、计算电路、数据路径电路等资源电路的时序优化。1996年，美国斯坦福大学的Michael Ford等人在WorX上发表了一篇文章，论述了堆积电路（von Neumann architecture）所带来的时序性能瓶颈。堆积电路在资源分配和电路功能之间存在冲突，堆积电路中互连网络过于复杂，容易引入时序不确定性。因此，设计者往往通过提高晶体管频率或者减小晶体管间距来降低堆积电路的时序性能。为了提升器件级时序研究的局限性，另一些研究者选择利用微处理器的特点来增强资源级时序。他们开发了包含多个存储单元、先进的数据压缩技术以及信号处理核的系统级时序电路。然而，这些时序电路仍然受制于硬件电路平台的限制。
### (3)系统级时序
第三阶段的CMOS电路时序研究主要围绕系统级时序。这一领域探讨了如何在数字系统中构建符合时序要求的电路结构、接口，并将时序电路部署到实际应用系统中。1999年，美国宾夕法尼亚大学的Rajesh Verma等人利用协同计算（co-design）的方法开发了一套体系结构，将时序功能集成到FPGA中。他们发现FPGA在时序上的弱点，将内存访问的时序限制在1个周期内，导致系统无法满足时序要求。为了解决该问题，Verma等人提出了基于软件的时序设计方法。然而，这些方法不仅费时费力而且难以复用。为此，Verma等人又基于ARM处理器的硬件特性、固态存储器的闲存特性等设计了一套独立于处理器的软件时序调度系统，并成功地将时序功能集成到系统级电路中。基于协同计算方法、时序硬件设计和软件系统设计方法，系统级时序的研究提供了新思路和方法。
### (4)嵌入式应用级时序
第四阶段的CMOS电路时序研究旨在研制出具有最佳时序性能的可控硅双极管（CMOS）电路。CMOS时序处理器是物联网、消费电子、半导体和汽车电子等领域最具潜力的应用方向之一。为了实现可控硅双极管电路的时序性能，工程师们最近越来越关注CMOS时序处理器在功能和时序方面的优化。其中，集成电路资源管理器（ICRM）是CMOS时序处理器中的一个关键部件。ICRM负责对系统中所有CMOS时序电路的资源进行管理，包括寄存器、SRAM、DSP等。ICRM将资源按时序要求进行分配，并通过时序约束法确保电路之间的时序依赖关系准确无误。另外，还有一项关键技术是时序加速器，这是一种可以提供额外时序性能的IC。时序加速器通过利用时序相关的特殊性质（比如仿真信号、时钟重排等）来降低仿真时延。这一阶段的研究主要目的是找到最佳的CMOS时序处理器，将时序功能集成到应用系统中。