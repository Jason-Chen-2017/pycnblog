
作者：禅与计算机程序设计艺术                    

# 1.简介
  

## 1.1 什么是高可用性？
高可用性(High Availability) 是指通过设计可以快速恢复的服务来实现系统或应用的正常运行。简单来说，高可用性就是保证用户访问、处理数据的能力不受到影响，从而确保服务提供者能够始终提供可靠的服务。
## 1.2 为何要设计高可用性？
在分布式计算环境中，单点故障往往会导致整个服务不可用，对于服务的可用性要求越高，部署节点就越多，成本也越高，因此需要通过设计有效的方法提升服务的可用性。如下图所示：


1. 服务降级：当某个节点出现故障时，可以将该节点上的服务暂时下线，即“降级”，但同时其他节点可以继续提供服务；
2. 服务故障转移：当某个节点出现故障时，可以将其上的服务迁移到其他节点上，以保证服务的可用性；
3. 限流策略：当某些服务出现高负载时，可以通过增加限制流量的方式防止过度抖动，减缓系统压力；
4. 流量镜像：根据实际情况，可以对请求进行复制，使得服务能够承受更多的负载，提升系统的响应速度；
5. 服务熔断：在系统的关键节点上设置熔断器，隔离出故障点，防止造成更大的损失；
6. 数据备份：可以对服务的数据进行实时的备份，并配合备份计划，避免因数据丢失造成的业务连锁效应。
通过以上几个方法的组合，就可以提升服务的可用性，达到系统的最大程度的可用性。

## 1.3 本系列主要内容介绍
高可用性与容错设计系列主要包括以下几篇文章：

1. 架构师必知必会系列：高可用性与容错设计之限流降级
2. 架构师必知必会系列：高可用性与容错设计之服务熔断
3. 架构师必知必会系列：高可用性与容错设计之流量镜像
4. 架构师必知必会系列：高可用性与容错设计之数据备份
5. 架构师必知必会系列：高可用性与容错设计之服务切换
6. 架构师必知必会系列：高可用性与容错设计之分布式一致性
7. 架构师必知必会系列：高可用性与容错设计之限流算法与监控
本文为高可用性与容错设计系列第一篇文章，主要介绍系统设计中的一些通用的概念和术语。
# 2.基本概念术语说明
## 2.1 分布式系统概念
分布式系统是一个由多台计算机组成的系统，各个计算机之间通过网络连接形成一个整体，具有高度内聚性。分布式系统的特点是网络通信依赖于远程过程调用，提供了资源共享、并行计算及容错等功能。
## 2.2 CAP定理
CAP定理（CAP theorem）：对于一个分布式系统来说，Consistency（一致性），Availability（可用性）和Partition Tolerance（分区容忍性）不能同时满足，只能三者二选一。
### Consistency（一致性）
所有节点在同一时间的数据完全相同。
### Availability（可用性）
每一次客户端请求都能够在有限的时间内收到一个非错误的响应。
### Partition Tolerance（分区容忍性）
即使发生网络分区，仍然可以保持一致性和可用性。
## 2.3 异步网络模型
异步网络模型是指节点间通信采用异步模式，通信双方不会直接发送消息，而是在对方准备好接收消息后再发送消息。异步网络模型提供了非阻塞、高吞吐率和低延时等优点。但是它也存在着时序问题和重复消息的问题。
## 2.4 状态同步协议
状态同步协议是指多个节点之间采用同步模式通信，通过协商一致的方式，使各节点上的状态达到一致。常见的状态同步协议有 Paxos、Raft 和 ZooKeeper。
## 2.5 可靠通信协议
可靠通信协议是指确保信息传输的完整性和可靠性，常见的可靠通信协议有 TCP/IP、SCTP、RTP/RTCP、QUIC、UDT 等。
## 2.6 小结
本章主要介绍了分布式系统的相关概念，以及分布式系统的一些核心概念和术语。分布式系统设计时需要注意CAP理论、异步网络模型、状态同步协议、可靠通信协议等。