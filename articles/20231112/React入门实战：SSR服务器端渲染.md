                 

# 1.背景介绍


## 1.1 SSR与CSR的区别
首先我们需要明白什么叫做单页面应用程序(SPA)、多页应用程序(MPA)，以及什么是客户端渲染（CSR）、服务端渲染（SSR）。那么它们的区别到底是什么呢？
- SPA: SPA 是一种全新的Web开发模式，它使得用户可以在不重新加载整个页面的情况下，实现页面的前进后退等交互功能，从而提升用户体验。在传统的Web开发模式中，服务器会把所有的数据都返回给浏览器，客户端根据数据进行展示，这种模式的最大优点就是没有页面间跳转的问题，用户体验非常流畅。但是它也存在一些缺点，比如SEO难以优化，首屏加载速度慢，无法兼顾搜索引擎。

- MPA: MPA（Multiple Page Application）是一种比较老牌的Web开发模式，它将一个完整的应用分成多个页面，每个页面之间通过AJAX的方式进行通信，实现了页面间的切换，具有较好的SEO效果。但是由于所有页面都需要向服务器请求一次才能显示，因此它在首屏加载速度上就比SPA要慢。

- CSR: Client Side Rendering （客户端渲染），即通过JavaScript动态渲染页面，它主要用于静态化站点，降低服务器压力。但它也有它的局限性，比如不能很好地适应移动设备、搜索引擎的爬取。

- SSR: Server Side Rendering （服务端渲染），即把同构（Isomorphic）应用部署到服务端，在服务端先渲染出完整的页面，然后再把渲染好的HTML发送给客户端，它可以解决客户端渲染的问题，同时也能满足SEO需求。一般情况下，SSR会配合路由按需加载技术一起使用，也就是说只有当前访问的路由对应的组件才会在服务端被渲染出来，其他路由则直接返回静态页面。这样既可以提高首屏加载速度，又可以减少服务端负担。

那么，我们知道了什么是SPA、MPA、CSR、SSR四种不同的 Web 应用类型，他们之间又是怎么样的关系呢？又分别适用哪些场景呢？接下来，我们将结合实际案例来阐述 CSR 和 SSR 的区别及其应用场景。
## 1.2 CSR（客户端渲染） VS SSR（服务端渲染）
### 1.2.1 CSR的优点
- 相对于服务器端渲染的首次请求，CSR渲染时间更短；
- 可实现更多的交互特性，如动画、滚动条位置控制等；
- 更容易获取SEO优势，因为基于JavaScript渲染的页面，可以在搜索引擎抓取时包含完整的内容；
- 可以使用类似于jQuery或Vue这样的库来增加一些额外的功能；

### 1.2.2 CSR的缺点
- SEO能力差，因为渲染的页面不够“完全”；
- 不利于快速迭代更新，每次更新都需要重新加载整个页面；
- 用户体验差，长时间等待时间可能会影响用户体验；

### 1.2.3 SSR的优点
- 更快的首屏加载时间；
- 搜索引擎更友好，因为索引的页面都是经过渲染后的内容；
- 更稳定的用户体验，因为渲染出的页面可以缓存起来供后续访问；
- 对服务器的压力更小，因为所有数据都在服务端完成计算和处理；

### 1.2.4 SSR的缺点
- 需要服务器支持Node.js环境，且需要配置相应的服务端框架如Express、Koa；
- 在构建时需要进行更多的代码编写，包括服务端路由匹配、数据获取、渲染等；
- 最重要的一点是需要考虑SEO，因为服务端渲染生成的页面不够“完全”，所以可能会导致搜索引擎对页面的抓取产生困扰；

综上所述，无论是 CSR 还是 SSR ，都各有优缺点。选择何者取决于产品的定位、业务特点、技术栈、团队资源等，同时还要结合自身产品的实际情况做出权衡。