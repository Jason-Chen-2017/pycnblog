
作者：禅与计算机程序设计艺术                    

# 1.背景介绍


## 电子束光刻（Electron Beam Deposition）
电子束光刻即电子束作为一种材料层状结构的熔点加工过程。在电子束光刻技术出现之前，人们主要用的是离子束、聚变反应、离心冷凝等技术进行电子的光学成像，但随着微电子技术的发展，利用电子束作为一种材料层状结构并对其加工的方式，终于使得电子信息能够以一种高分辨率且具有极高动态范围的形式进行测量、显示、分析、模拟、传输和存储。由于电子束光刻方法可以提升全天候测量或模拟性能，成为一种新型的光学成像技术。
图1：电子束光刻示意图 

## 多光子光刻（Multi-Photon Deposition）
多光子光刻是另一种电子束光刻技术。它利用集束激光或单束激光等多种波长的可见光光源探测电子，然后按照能量相等且方向相反的电子束相互作用，形成多条电子束束流，通过反复传播和吸收，生成不同结构的多层电子堆垛，从而实现整个堆垛中所有电子构成的连续性和周期性。这将产生一种具有可编程控制的连续的多层电子结构，从而可以用来制造复杂的非金属器件和材料。
图2：多光子光刻示意图

# 2.核心概念与联系
## 1.电子束与化学键
电子束是一系列快速移动的电子，它可以充满电荷、可以移动、可以导热、可以变化形态、可以流动、可以拖动……，但一般情况下，电子束要么都是带正电的、要么都是带负电的，而且这些电子束之间没有任何联系。如果将多束电子分别视为化学键，那么这就是一个无向图，每个电子都是一个节点，节点之间的边代表不同的化学键，它们可能是化学键、键电子或激活键等。
## 2.电子束的结构
电子束结构包括电子谱、电子极限、聚焦级和投影层。
### （1）电子谱
电子谱是电子束的一个重要特征，它反映了电子在束缘上蕴含的能量分布。如果束缘的厚度足够小，则电子谱呈现出一条直线；如果太薄，则电子谱呈现出不规则的曲线，这时称作“尖峰”。如果电子谱有多个极值，则称为多极态电子束，如图3所示。
图3：电子谱示例图
### （2）电子极限
电子极限是电子束变形后发生的震荡的临界临界能量。当电子极限越低，电子束的特性就越强烈，尤其是在带隙的地方。电子极限决定着电子的束频特性。
### （3）聚焦级
聚焦级是电子束结构的关键组成部分。聚焦级将电子束聚集到一起，并且对所有的电子来说，这一聚焦级是相同的，所以聚焦级对于所有电子来说都是平坦的。聚焦级的宽度和高度决定着电子谱的大小。聚焦级还可以被看做是电子束的存在的原因。聚焦级形成后，电子束会一直保持聚焦状态，直至被切断、失效或离散。
### （4）投影层
投影层是指位于电子束中的一个物质薄膜，它由许多电子填充，并且对电子的束缘施加力。根据电子运动的特点和位置，电子可以进入投影层内，或者穿过投影层。对于带隙的电子束，投影层将其分裂成两个电子束，使得电子束更容易聚焦。

## 3.电子束光刻的基本原理
电子束光刻的基本原理是把少数的电子束（一般都是偏负电子）集聚成密集的电子区域。这种集聚的方法可以一定程度上克服原子层中出现的孤立的缺陷，并且可以大幅度降低集聚的能量消耗。电子束光刻的集聚过程是自动完成的，不需要人工干预，可以大大节省时间和精力。同时，电子束光刻也可以提高电子材料的晶格精度。
图4：电子束光刻过程示意图

# 3.核心算法原理和具体操作步骤以及数学模型公式详细讲解
## 1.电子束光刻的操作流程
电子束光刻的操作流程如下：

1. 将受光电源点亮，使得电子束形成。如图5所示，受光电源一般是自由电子激元(free electron laser)，其输出的能量能将电子束束缘里的所有电子包围起来。
图5：电子束光刻操作流程图 

2. 电子束形成后，引入一定的透镜镜头(objective lens)和撞击仪(slit-scanning mirror)对其进行剥离。

3. 撞击仪将光束切割成许多线圈，将不同颜色的线圈投射到受光电源上，形成不同速度的光束，并将他们反向传播。这样，就会形成很多颜色不同的光束。

4. 通过中心激光器(center wavelength filter)把一些高颜色的线圈合并成一根，然后送入干涉模式下进行光刻。在干涉模式下，只有单色线圈可以照射到中心激光器，其他所有线圈都会被阻止，因此不会影响光刻结果。

5. 在干涉模式下，每根单色线圈被照射到中心激光器上，可以让它通过中心激光器，同时激起受光面的某些特定电子（激活键），因为只激活了一个激光，所以只有其中一根线圈可以通过中心激光器。这些电子束的能量可以成为一些化学键，将在后面用于形成多层电子堆垛。

6. 当所有的激光都经过中心激光器后，再进入超频模式下进行光刻。超频模式下，各个线圈的激光频率都可以不同，但是会反映出不同的电子，而不仅仅局限于某些固定的激光。超频模式下，所有的线圈都可以接收到同样的光束，因此不同的线圈可以产生不同的颜色，所以光刻也就产生了多种颜色。

7. 用自由电子束撞击激光器后，将获得的一系列的电子溶解掉，并释放出漂浮在油墨表面的激光，使得油墨变为固定、完整的样品，以便对它进行接下来的处理。

8. 将得到的固定、完整的样品送往分选程序中，从而去除外层的杂质、断层、溶解的电子以及光刻过程中形成的残余。

9. 选取需要的物体区域、各层之间的电子间距以及电子间距与金属性之间的关系。然后用不同波长的激光照射各层之间的电子距离，来修正光刻后的结构。最后将光刻好的样品投放到自动化设备中进行光栅封装，最终完成电子束光刻的生产。

## 2.电子束光刻的数学模型公式
电子束光刻的数学模型公式如下：
$$\begin{bmatrix}
N_A\\
N_B\\
\end{bmatrix}=S(\lambda,\theta)\left[R_{AB}(\phi)+I_{AL}(\lambda+\theta)-I_{LL}(\lambda-\theta)\right]$$
其中$N_A$和$N_B$为受光器件的自由度数，$\lambda$和$\theta$分别表示角度和坐标参数。
$S(\lambda,\theta)$为探测厚度，$\theta$为探测角度。$R_{AB}(\phi)$和$I_{AL}$分别是第一代激光器件在横、纵方向上的积分电路板阵列。$I_{LL}$表示两级激光器件的中性区，其将无关的电子排除在外。
该公式对多光子光刻实验提供了理论支持。在电子束光刻实验中，一串偏置的电子束对定子中某些电子束的微弱相互作用，导致其产生电场，而其他电子束的相互作用被抑制，形成多层电子堆垛。通过观察电场的大小及电子的状态，可以得知哪些电子束之间的相互作用造成了多层电子堆垛。

# 4.具体代码实例和详细解释说明
为了演示电子束光刻的数学模型公式的具体计算过程，我们可以模拟以下简单的实验：
假设我们有一个聚焦级厚度为$D_i$的电子束，由带隙的电子构成，带隙的宽度为$w_g$。假设一系列的双偏振光束$\overrightarrow{E}_i$以均匀分布且无限远，且能够穿透这根电子束。我们用$I_{AL}$来表示电子束与第一代激光器件的相互作用，$I_{LL}$表示电子束与第二代激光器件的中性区的相互作用，$\phi=90^\circ$。假设电子束$\overrightarrow{E}_{AB}$和激光器件之间的距离为$d$。那么，相应的公式为：
$$\begin{bmatrix}
N_A\\
N_B\\
\end{bmatrix}= \frac{\sqrt{(2d)^2+w_g^2}}{D_i}\left[I_{AL}-I_{LL}\right]$$
首先，我们求取相位$\phi$，即电子束$\overrightarrow{E}_{AB}$与激光器件之间的夹角，首先要确定$\overrightarrow{E}_{AB}$与其方向垂直的法向矢量。设$\overrightarrow{n}=(n_x,n_y,n_z)$为电子束的单位法向矢量。那么，$\overrightarrow{n}$与$\overrightarrow{k}=(cos\alpha,-sin\alpha,0)$垂直，且$\alpha=\arcsin(-w_g/\sqrt{(2d)^2+w_g^2})$。所以，$\overrightarrow{n}=-sin\alpha\cdot sin\beta\cdot k_x+(cos\alpha+cos\beta)\cdot cos\beta\cdot k_y$。其中$k=(k_x,k_y,0)$为激光器件的主方向矢量。则，$\phi=atan(\frac{-n_y}{n_x})=atan(-w_g\sqrt{(2d)^2+w_g^2}/2d)=tan^{-1}(w_g\sqrt{(2d)^2+w_g^2}/d)$。

有了相位后，我们就可以求解第一代激光器件的积分电路板阵列$R_{AB}(\phi)$。由于我们使用的是第一代激光器件，所以其相互作用矩阵是已知的。有了相位，积分电路板阵列$R_{AB}(\phi)$可以使用积分公式求得。这里，我们假设积分电路板阵列$R_{AB}(\phi)$与第一代激光器件的相互作用，以及电子束$\overrightarrow{E}_{AB}$与激光器件之间的相互作用，以及中性区的相互作用，也就是说，完全可以不考虑其他的参量。那么，积分电路板阵列$R_{AB}(\phi)$应该等于$I_{AL}$，所以有：
$$\frac{d}{dr}\int_r^{+\infty}\frac{1}{\pi r^2}f_s(r)\mathrm{d}r=\sum_{\ell=1}^{\infty}\int_{-\infty}^{+\infty}\frac{P_{\ell,+,+}(\ell k_z)}{Q_{\ell,+,+}(\ell k_z)}\mathrm{d}\Omega_{\ell}$$
其中$P_{\ell,+,+}(\ell k_z),Q_{\ell,+,+}(\ell k_z)$为第一代激光器件的反射系数与掩膜系数，分别表示在角度$\ell$、角度$\phi+\ell$、角度$\phi-\ell$下，自由电子束的相空间相位密度。

有了积分电路板阵列$R_{AB}(\phi)$，就可以用公式求出$N_A$与$N_B$的值。首先，计算第一代激光器件的掩膜系数$M_{\ell,+,+}(\ell k_z)$。有如下的概率分布函数：
$$M_{\ell,+,+}(\ell k_z) = P_{\ell,+,+}(\ell k_z) + Q_{\ell,+,+}(\ell k_z) + P_{\ell,-,+}(\ell k_z) + Q_{\ell,-,+}(\ell k_z)$$
即：
$$M_{\ell,+,+}(\ell k_z) = \frac{1}{\pi R_{AB}(\phi)}[\frac{\sin[(2\ell+\phi)/2]+\sin[(2\ell+\phi+2\pi)/2]\cos[\ell/2]}{\sin[(2\ell)/2]}+\frac{\sin[(2\ell-\phi)/2]-\sin[(2\ell+\phi+2\pi)/2]\cos[\ell/2]}{\sin[(2\ell)/2}]-2\delta_\ell(R_{AB}(\phi))]$$
其中$\delta_\ell(R_{AB}(\phi))$为费米-狄龙方程方程的解。则有：
$$\begin{aligned}
    M_{\ell,+,+}(\ell k_z)&=\frac{1}{\pi R_{AB}(\phi)}\left[\frac{1}{\sin[\ell/2]}\sin[(2\ell+\phi)]\cos[\ell/2] - \frac{1}{\sin[\ell/2]}\sin[(2\ell-\phi)]\cos[\ell/2] - \frac{\sin[(2\ell+)/2]}{2\sin[\ell/2]} + \frac{\sin[(2\ell-\phi+)/2]}{2\sin[\ell/2]} + \frac{\sin[(2\ell+)/2]}{2\sin[\ell/2]} + \frac{\sin[(2\ell-\phi+)/2]}{2\sin[\ell/2]}\right]\\&=\frac{1}{\pi R_{AB}(\phi)}\left[\sin(\ell+\phi)+\sin(\ell-\phi)\cos(\ell/2)-2\delta_\ell(R_{AB}(\phi))\right]
\end{aligned}$$
根据积分公式，有：
$$\int_{-\infty}^{+\infty}\frac{P_{\ell,+,+}(\ell k_z)}{Q_{\ell,+,+}(\ell k_z)}\mathrm{d}\Omega_{\ell}=\frac{1}{\pi R_{AB}(\phi)}\int_{-\infty}^{+\infty}\sin(\ell+\phi)\mathrm{d}\Omega_{\ell}=\frac{2\sin(\phi)}{\pi R_{AB}(\phi)}$$
所以，$R_{AB}(\phi)$是一个关于$\phi$的线性函数，且它的斜率恒为$2\sin(\phi)/\pi R_{AB}(\phi)$。综上，有：
$$R_{AB}(\phi)=C\exp\left[-\frac{\phi^2}{2}\right]$$
将其代入公式，有：
$$\begin{bmatrix}
N_A\\
N_B\\
\end{bmatrix}= C\exp\left[-\frac{\phi^2}{2}\right]\left[I_{AL}-I_{LL}\right]$$
其中，$C=\sqrt{\frac{2d}{\pi w_g}}$。

这样，我们就得到了基于电子束光刻原理的双偏振光束与第一代激光器件、第二代激光器件、中性区的相互作用关系。