
作者：禅与计算机程序设计艺术                    

# 1.背景介绍


离散优化（discrete optimization）作为运筹学的一个分支，研究的是如何对一个复杂的决策问题进行求解。在很多实际问题中，决策变量和目标函数往往都是连续可导的，而优化问题通常又需要进行离散化处理，将连续型决策变量映射到离散型变量上进行求解。
离散优化最早由约翰·亨廷顿（John H. Halimtont）于1957年提出。由于离散优化的需求，随着电子计算机的普及、规模经济的发展和人工智能的迅速发展，对这一领域的研究也在蓬勃发展。近几年，随着传感器技术、地球探测、车联网、机器人、信息安全等领域的应用，离散优化也越来越受到了关注。此外，随着无线通讯网络的发展、移动互联网的普及、云计算的广泛应用、区块链的爆炸性增长等新技术的出现，离散优化也逐渐成为运筹学的一项重要组成部分。
# 2.核心概念与联系
离散优化主要涉及如下几个关键概念：
- 决策变量（decision variable）：指某个或某些可以取值的变量，这些变量的取值影响了问题的结果。
- 求解方法（solution method）：指利用已知条件来确定决策变量的值的方法。
- 可行集（feasible set）：指所有满足约束条件的解空间。
- 目标函数（objective function）：指给定一个决策变量取值的情况下，期望得到的最大值或者最小值的函数。
- 约束条件（constraint condition）：指限制决策变量的取值范围或要求满足一定形式的函数。

离散优化的求解方法一般可以分为两类：
- 启发式方法（heuristic method）：采用启发式策略来搜索最优解。这种方法的特点是简单高效，但不一定能找到全局最优解。
- 计算法（computational method）：采用数值计算的方法搜索最优解。这种方法的特点是精确度高，计算时间长。

与传统的优化问题不同，离散优化的问题往往具有以下特征：
- 非凸（nonconvex）：在某些情况下，可能存在多个局部最优解，使得单纯形法无法保证全局最优解的存在性。
- 多目标（multi-objective）：对于目标函数有多个优化目标时，不同的目标往往会导致结果不同的选择。
- 不完全信息（incomplete information）：由于决策变量取值的不确定性和相关约束条件的不完备性，目标函数的最优值往往难以直接获得。

本文将首先介绍离散优化的基本模型——整数规划（integer programming），然后根据整数规划的模型，介绍整数规划的求解方法。之后，将讨论整数规ynArray算法，并通过实例来介绍它的求解过程。最后，将讨论其他一些典型的离散优化问题及其求解方法，并对它们的应用进行综述。
# 3.整数规划整数规划（integer programming）模型：

整数规划（integer programming）是一个求解整数线性规划的优化问题。该问题是一种特殊的线性规划，其中所有变量都必须为整数，即整数变量。例如，要解决如下线性规划问题：


可以把它变换成整数规划模型：


整数规划模型将所有决策变量都限制为整数，而且没有“非整数”的约束条件。因此，整数规划问题通常可以更容易求解，因为整数规划只能使用整数计算。

# 4.整数规划求解方法

整数规划问题的求解方法主要有：
- 方法1：暴力搜索法（brute force search）。
- 方法2：整数规划法。
- 方法3：变体整数规划法。
- 方法4：线性规划加约束法。

## 方法1：暴力搜索法（brute force search）

暴力搜索法指枚举所有的可能的取值，然后找出目标函数的最优值。这样的方法通常效率比较低。

## 方法2：整数规划法

整数规划法就是求解整数规划问题。整数规划法的求解过程包括三个步骤：
1. 将原始问题转换成整数规划问题。
2. 使用整数规划求解器求解整数规划问题。
3. 根据求解出的整数解，将其映射回原始问题的解。

整数规划法所需的时间较长，所以在实际应用中较少采用。但是，由于它能够求解较为复杂的问题，因此被认为是非常有效的求解方法。

## 方法3：变体整数规划法

变体整数规划法是对整数规划法的改进，它可以在求解整数规划问题时更好地考虑约束条件。变体整数规划法的求解过程包括四个步骤：
1. 枚举整数变量的可能取值。
2. 对每个整数变量的取值，计算目标函数的最优值。
3. 在满足约束条件的前提下，选择目标函数的最优值的整数取值。
4. 重复步骤二到三，直到找到最优解。

## 方法4：线性规划加约束法

线性规划加约束法是在线性规划基础上的一种求解方法。其基本思路是先求解线性规划问题，然后用结果减去不必要的约束条件，得到新的目标函数。再用整数规划求解器求解这个新目标函数，从而得到整数解。

# 5.实例：例1 

假设有一批木材，每根木材的长度为1~5个单位，重量为1~5磅，要求铺平整齐且用光面积最大。目标函数为用光面积，决策变量为每根木材的长度。
将该问题转化为整数规划问题，可以得到如下整数规划问题：


这里，x1表示第一根木材的长度，x2表示第二根木材的长度，……，xn表示第n根木材的长度。y1表示第一根木材的重量，y2表示第二根木材的重量，……，yn表示第n根木材的重量。z表示用光面积。

求解整数规划问题的过程如下：
1. 首先设置目标函数的上界，即z的上界。一般地，我们可以在0.5z <= w * yi + (w - z)xi之间找到一个可行的上界w。
2. 固定目标函数的上界，对所有的决策变量取整数值。例如，取最大值1，则取值为0.5时的目标函数值一定不会比1小。
3. 用整数规划求解器求解整数规划问题。例如，Gurobi或CPLEX求解器。

求解后的结果可以得到整数解：


解读：在第一个木料中，长度为4个单位，重量为3磅；在第二个木料中，长度为5个单位，重量为5磅；用光面积为20个单位*3磅+15个单位*5磅=60个单位^2。总用光面积为60个单位^2，约为60.25个单位^2。

## Pseudocode for Solving the Problem of Cutting Sheets into Square Shapes with Integer Programming:

1. Define variables x1,x2,…,xn and y1,y2,…,yn to represent each sheet's length and weight respectively. Let us assume that there are n sheets in total. 
2. Set a lower bound for the objective function by choosing an appropriate value for w such that 0.5z ≤ w * yi + (w – z) xi holds for all i = 1 to n. 
3. Fix this lower bound by rounding all decision variables to the nearest integer using any available rounding scheme or heuristics. For example, we can round them up or down if they differ by more than one unit or choose a different rounding strategy. 
4. Solve the modified problem using Gurobi or CPLEX. The solution should give us integers as values for our original variables. 
5. Compute the actual cutting plan using these integer values. This involves solving a linear programming problem for finding out how many squares each piece needs to be cut into along both its dimensions. Depending on your choice of solver, you may need to modify the formulation slightly. Once you have computed the exact number of squares needed per piece, calculate their dimensions accordingly and add them together to get the final cut shape.