
作者：禅与计算机程序设计艺术                    

# 1.简介
  

## 一、快速排序算法简介
快速排序（Quicksort）是对冒泡排序（Bubble Sort）的一种改进，它也是分而治之的典型应用。冒泡排序算法需要两两比较，效率低下；而快速排序只需对分区进行递归，即可将一个数组划分成两个子数组，并使得所有元素都在分区内有序。因此，快速排序是一种高效的排序算法，尤其适用于大数据量的排序和搜索等问题。

快速排序的基本思想：通过一趟排序将待排记录分隔成独立的两部分，其中一部分记录的关键字均比另一部分的关键字小，则可分别对这两部分记录继续进行排序，直到整个序列有序。

## 二、快速排序算法详解
### 1.基本原理和方法
#### （1）选择基准点
首先从数列中取出一个元素作为基准(pivot)point，一般选取第一个或者最后一个元素为基准点。

#### （2）划分左右子集
然后将其他所有元素与基准点进行比较，比基准点大的放到右边子集(right)，比基准点小的放到左边子集(left)。左右子集是递归操作的初始条件，即基础条件，只有两个元素时停止递归。

#### （3）左右子集合并
当左右子集内部排好序后，再将左边子集与右边子集按顺序连接起来，便得到了有序的数列。

#### （4）总结
过程简单概括为：
* 选择基准点
* 分割数列
* 对左右子集递归操作
* 将左右子集合并

### 2.快速排序算法的性质
#### （1）最坏情况时间复杂度 O(n^2)
最坏情况下，也就是数组刚好退化为单调序列的情况，则平均时间复杂度就是 O(nlog n) 。但这种最坏情况非常罕见，实际上在工程实践中，快速排序的时间复杂度还是很稳定的，所以快排的效率不必过于担心。

#### （2）空间复杂度 O(1)
在仅限额外栈空间的情况下，快速排序不用另外分配额外内存，递归调用时也无需创建新的栈帧，所以空间复杂度为 O(1) 。

#### （3）排序稳定性
对于相同的值，在排序前后位置不变。

#### （4）不稳定的排序算法
计蒜客就曾经提到过，Java 的 Arrays.sort() 方法默认使用的是插入排序算法，这个算法虽然相对较稳定，但是效率可能并没有快排那么高。一般情况下，个人推荐使用快排而不是插入排序，除非特别有需要。

### 3.快速排序的Python实现

```python
def quick_sort(nums):
    if len(nums) <= 1:
        return nums

    pivot = nums[len(nums)//2]   # 选择中间值作为pivot
    left = [x for x in nums if x < pivot]    # 小于pivot的放在left列表中
    middle = [x for x in nums if x == pivot]     # 中间值(pivot)放在middle列表中
    right = [x for x in nums if x > pivot]    # 大于pivot的放在right列表中

    return quick_sort(left) + middle + quick_sort(right)   # 递归排序左右子集
```