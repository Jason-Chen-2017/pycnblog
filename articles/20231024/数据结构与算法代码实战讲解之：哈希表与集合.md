
作者：禅与计算机程序设计艺术                    

# 1.背景介绍


哈希表（Hash Table）与集合（Set）是两种非常重要的数据结构。其主要用途是在不允许重复值的情况下存储和检索元素。不过在某些特定情况下，哈希表和集合可以替代其他数据结构（如链表、数组），从而提升效率。本文将对这两种数据结构进行深入剖析，并通过具体实例展示如何使用它们解决实际问题。 

# 2.核心概念与联系
## Hash Function
对于任意输入值，均有一个确定的输出值。这个函数称为哈希函数。根据所选取的哈希函数，相同的输入可能得到不同的输出值。因此，对于给定的值，我们无法判断它是否已经出现过，只能以假设的方式去判断。

## Hash Table
哈希表（Hash table）是一个键值对的无序集合。其中，每个键都对应唯一的值，而值则可以被映射到对应的键上。哈希表的操作通常包括插入、删除、查找等。不同于顺序表、链表、栈和队列这种线性数据结构，哈希表不保证元素的顺序。

为了加速查找和删除，哈希表采用“开放寻址法”或“链接法”。在开放寻址法中，当发生碰撞时，需要探测下一个空槽来存放元素。在链接法中，如果发生碰撞，会创建新的节点，使得哈希冲突最小化。

## Set
集合（Set）也是一种重要的基本数据结构。与哈希表不同的是，集合不保存键值对中的值。它只保存元素，并且不允许重复元素。集合支持以下操作：插入、删除、查找和遍历等。

# 3.核心算法原理和具体操作步骤以及数学模型公式详细讲解
## 哈希表
### 插入元素
1. 计算出要插入元素的哈希值。
2. 如果没有任何元素或桶为空，直接插入到该位置；否则，比较当前元素的哈希值和新元素的哈希值。如果相同，则把两者插入到同一位置；如果不同，则按照相同步长探测直至找到空位。


3. 缺点：哈希表的缺点就是不管元素多么好找，但是仍然不能完全避免哈希冲突。所以，有时候会发现一些元素被分散到了各个桶中。

### 删除元素
1. 通过哈希值计算元素所在的位置。
2. 在相应位置删除第一个匹配的元素。
3. 如果删除后发生哈希冲突，则继续探测直至找到空位。


### 查找元素
1. 计算查询元素的哈希值。
2. 从相应位置开始探测，直到遇到第一个匹配的元素或到达边界。
3. 时间复杂度：O(n)，因为在平均情况下需要探测 n 次。

### 修改元素
1. 先查找旧元素，再删除，最后插入新元素。
2. 需要注意的是，如果插入的新元素的哈希值与已有的元素相同，那么可能会导致冲突。

## 集合
### 插入元素
1. 检查待插入元素是否已经存在于集合中，如果不存在，则直接插入；如果存在，则什么也不做。
2. 此处不需要处理哈希冲突的问题。

### 删除元素
1. 集合的删除操作与哈希表类似。
2. 只需将删除元素的哈希值置为 null 即可。
3. 不需要修改集合中其他元素的哈希值。

### 查找元素
1. 判断待查找元素是否在集合中。
2. 需要考虑哈希冲突问题，但一般来说，集合元素较少，因此，此处的哈希冲突概率很小。
3. 时间复杂度：O(1)。

### 修改元素
1. 不支持。