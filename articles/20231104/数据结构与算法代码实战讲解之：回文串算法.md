
作者：禅与计算机程序设计艺术                    

# 1.背景介绍


## 什么是回文串？
在数学中，如果一个数字序列从左到右读和从右到左读都是一样的，那么这个序列就是回文数，或者称为回文串。例如，121、555等都是一个个回文数。
## 为什么要处理回文串？
一般来说，回文串是用来进行字符串匹配、文本分割等算法的最优选择。举个例子：在一个字符串中查找某些词或短语是否出现了两次及以上。比如，在一篇英文文章中，我们需要判断某个词是否存在多于一次。

还有其他一些应用场景，比如：检测一个整数是否为回文，检查是否可以由两个相同字符组成的回文串，通过拆分字符串来找到最长回文子串等。
## 如何判断一个整数是否为回文？
有两种方法来判断一个整数是否为回文：一种是将整数转换为字符串并判断其是否为回文字符串；另一种是反转整数再比较大小（注：此法只能判断整数值是否为回文，不能判断是否为回文字符串）。

第一种方法较为简单易懂，但是效率低下。第二种方法比较巧妙，首先需要注意的是负数的符号要处理好。将整数反转后，比原始整数小的就可能是回文数了。如下例所示：
```python
def is_palindrome(x):
    if x < 0:
        return False

    reverse = int(str(x)[::-1])

    # check whether the original integer and its reversed form are equal or not
    if reverse == x:
        return True
    
    else:
        return False

print(is_palindrome(121))   # output: True 
print(is_palindrome(-121))  # output: True 
print(is_palindrome(12321)) # output: True 

print(is_palindrome(987654321))    # output: True 
print(is_palindrome(-987654321))   # output: True 
print(is_palindrome(9988776655))    # output: True 

print(is_palindrome(123456789))     # output: False 
```
对于回文串算法来说，主要关注以下三个问题：
1. 求解回文串。
2. 判断回文串。
3. 寻找最长回文子串。

本节主要介绍第三点：寻找最长回文子串。这一章节包括以下几个部分：
1. Longest Palindromic Substring(最长回文子串)问题描述。
2. Manacher算法简介。
3. Manacher算法实现。
4. 复杂度分析。

# 2.核心概念与联系
## 回文子串
### 定义
回文子串指的是从中心向两端扩展的单个或多个连续的字符构成的字符串，比如"level", "racecar", "deified". 注意：仅考虑字母数字字符，不考虑标点符号和空格。
### 属性
- 回文串中，只包含两种字符类型："奇" 和 "偶" ，其中 "奇" 的个数一定等于 "偶" 的个数，这是因为每一个字符都可以与相邻的字符交换位置而仍然保持回文性质。因此，如果一个字符串是回文串，则它的所有子串都是回文串。
- 回文串的长度是奇数还是偶数无关紧要，只要它的各个字符的位置满足回文串的要求即可。
- 可以用“回文对称轴”的方法快速确定回文串的长度。回文对称轴是指回文串的一个中心点，通过设定两个指针，分别指向该中心点和这两侧任一边界上的字符，然后一步一步地移动指针，直到遇到不同的字符或越过另一边界时停止。
## 最长回文子串
### 定义
给定一个字符串 s, 在 s 中找到最长的回文子串。若不存在这样的子串，则返回空串 "" 。
### 方法
#### 1. 暴力法
暴力法是指枚举所有可能的子串并逐个检查是否为回文串。这种做法的时间复杂度为 O(n^3), 即 n 个字符串的长度乘以 n 个起始位置乘以 n 个终止位置。
#### 2. 动态规划法
动态规划法是利用子问题重叠的特点，先求解子问题的最长回文子串，然后根据子问题的结果构造出当前的问题的最长回文子串。这种做法的时间复杂度为 O(n^2)，即 n 个字符串的长度乘以 n 个状态。
#### 3. Manacher算法
Manacher算法是一种线性时间算法，在复杂度分析上，它是其最优算法。Manacher算法通过预处理将所有的可能回文子串列举出来，然后利用一个数组记录每个子串的回文半径，通过这种方式，它可以在 O(1) 时间内完成回文子串的查询。
## 最长回文子串的子串
### 定义
给定一个字符串 s 和一个整数 k, 在 s 中找到长度至少为 k 的所有回文子串。若不存在这样的子串，则返回空列表 [] 。
### 方法
#### 1. 暴力法
暴力法是指枚举所有可能的子串并逐个检查是否为回文串且长度大于等于 k 。这种做法的时间复杂度为 O(n^3), 即 n 个字符串的长度乘以 n 个起始位置乘以 n 个终止位置。
#### 2. 前缀函数+滑动窗口
前缀函数可以通过 KMP 算法计算得到，滑动窗口算法通过维护一个滑动窗口来枚举所有子串，这种做法的时间复杂度为 O(n*k)。
#### 3. Manacher算法
Manacher算法在枚举所有可能的回文子串时，会跳过一些冗余的过程，降低了时间复杂度。它还能直接给出最长的回文子串，所以它更加适用于这一类问题。