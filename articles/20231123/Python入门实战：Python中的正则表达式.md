                 

# 1.背景介绍


## 概述
正则表达式（regular expression）是用于匹配字符串的模式。它允许用户指定各种规则来搜索文本，并根据搜索的结果对文字做出相应的替换、分析处理等。在电子文本编辑器中，我们经常会看到这样的功能：查找、替换、自动补全。这些都是基于正则表达式实现的。本文将介绍Python中如何使用正则表达式。

正则表达式的优点有很多，这里不再赘述。其中最突出的一个优点就是灵活性。通过使用正则表达式，可以对复杂的文本进行精准匹配、过滤和处理。比如，可以通过正则表达式提取网页上的邮箱地址、手机号码、身份证号码等信息，进而分析统计。另外，许多编程语言都提供了对正则表达式的支持，使得开发者们可以方便地进行正则表达式的处理。

本文将教会你Python中的基本语法和一些常用的正则表达式知识。文章的内容主要分成以下几个部分：

1. Python基础语法；
2. re模块的用法；
3. 常用正则表达式；
4. 一些小技巧和示例代码。
# 2.核心概念与联系
## 概念
### 正则表达式
正则表达式，又称“regex”，是一种字符串匹配符号，用来描述或匹配一系列符合某个模式的字符串。正则表达式是由普通字符（例如，字母、数字及一些特殊符号）以及特殊构造字符组成的文字模式。

正则表达式可用于文本搜索、替换、剔除无关数据、从字符串中提取有效信息等方面。其应用范围非常广泛，比如：

1. 文件名查找；
2. 文本搜索；
3. 替换文本；
4. 数据清洗、转换；
5. 分词、分类。

传统的文本匹配方法一般采用硬编码的方式。即我们在代码中手动定义特定的字符串序列来匹配或者查找。正则表达式的一个优势在于它的灵活性。除了简单的字符串匹配之外，还能进行更高级的模式匹配，如:

1. 在字符串中匹配多个模式；
2. 使用逻辑运算符组合模式；
3. 指定字符集和字符类；
4. 单词边界控制。

在实际应用中，正则表达式有着非常重要的作用。它可以用来快速查找、筛选和处理数据、自动生成代码、配置文件、日志文件等内容。不过，掌握正则表达式还需要理解其语法结构、以及一些常用命令的用法。

### 匹配对象与捕获分组
在Python中，正则表达式的匹配对象由`re`模块提供。要使用`re`模块匹配字符串，首先需要导入该模块：
```python
import re
```
然后，就可以使用`match()`、`search()`、`findall()`等函数进行匹配。举例如下：

```python
string = 'hello world'
pattern = r'\w+'     # 查找连续的单词字符
result1 = re.findall(pattern, string)   # ['hello', 'world']

pattern = r'^h\w+'    # 从开头匹配'h'后接任意单词字符
result2 = re.search(pattern, string).group()   # hello
```

上面例子中，`\w+`是一个特殊的字符类，表示一个或多个单词字符（包括数字和字母）。`^`表示行首，`findall()`返回所有匹配的子串列表，`search()`返回第一个匹配的对象，并用`.group()`方法获取匹配到的文本。

捕获分组（capturing group），也叫作群组，是在正则表达式中用括号`()`指定的子表达式。它可以帮助我们提取匹配到的文本，并对它们进行进一步的操作。举例如下：

```python
string = '<EMAIL>, <EMAIL>'
pattern = r'(\w+)@(\w+)\.com'    # 提取用户名、域名
matches = re.findall(pattern, string)    # [('abc', 'example'), ('def', 'test')]
for match in matches:
    username, domain = match
    print('Username:', username)
    print('Domain:', domain)
```

上面例子中，使用了两个捕获分组，分别代表了用户名和域名。调用`findall()`函数，返回的是匹配到所有文本的列表，每个元素都是元组。然后，遍历列表，分别打印出用户名和域名。

注意：虽然捕获分组不是必需的，但可以加强匹配的能力，提升程序的灵活性。尤其在处理复杂的数据时，比较有用。