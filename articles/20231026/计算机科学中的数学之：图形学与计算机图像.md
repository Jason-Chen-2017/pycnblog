
作者：禅与计算机程序设计艺术                    

# 1.背景介绍


图形学(Graphics)与计算机图像(Computer Graphics)是两个不同领域,但却密切相关。图形学研究如何描述、呈现并实现视觉上信息的呈现形式。而计算机图像研究基于像素、光线、材质、色彩及其他因素构建立体现实世界的计算机生成图像的数字处理技术。其目的是通过可视化和动画技术从各种各样的数据中提取有意义的信息，并将其呈现给用户。在游戏开发领域广泛应用，并在医疗影像领域发挥重要作用。

本文将会涉及的内容包括以下方面：
- 一、图形学基本知识：理解什么是空间变换、平移旋转缩放等基本变换法则；
- 二、计算机图形学的基本原理：了解点、线、三角形、四边形、立体曲面等几何图元及其绘制过程；
- 三、图形学中的空间变化：了解透视图、正交投影、卡通摄影的空间变化，并分析这些变化对视觉效果的影响；
- 四、计算机图形学中的光照计算：学习透射、反射、镜面反射光照的计算公式及具体流程；
- 五、利用编程语言进行图形学编程：掌握C++、Python等编程语言，使用相关库或框架进行图形学编程。

# 2.核心概念与联系
## 2.1 什么是空间变换？
空间变换(Space Transformation)又称空间映射(Spatial Mapping),是指从一个坐标系到另一个坐标系的映射关系。任何空间变换都可以分解为三个基本的操作:平移、缩放和旋转。而根据操作顺序的不同，又可分为两种变换方式:正向变换(Forward Transformation)和逆向变换(Reverse Transformation)。

平移(Translation): 是指沿着直线运动物体的位置。比如，将原点O移动到A点，即平移后的物体的坐标由O坐标变为A坐标。

缩放(Scaling): 是指缩小或放大物体的大小。例如，将物体缩放为原来的两倍，即使得每一英寸上的长度和宽度均增加了一倍。

旋转(Rotation): 是指将物体绕某个轴进行旋转。例如，将物体绕X轴旋转90度，即顺时针旋转90度。

正向变换: 是指由一个坐标系转换到另一个坐标系时，先执行平移、缩放和旋转操作。在正向变换中，物体的原始坐标系称为基准坐标系(Base Coordinate System)，变换后坐标系称为目标坐标系(Target Coordinate System)。正向变换可以通过矩阵乘法来表示，且矩阵的第i行j列元素表示源基准坐标系i轴上的单位长度被变换为目标坐标系j轴上的长度。如下图所示：


逆向变换: 是指由一个坐标系转换回到原来的坐标系时，先执行旋转、缩放和平移操作。在逆向变换中，物体的目标坐标系称为基准坐标系，变换前坐标系称为源坐标系。逆向变换也可通过矩阵乘法表示，只需将矩阵转置即可。如下图所示：


## 2.2 什么是直角坐标系？
直角坐标系(Cartesian coordinate system)是一种用原点作为坐标原点的坐标系统。它由x轴和y轴确定，x轴指向右侧，y轴指向下方。其中，x轴从左到右对应于实数轴上的正方向，y轴从上到下对应于虚数轴上的正方向。直角坐标系具有很好的可视化能力，其特点是在屏幕上能够直观地表示二维空间里的直线和曲线。常用的平面图形有点、线段、多边形、圆形等。因此，对于初学者来说，直角坐标系是最简单的坐标系统。


## 2.3 什么是极坐标系？
极坐标系(Polar coordinate system)也称为笛卡尔坐标系。极坐标系的坐标表示是通过极径和极角来定义的，极径表示距离原点的距离，极角表示从x轴正方向到极径点连线与x轴正方向夹角的角度。极坐标系具有自然性和简单性，易于理解和操作。常用于制作三维钟表、航空航天器轨道设计等。


## 2.4 什么是图像坐标系？
图像坐标系(Image coordinate system)是指以某一固定的图像作为参考，把图像中的每个像素都看成直角坐标系中的一个点，所有点的集合组成了图像坐标系。图像坐标系也可称为视口坐标系，主要用于处理像素值、颜色、透明度等属性的图像变换。图像坐标系可按不同习惯把坐标轴命名为u、v或x、y或s、t。


## 2.5 空间变换举例
以正方形为例，假设坐标系原点为左下角（0，0），希望将正方形移动到右上角（10，10）。可以采用正向变换的矩阵表示形式为：

    | x'|     | a b tx|   |x|
    | y'| = M | c d ty| * |y|
    | 1 |     | 0 0  1|   |1|
    
其中M为矩阵，如图：


变换后坐标值为：
    
    | x'|
    | y'|
    | 1 |

因此，经过(a, b, tx, c, d, ty)变换后，正方形的中心点坐标为(tx+10, ty+10)。另外，如果再将正方形变换到原点的左上角（-5，5），可以使用逆向变换的矩阵表示形式为：

    | x |     |a^(-1)+ct   -b^(-1)|   |-ct*ty|
    | y | = M |d^(-1)-at    c^(-1)| * |-at*tx|
    | 1 |     |        0         1|   |     1|

其中(a^(-1), b^(-1), c^(-1), d^(-1))为a，b，c，d的倒数。