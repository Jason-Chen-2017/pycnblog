
作者：禅与计算机程序设计艺术                    

# 1.背景介绍


## 什么是动态规划？
动态规划（Dynamic Programming）是指用递归的方法，将复杂问题分解成子问题解决，从而避免重复计算相同的子问题，从而达到优化计算时间的目的。它的主要思想是把多次重叠的子问题合并为一次性的子问题。它主要用于最优化问题、组合问题、字符串处理问题、资源分配和调度问题等。动态规划方法通过一组适合于不同问题的子问题集来解决给定的问题。动态规划方法可以有效地避免重复计算，因此有助于节省时间和提高效率。
## 为什么要使用动态规划？
很多时候我们需要求解的问题具有最优子结构特征。也就是说局部最优解能决定全局最优解。当问题满足最优子结构特性时，就可以利用动态规划法进行求解。由于动态规划法是一种自上而下的算法，所以在实际应用中往往要结合许多其他的算法才可以得出正确的结果。例如：旅行商问题（Traveling Salesman Problem），矩阵链乘法问题（Matrix Chain Multiplication Problem），股票交易问题（Optimal Basketball Strategies），汉诺塔问题（Tower of Hanoi Problem）。
# 2.核心概念与联系
## 状态转移方程
在动态规划中，通常会定义一个二维数组，用来存储子问题的解。其中每个元素称为状态变量。假设有n个状态变量，第i行第j列的元素表示第i个阶段的所有前i-1个阶段的解已经确定，第i个阶段的目标函数只有前面i-1个阶段的目标函数才能决定。因此，状态转移方程描述了如何根据已知的子问题的解来计算第i个阶段的解。由此，动态规划算法基于子问题的解来计算全局最优解。一般情况下，状态转移方程具备如下特点：

1. 最优子结构：动态规划的本质是分治策略，它依赖子问题的最优解。当一个问题的最优解包含其子问题的最优解时，它就具有最优子结构。

2. 重叠子问题：动态规划算法所解决的每一个子问题只计算一次，并且后续的子问题都可以共享该子问题的解。这样做可以避免重复计算，并减少时间消耗。

3. 无后效性：子问题的解只依赖于当前状态，不受之前状态的影响。

## 子问题重叠和独立选择
动态规划算法要求每个子问题只能访问该子问题的一个相关参数，即不能同时访问两个相互独立的参数。这种约束确保了各个子问题之间不存在重叠，也保证了动态规划算法的正确性。当某个子问题不能被进一步分解时，它就是一个基本问题。

当某个子问题既不是最优子问题也是最优孤立子问题时，那么这种子问题就不是可重用的，动态规划算法需要重新求解这个子问题。比如，假设有一个石头剪子布游戏，其中有n堆石头和m支布，需要找出一种方法，使得先拿走任意堆里面的任意两颗石头，再拿走任意堆里面的一根或两根布，最后拿走任意堆里面的石头数和布数相等。当n=m=1时，就是最优孤立子问题。但由于总共有nm种情况，因此不可重用。当用动态规划算法来解决这个问题时，需要考虑如何把所有子问题划分成更小的基本问题。