
作者：禅与计算机程序设计艺术                    

# 1.背景介绍


## 一、数据类型
关系数据库通常包括以下的数据类型:

1. 数值类型(Numeric types):整数类型（integer）、小数类型（decimal）、浮点类型（float）。 
2. 字符类型(Character types):字符类型（character）、varchar类型、文本类型（text）。 
3. 数据类型组合(Data type combinations):日期/时间类型（date/time），布尔类型（boolean）。 
4. 二进制类型(Binary data types):字节串类型（binary string）、图片类型（image）。

## 二、实体与属性
关系数据库中的每一个数据单元都被称为实体，其由若干个属性组成，这些属性描述了实体的特征。属性可以分为三类:

1. 主键属性(Primary key attribute):主键属性唯一地标识了一个实体；在关系表中，主键属性一般作为表的唯一标识。
2. 普通属性(Normal attribute):普通属性是指那些用来描述实体特征但又不是主键的属性。普通属性可用于数据冗余、描述实体之间的关联性等。
3. 属性的组合(Composite attributes):属性的组合就是指由两个或多个属性组成的属性。例如，地址可以由城市、省份和街道三个属性组成。

## 三、关系表
关系数据库中最基本的数据结构就是关系表，它是一个二维表格结构，每行记录代表一个实体，每列记录代表一个属性。关系表中的每一个元素都对应着某个特定的实体的一个特定的值，通过这个值我们就可以查询到该实体的所有信息。关系表由以下要素构成：

1. 关系名(Relation name):关系名是关系表的名称。
2. 域(Domain):每个关系表都是由若干个域（Attribute）所构成。域包括属性名、属性的数据类型及其属性值的集合。
3. 关系模式(Schema):关系模式是关系表的定义。它包括关系名、域的名称和数据类型。
4. 主码(Primary key):主码是关系表中的一组属性，它唯一标识了关系表中的各个实体。
5. 候选码(Candidate key):候选码是关系表中不能再分拆为主键的属性集，通常包含至少一个属性或属性组合。
6. 外键(Foreign key):外键是用于关联两个关系表的属性，它指向另一个关系表的主键。
7. 元组(Tuple):元组是关系表中的一条记录，它包含了某一实体所有相关属性的值。
8. 关系实例(Relation instance):关系实例是具有相同关系模式的关系表。

## 四、关系代数
关系代数也叫关系演算，它是关系数据库理论基础。关系代数基于一种代数逻辑，将关系操作符与集合论中使用的运算结合起来，从而能够对关系数据进行计算、检索、变换、查询和数据分析。关系代数的主要操作符有选择（selection）、投影（projection）、连接（join）、除法（division）、自然连接（natural join）、除去（complement）、并（union）、差（difference）、交（intersection）等。

## 五、事务
事务(Transaction)是关系数据库管理系统提供的机制，用于处理一组SQL语句，使得数据库从一个一致性状态转换为另一个一致性状态。事务保证了数据的完整性和一致性。事务的特性如下：

1. Atomicity（原子性）：事务是一个不可分割的工作单位，事务中包括的诸操作要么都做，要么都不做。如果只执行其中一部分操作，则事务回滚，数据库将回到之前的一致性状态。
2. Consistency（一致性）：事务的一致性指的是数据库从一个一致性状态转变到另一个一致性状态。一致性是通过触发器、规则、索引等实现的。
3. Isolation（隔离性）：隔离性是事务访问数据库时，对于其他用户并发运行的事物的影响。一个事务不应该看见其他事务运行时的中间结果，只能看到已提交的事务结果。
4. Durability（持久性）：持续性是指一旦事务提交，它对数据库的改变就持久保存了。即使系统崩溃也不会丢失提交的事务的效果。