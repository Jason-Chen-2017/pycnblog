
作者：禅与计算机程序设计艺术                    

# 1.简介
  

## 一、什么是建造者模式？
建造者模式（Builder Pattern）也叫作建造模式，它是一个创建型模式，允许用户创建复杂对象的一部件之一部件，并且不暴露对象的内部构造细节。建造者模式将一个复杂对象的构建与它的表示分离开来，使得同样的构建过程可以创建不同的表示。建造者模式提供了一种创建复杂对象的最佳方式，它将产品的创建流程抽象化，并隐藏了复杂对象的创建过程，让客户端只需要关心对象的组合即可。建造者模式的主要优点是分离了复杂对象的创建和使用，而且允许多个对象使用相同的创建过程。

## 二、为什么要使用建造者模式？
### 1.简洁性高
通过将对象的创建流程进行封装，可以有效地提升代码的可读性和降低代码编写难度，从而提升系统的开发效率。通过将创建过程分离出来，可以将复杂对象的创建过程从业务逻辑中抽离出去，这样就可以减少业务逻辑中的耦合度。因此，通过建造者模式可以更加方便地创建复杂对象。
### 2.复用性强
建造者模式将复杂对象的创建过程分离出来后，不同场景下的创建过程都可以使用相同的代码结构，因此可以有效地避免重复代码。因此，建造者模式具有很好的复用性，可以帮助我们在项目中实现模块重用。
### 3.扩展性好
在建造者模式中，可以通过向导类来一步步的构建一个完整的复杂对象，也可以根据实际需求增加新的建造过程或者步骤。因此，建造者模式能够满足面对未知情况时的扩展能力。

## 三、建造者模式的构成元素
建造者模式包括如下几个角色：
1.抽象建造者（Abstract Builder）: 抽象建造者为创建一个Product对象定义了一个抽象接口。该接口提供了一套用来指定创建Product各个部分的方法。
2.具体建造者（Concrete Builder）：具体建造者继承于抽象建造者，用于实现抽象建造者中定义的各个接口方法。具体建造者一般负责组装Product的各个零件，但有时可能还需负责检查参数的有效性等。
3.导演（Director）：导演作为总控者，指挥具体建造者按顺序调用建造方法创建完整的对象。
4.产品（Product）：最终要生成的对象，由建造者创建。


## 四、建造者模式的适用场景
建造者模式通常适用于以下场景：
1.当创建复杂对象时，希望将复杂对象的创建流程独立出来，提升其灵活性；
2.当一个对象的建造过程或步骤较多，且经常变化时，将它们分离出来并集中管理；
3.当一个对象有多个相似的建造过程时，优先考虑使用建造者模式；
4.当对象内部表现复杂，且有多个维度时，使用建造者模式可以有效地将创建代码划分得更清晰。

## 五、建造者模式的优缺点
### 1.优点
1.建造者模式能够按照构造函数、链式调用的方式来创建复杂对象；
2.建造者模式可以一步一步的构造复杂对象，使得创建过程变得简单和容易控制；
3.建造者模式可以很好的解决构造函数的参数过多的问题；
4.建造者模式可以提供一种优秀的组织形式来构造对象。

### 2.缺点
1.建造者模式会产生一些中间对象，占用额外空间；
2.建造者模式的违反了依赖倒置原则。

## 六、建造者模式的使用场景
建造者模式的使用场景可以说是非常广泛的。其中最常见的应用就是各种设计模式框架中的建造者模式。比如，Spring中的BeanFactory和ApplicationContext都是采用了建造者模式，我们在创建ApplicationContext的时候，就可以使用建造者模式来指定各个bean及其属性。

# 2.基本概念术语说明

## 1.“建造者”模式的基本名词解释

“建造者模式”（英语：Builder pattern），创建型设计模式，属于对象创建型设计模式。它主要解决构造对象(Object)时的复杂对象创建过程，将创建对象的过程交给一个专门的Builder对象来负责，Builder负责描述如何构建一个product对象，一步一步的返回一个完整的对象，这个过程一般比较复杂，但是在最后的获取结果的时候只需要使用一个build()方法来获取到一个完整的对象，而且Builder类的职责是使用简单的对象组合方式来创建更为复杂的对象。在使用“建造者模式”的过程中，需要分为建造者(Builder)和指挥者(Director)。建造者就是指专门用于创建产品的类，它负责创建产品的各个部分，指挥者也就是用来指挥建造者完成对象的创建，而指挥者知道怎样使用建造者来建立产品。所以“建造者模式”就是使用一个Builder对象来创建一系列相关对象的过程，最后将所有相关的对象创建好，然后再整体使用一个方法来统一的构建出来。