
作者：禅与计算机程序设计艺术                    

# 1.简介
  

随着互联网、云计算等技术的发展，在信息安全领域越来越多的人们关注数据安全问题。信息安全包括保护个人隐私和公司、政府机构的机密信息、以及对网络犯罪和经济欺诈行为进行监控、防御、预警、处理等的一系列工作。其中，对数据的加密是信息安全的一个重要环节。加密技术的应用范围很广泛，主要涉及对数据和通信传输过程中的明文信息进行转换，使其不被第三方获得、读取和复制。目前主流的加密方式包括对称加密、非对称加密、hash算法和摘要算法。本篇文章将介绍各类加密模式的特性和适用场景。
# 2.基本概念术语
## 2.1 加密类型
### 对称加密
对称加密也叫做共享密钥加密，又叫单向加密或私钥加密。它使用同一个密钥进行加密和解密，即发送方和接收方必须同时拥有相同的密钥才能成功实现加密解密过程。由于加密和解密使用的是同一个密钥，因此这种加密方法属于非公开性加密。因为加密使用的密钥只能由双方之一持有，所以对称加密通常具有较高的安全性。虽然这种加密模式存在一些弱点，例如暴力破解密钥难度很高，但是在一定程度上能够抵御攻击者的强攻。
### 非对称加密
非对称加密也叫作公钥加密，它采用两个密钥，公钥和私钥。公钥用于加密，而私钥用于解密。两个密钥之间存在着一种特定的对应关系，公钥与私钥是一对匹配的，不存在中间人，只能由一方通过某种手段获取另一方的公钥。由于公钥可以公开，任何人都可以知道，因此可用来进行信件加密、数字签名等，具有极高的安全性。
### hash算法
hash算法又叫散列函数，它接受输入的数据，经过复杂的计算得出固定长度的输出，该输出便是散列值（也叫哈希值）。对相同的输入数据，得到的输出必定相同；但不同输入数据得到的输出也不同。由于 hash 函数的不可逆性，可以把任意长度的数据压缩到短一点的消息摘要中，且具有唯一性。由于它快速并且简单易行，因而成为了很多加密和认证系统的基础。
### 摘要算法
摘要算法也可以叫做消息摘要函数，它接受输入的数据，生成固定长度的摘要作为输出。和 hash 函数不同，摘要算法并不能提供原始数据对应的信息完整性校验。而 hash 函数则提供了消息摘要与原始数据之间的校验。使用摘要算法比使用 hash 函数更安全，因为摘要函数没有简单的方法求解输入数据和它的摘要之间的映射关系。
## 2.2 加密模式
### ECB模式
Electronic Code Book (ECB) 是最简单的块密码模式。在这种模式下，每一个明文块都是独立加密的，也就是说相同的明文块始终会被加密成相同的密文块。这意味着如果加密了两次相同的数据，得到的结果必然一样。实际上，这种模式的安全性取决于实现方式，由于相同的明文块始终会被加密成相同的密文块，所以容易受到撞库攻击。

### CBC模式
Cipher-Block Chaining (CBC) 模式也是一种块密码模式。在这个模式下，每个明文块都会跟一个初始向量组合在一起，然后再进行加密。这样做的好处是增加了随机性，减小了明文中重复出现的字符可能导致的影响。此外，加密和解密过程都需要依赖相同的初始向量，保证了不可预测性。

### CFB模式
Cipher Feedback (CFB) 模式也是一种块密码模式。在这种模式下，加密过程不是在整个明文块上进行，而是根据上一次加密得到的密文块来加密当前明文块。这样做的好处是能够提供更高的安全性，即使密钥泄露，也可以安全地重建密文。但是，由于加密速度慢，使得加密解密速度无法满足需求。

### OFB模式
Output Feedback (OFB) 模式也是一种块密码模式。在这种模式下，加密过程不是在整个明文块上进行，而是根据上一次加密得到的密文块来加密当前明文块。但是，由于每个加密后得到的密文块与前面所有密文块相关联，因此，加密后的密文块之间存在相关性，容易被攻击者推测出来。

### CTR模式
Counter Mode (CTR) 模式是一种计数器模式。在这种模式下，每个加密块都有一个计数器的值，该计数器从初始值开始，每次加1。由于计数器值与明文块无关，因此，加密后的密文块完全独立。CTR 模式比较适合对低级平台上的嵌入式设备进行加密，因为对计时攻击很难防止。

### GCM模式
Galois Counter Mode (GCM) 模式是一种计数器模式。在这种模式下，加密过程中使用的计数器值与IV(Initialization Vector)值相加，产生计数器记号ctr。与之前的模式相比，GCM 模式中的 IV 和加密密钥被混淆在一起，使得攻击者很难解密。