
作者：禅与计算机程序设计艺术                    

# 1.简介
  

Plotly是一个基于Python的开源数据可视化库。它提供各种类型的图表及地图，并支持自定义主题、交互效果、动画等。Plotly可用于构建数据分析和科学研究中的图表、图形、分布图等。其图表设计灵活、美观、直观、实用。它的功能强大且强大的编程接口可以实现数据的实时更新、交互式数据展示、动态图形渲染、多维数据可视化、并行坐标轴支持等，并且还具有强大的可扩展性。Plotly提供了免费版本和付费版本。在这里，我们将重点介绍如何使用Plotly绘制复杂的可视化图表及地图，包括柱状图、折线图、散点图、等距分布图、分位数图、热力图、箱线图、时间序列图、地理信息图、三维图、股票图等。同时，我们还将分享一些其他的知识点，例如数据编码、图例设置、多视图图等。此外，本文将结合实际案例来进一步讲述如何利用Plotly进行可视化分析和解决实际问题。
# 2.准备工作
首先，需要安装Anaconda或者Miniconda环境，然后使用pip安装plotly库即可。
```python
!pip install plotly==4.9.0
```

另外，本文基于Jupyter Notebook编写，您可以选择安装Jupyter Notebook或其它编辑器并打开相应文件，并通过相关工具导入相关模块。

本文使用的样例数据集是一个CSV文件，文件内容如下所示:

```csv
Year,Month,Sales
2017-01,Jan,50000
2017-01,Feb,60000
2017-01,Mar,70000
2017-01,Apr,80000
2017-01,May,90000
2017-01,Jun,100000
2017-02,Jan,30000
2017-02,Feb,40000
2017-02,Mar,60000
2017-02,Apr,70000
2017-02,May,80000
2017-02,Jun,90000
2017-03,Jan,40000
2017-03,Feb,50000
2017-03,Mar,60000
2017-03,Apr,80000
2017-03,May,90000
2017-03,Jun,100000
2017-04,Jan,60000
2017-04,Feb,70000
2017-04,Mar,80000
2017-04,Apr,90000
2017-04,May,100000
2017-04,Jun,110000
```

# 3.柱状图
柱状图主要用来显示分类变量之间的比较。它的横轴表示类别，纵轴表示数量。在Plotly中，我们可以使用go.Bar()函数创建柱状图。

## 3.1 数据准备
我们先读取上面的数据集，并将日期转换成标准格式"YYYY-MM-DD HH:MM:SS"。 

```python
import pandas as pd
df = pd.read_csv('sales.csv')

df['Date'] = pd.to_datetime(df[['Year', 'Month']], format='%Y-%m').dt.strftime('%Y-%m-%d %H:%M:%S')

df.head()
```

输出结果如下：

```
   Year Month   Sales         Date
0  2017    Jan  50000  2017-01-01 00:00:00
1  2017    Feb  60000  2017-02-01 00:00:00
2  2017    Mar  70000  2017-03-01 00:00:00
3  2017    Apr  80000  2017-04-01 00:00:00
4  2017    May  90000  2017-05-01 00:00:00
```

## 3.2 创建柱状图
接下来，我们使用go.Bar()函数创建柱状图。

```python
import plotly.graph_objects as go

fig = go.Figure()

fig.add_trace(go.Bar(
    x=df['Date'],
    y=df['Sales'],
    name='Sales'
))

fig.update_layout(title_text="Monthly Sales",
                  title_x=0.5)

fig.show()
```

输出结果：
