
作者：禅与计算机程序设计艺术                    

# 1.简介
  

在图论中，最小生成树（Minimum Spanning Tree）问题（又称“最小支撑树”）是求一个给定的无向连通图（不一定是连通的）中的极小生成树的问题。在许多实际应用中，最小生成树问题是一个重要问题，例如用于电路设计、通信网络设计、流管道设计等。本文将会通过对两种常用的算法——Prim算法和Kruskal算法进行详尽解析，来阐述它们的原理和特性。

# 2.基本概念和术语
## 2.1 图
图G=(V,E)是一个由顶点集V和边集E组成的有穷集合。其中，V表示图中的顶点或节点，E表示连接V中顶点的一系列边。顶点可以用数字、符号或者其他能够唯一地标识自身的对象来命名，而边则用线段、箭头、弧段等符号来表示。
## 2.2 权重函数w(u,v)和路径
路径P是一个连接了顶点序列{u1, u2,..., uk}和顶点vk的一个边序列{(ui,vi)}，其中ui<vi且在图中存在一条连接ui和vi的边。

设G=(V,E), V表示图中的顶点，E表示连接V中顶点的一系列边，对于任意两个顶点u和v，有w(u, v)>=0表示从顶点u到顶点v的边的权重。路径P的权重定义为其所有边的权重之和，记做wp(P)=∑_{i=1}^k w((pi[i-1], pi[i]))。

另外，设G=(V,E)是一个带权重的无向连通图。若在所有从u到v的边上都赋予相同的权重w(u,v)，则称这样的图为无标度图。如果一个带权重的无向连通图G具有n个顶点，m条边，则它的最小生成树对应着具有如下性质的子图T:

1. T中所有的顶点都是G的顶点；
2. T中任意两点间都有且仅有一个最短路径相连；

也就是说，该最小生成树包含了所有的边，而且每条边都通过了两个不同的顶点。图G的一个最小生成树是指使得所有边权重和最小的生成树。

## 2.3 Prim算法
Prim算法是一种很古老的生成树算法，它利用的是加权图的贪心选择策略。其基本想法是每次选取当前子图中权值最小的边加入生成树，直至生成树连接所有顶点为止。

算法过程如下：

1. 从V中任选出一个顶点作为起始点，并将其加入初始生成树T={V0};

2. 对剩余未加入T的顶点依次进行以下操作，选择其与初始生成树中已有的顶点之间的一条连接边，满足其权值最小者：

    a. 如果选择边的终点已经属于T，则跳过此次操作，否则，将此终点加入T;

    b. 更新T中对应边的权值，对于加入T的每条边，将其权值减去所选边的权值，并更新与之相连的顶点的权值，继续重复以上操作，直至所有边都被加入T或不存在另一条权值更低的边可供选择时停止。
    
3. 当某个顶点的所有相邻边均被处理后，该顶点就可以被删除了。重复以上操作，直至初始生成树的边数等于n-1时，即所有边都被加入T。此时的生成树就是图G的最小生成树。

## 2.4 Kruskal算法
Kruskal算法也是一种生成树算法，其思想是在排序之后的边序列中选取权值最小的边加入生成树，直至生成树连接所有顶点为止。不同于Prim算法，Kruskal算法直接对边进行排序，然后按照权值从小到大的顺序选取边，直至生成树的边数等于n-1。

算法过程如下：

1. 将边按权值升序排列，得到新的有向无环图G'=(V', E');

2. 从E'中选择权值最小的边e = (u, v)，将u和v所在的集合A和B合并，记为A∪B={u,v};

3. 重复步骤2，直至生成树的边数等于n-1，此时的生成树就是图G的最小生成树。

## 2.5 时间复杂度分析
假设图G=(V,E)是一个带权重的无向连通图，其权值分布情况是随机的。

### 2.5.1 Prim算法
Prim算法的时间复杂度为O(|V|+|E|log|V|), 因为每次选择最优边的过程中都需要查找O(|V|)的最短路径，而总共需要选择|V|-1条边，因此将所有边都遍历一遍的时间复杂度为O(|E|). 在构造最小生成树的过程中，每次找到的边都会对每个边的权值进行一次更新，因此共需要|E|步才能构造出最小生成树。因此，Prim算法的时间复杂度总体上等于|V| + |E|.

### 2.5.2 Kruskal算法
Kruskal算法的时间复杂度为O(|E|log|E|), 是Prim算法的几何倍率。同样，由于每次要扫描整个边表来选择最优边，因此Kruskal算法的时间复杂度为O(|E|). Kruskal算法的第二部操作是将两点所属的集合合并，因此每个合并操作的时间复杂度为O(1)，而|V|-1次合并操作将会对所有边进行一次扫描，因此总时间复杂度为O(|E|^2).