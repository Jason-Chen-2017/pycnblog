
作者：禅与计算机程序设计艺术                    

# 1.背景介绍


2019年1月，美国国安局(Department of Homeland Security)宣布，联邦政府将通过审查和清除公司、研究机构和个人在云环境中的网络流量。这一举措旨在保护美国企业免受黑客攻击、监视和租用犯罪行为带来的风险。针对IT行业的“云杀手”，美国军方当天也发布了《禁止俄罗斯、中国及其他国家的租用美国公司云服务器的通知》，各个国家/地区也纷纷出台相关政策或法规。这场打击恐怕要持续一段时间，尤其是在网络空间日益复杂化的背景下。

但是，究竟什么样的恶意软件才能通过“云查杀”这种神奇的方式被发现并移除呢？如果恶意软件会直接上传到云端，它们如何能从云端下载到本地进行分析？是否存在其他可疑方式让恶意软件沿着全网传播？有研究人员曾经尝试用机器学习的方法预测恶意软件可能的入侵路径，但效果不佳，甚至还出现过误报。此外，还有研究人员提出了其他的手段来对付恶意软件，例如利用互联网管制工具，检测恶意代码，过滤掉恶意链接等等。不过，都需要长期积累实践经验。

另外，“云查杀”只是第一步，后面还会有多次调整部署，以确保整个网络安全。因此，整个解决方案的设计不能只停留在设想阶段。如果没有大胆的探索，就很容易陷入死循环，因为我们总是不知道什么时候才会遇上最好的时机。

# 2.核心概念与联系
## 2.1 概念
### 2.1.1 恶意软件
恶意软件（Malware）指的是包含恶意功能的代码或文件，主要分为两种类型，一种是病毒，另一种是特洛伊木马（Trojan Horse）。病毒一般为“宏”文件，即一段一键控制计算机的程序；特洛伊木马则不是宏，它安装在目标计算机中，可以控制用户的电脑操作。 

常见的恶意软件包括盗版、勒索软件、垃圾邮件、拒绝服务攻击、病毒、间谍软件、中间人攻击等等。

### 2.1.2 云计算
云计算（Cloud Computing）是一种将计算资源（如服务器、存储、数据库和网络设备）裸露给最终用户的服务模式，使得用户能够按照需求快速获取所需计算资源的一种服务，是在线提供商通过网络访问服务器资源的一种方式。云计算平台可以提供各种基础服务，如计算、数据存储、网络传输、应用开发和管理等，包括公共云、私有云、混合云和边缘云等。目前，云计算市场规模已达到百亿美元，是当今世界最大的生态系统之一。

云计算服务提供了无限的计算、存储和网络资源，使得用户的应用服务更加灵活、便捷。通过云计算，用户可以享受到快速扩张的优势，同时降低了运营成本。

### 2.1.3 云查杀
云查杀（Cloud Warfare），由美国国土安全部国家信息安全局提出的一种基于云计算的威胁情报收集、分析和实时反馈机制。云查杀的目标是识别和分析恶意软件上传到云端，利用各类云服务提供商提供的 API 和 SDK 来实时感知、跟踪和分析这些恶意软件的上传、传播、下载和执行活动，并实时生成报告或警报，向所有者发送警报，让用户及时发现、隔离和防范恶意软件对自身的影响。

### 2.1.4 文件加密
文件加密（Encryption）是指通过对文件的原文进行处理，使之成为加密密文，只有拥有密钥的人才能解密，目的是保障文件完整性、机密性以及数据的隐私。文件加密可用于保障文件在传输过程中不被窃取或篡改。

## 2.2 联系

恶意软件，指的是具有恶意功能的代码或文件。它主要分为病毒和特洛伊木马两类，病毒一般为宏文件，主要用来破坏或控制计算机上的操作系统、网络通信等。特洛伊木马则非宏文件，它是恶意软件安装在目标计算机中，控制用户的电脑操作。

云计算是一种将计算资源裸露给最终用户的服务模式，它的特征就是按需获得计算资源。通过云计算平台提供各种基础服务，如计算、数据存储、网络传输、应用开发和管理等，包括公共云、私有云、混合云和边缘云等。

云查杀是基于云计算的威胁情报收集、分析和实时反馈机制，其目的在于识别和分析恶意软件上传到云端，利用各类云服务提供商提供的API和SDK来实时感知、跟踪和分析这些恶意软件的上传、传播、下载和执行活动，并实时生成报告或警报，向所有者发送警报，让用户及时发现、隔离和防范恶意软件对自身的影响。

文件加密是通过对文件的原文进行处理，使之成为加密密文，只有拥有密钥的人才能解密，目的是保障文件完整性、机密性以及数据的隐私。文件加密可用于保障文件在传输过程中不被窃取或篡改。

通过“云查杀”，我们希望能够分析出恶意软件上传到云端之后，它如何从云端下载到本地，如何在恶意软件之间传播。然后，通过对比网络流量日志，并结合相关知识，预测恶意软件可能的入侵路径。这样，就能够准确识别、隔离、预防和解决恶意软件对自身的影响。