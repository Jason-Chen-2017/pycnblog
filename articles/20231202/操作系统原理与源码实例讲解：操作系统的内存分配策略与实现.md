                 

# 1.背景介绍

操作系统内存管理是一项至关重要的任务，它负责为各种进程和线程分配和回收内存资源。在这篇文章中，我们将深入探讨操作系统的内存分配策略及其实现细节。

首先，我们需要了解一些基本概念：
- **内存分配**：操作系统为进程和线程提供内存空间，以便它们可以运行和执行代码。
- **内存回收**：当进程或线程不再需要内存时，操作系统需要将其回收并将其添加到可用内存池中，以便于后续的分配。
- **内存碎片**：由于内存的动态分配和回收过程，可能会导致内存空间不连续或不完整。这种情况称为“碎片”。碎片会影响系统性能，因此需要合适的分配策略来减少碎片产生。

## 2.核心概念与联系
在操作系统中，主要有两种类型的内存分配策略：静态分配和动态分配。静态分配是预先为每个进程或线程预留固定大小的内存空间，而动态分配则是在运行时根据实际需求动态地为进程或线程分配内存空间。动态分配策略更加灵活且高效，因此在现代操作系统中广泛采用。

### 2.1 静态分配与动态分配区别对比
- **静态分配**：在编译期决定大小；无法调整大小；无法释放未使用的空间；适用于已知大小、固定大小、不变化的数据结构（如全局变量）；例如C语言中使用`static`关键字声明全局变量时就是静态分配。
- **动态分配**：在运行期决定大小；可以调整大小；可以释放未使用的空间；适用于未知大小、可变大小、随时改变的数据结构（如堆上动态申请的数组）；例如C语言中使用`malloc`函数申请堆空间时就是动态分配。
### 2.2 常见的动态内存管理策略及其优缺点对比表格:
| 策略名称 | 优点 | 缺点 | 适用场景 | 举例 |
| --- | --- | --- | --- | --- |
| First Fit (FF) | -简单实现<br>-快速查找<br>-较少碎片产生<br>-适合较多较小块<br>-适合低端硬件环境(低RAM,慢CPU) | -不均匀利用<br>-容易产生外部碎片<br>-适合较少较大块(即:剩余区域足够容纳所求区域) | -文件管理器(磁盘空间管理)<br>-物理硬件资源管理器(如:电子设计软件)<br>(但现代操作系统通常采用Best Fit算法替换First Fit算法) | -Windows95/98/ME文件管理器 <br>(早期版本采用First Fit算法) <br>(后来改为Best Fit算法) <br>(Linux文件管理器也采用Best Fit算法) <br>-(早期版本Windows NT采用First Fit算法,后来改为Best Fit算法) <br>(Linux文件管理器也采用Best Fit算法) <br>-(早期版本Windows NT采用First Fit算法,后来改为Best Fit算法)|