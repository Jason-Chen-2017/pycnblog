
作者：禅与计算机程序设计艺术                    

# 1.简介
  

概率分布计算是许多数据分析、预测建模和决策科技领域的基础。本文将通过对概率论与统计学的基础知识点进行剖析，深入浅出地解读和阐述了概率分布计算的基本原理和方法。阅读完毕后，读者应该可以掌握以下内容：
- 概率分布的概念及其应用
- 概率分布计算的基本方法
- 从连续型到离散型变量的概率密度函数计算
- 联合概率分布计算和独立性假设
- 贝叶斯公式推导和参数估计
- 马尔可夫链蒙特卡罗方法在概率分布计算中的应用
- 分布适配、核密度估计(KDE)、最大似然估计（MLE）等模型选择和优化方法
本文并不涉及太多高深的数学推理，仅仅是从基础概念、方法和应用三个方面介绍概率分布计算的方法和技术。
# 2.概率分布的概念
概率分布是描述随机变量的概率密度或概率密度函数（Probability Density Function，PDF）。它表示某个随机变量取某一值的可能性大小。其中值是一个实数，表示随机变量在指定区间上的积分或概率值，由上下限确定，记作P(x)。在概率论中，一个随机变量可以是连续的也可以是离散的。随机变量又可以分为两类：有限随机变量（Finite Random Variable）与无限随机变量（Infinite Random Variable）。
## 2.1 有限随机变量
假设随机变量X具有如下定义域：$X \in [a,b]$，即取值为$x=a$或者$x=b$的概率为零，其他情况均有非负概率。那么，在这个区间上定义的随机变量X称为有限随机变量。
### 2.1.1 二项分布
在一个试验中，抛掷硬币n次，正面朝上的次数为k，则称X为二项分布，记作$B(n,p)$，其中n为抛硬币的次数，p为正面朝上的概率。概率质量函数(PMF)：$f(k)=\left(\begin{array}{c} n \\ k \end{array}\right)p^{k}(1-p)^{n-k}$


### 2.1.2 几何分布
设X为第一次正面朝上的抛币结果，Y为第二次正面朝上的抛币结果，且满足$X+Y=N$，其中N为抛硬币的总次数。则称$(X,Y)$服从几何分布，记作$G(p)$，其中p为正面朝上的概率。

概率质量函数：$f(x_{1}, x_{2})=\frac{(1-p)^{x_{1}} p^{x_{2}}}{(1-(1-p))^{x_{1}} (1-p)^{x_{2}}}=\frac{p^{x_{1}-1}(1-p)^{x_{2}-1}}{p(1-p)}$

其中$0<=x_{1},x_{2}<=(N-2)/2$；$0<=y_{1},y_{2}<=(N-2)/2$

对于任意$(x_{1},x_{2})\leq N-2$,其边缘分布为：

$f(x_{1}=i,x_{2}=j)=(N-2)! p^{ij}/((N-2)! i! j!(N-2-i-j)!)$.

### 2.1.3 泊松分布
在单位时间内随机事件发生次数的观察值符合泊松分布。泊松分布描述了短期内随机事件发生频率的行为。泊松分布的参数λ，指的是单位时间内平均发生次数，其定义域为$\lambda>0$。概率质量函数：$f(k;λ)=\frac{\lambda^k e^{-λ}}{k!}$。当λ趋于无穷大时，泊松分布趋近于指数分布。

### 2.1.4 几何分布与泊松分布
几何分布和泊松分布都是长尾分布，其分布形态与概率质量函数相关，但区别在于它们的相互关系。几何分布表现为泊松分布的极小值，即λ最小，而泊松分布表现为几何分布的极大值，即p最大。
## 2.2 无限随机变量
### 2.2.1 正态分布
正态分布（Normal distribution）又称高斯分布、钟形分布、钟曲线。概率密度函数：
$f(x)=\frac{1}{\sqrt{2\pi \sigma^2}}\exp(-\frac{(x-\mu)^2}{2\sigma^2})$
其中，μ为平均值，σ为标准差。分布最常见的用途是在工程、经济、生物、天文学等领域，研究数学上的随机变量，特别是数据的分布、相关性以及各种模型参数估计等问题。
### 2.2.2 指数分布
指数分布（Exponential distribution）又称为自然指数分布，简称为指数分布。指数分布在实际应用中扮演着极为重要的角色，例如，其生成过程、传播规律、寿命模型都十分复杂，对于许多工程问题，指数分布也成为最常用的分布之一。

指数分布具有如下定义：
$$
f(x|\lambda ) =\begin{cases}\lambda e^{-\lambda x}&x>=0\\0&x<0\end{cases}
$$
其参数λ(lambda)一般表示平均等待时间。该分布的累积分布函数（CDF）记做F(x)=P(X≤x)，可以用来求解一些概率问题。

例1：一个单位时间内，设有一个服务窗口，客户在该窗口出现的时间间隔是指数分布的。已知服务窗口长度为T，等待时间的平均值λ，求客户在窗口停留时间的概率分布。
$$
f(t|T,\lambda)=\frac{e^{-\lambda T} \lambda ^{T-t}}{T!}
$$
例2：一辆车需要在单位时间内恢复多少油量？假定此前该车所在的区域的平均恢复率为λ，单位时间内所耗油量的期望值为1，求单位时间恢复油量的概率密度函数。
$$
f(x|λ) =\begin{cases}\lambda x e^{-\lambda x}&x>0\\0&x\le 0\end{cases}
$$
指数分布有许多应用。例如，在生命科学领域中，指数分布常用来表示寿命随年龄增长的变化，包括传染病、老化、癌症等。在统计学、物理学、电气工程等领域，指数分布常用来描述电压、磁场、功率等随机变量的出现规律。