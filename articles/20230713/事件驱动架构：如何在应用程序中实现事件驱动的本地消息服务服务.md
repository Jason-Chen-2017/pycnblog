
作者：禅与计算机程序设计艺术                    
                
                
随着互联网应用的飞速发展、信息技术的发达，越来越多的企业开始转向云计算。但是对于一些传统行业而言，在未迈出这一步之前就已进入了“本地化”时代，如银行、零售等金融行业、保险行业等。这些行业依赖的数据量很大，需要高效、可靠地存储数据。但是当今的硬件设备资源已经不再满足需求，只能采取软硬件结合的方式进行数据存储。这些行业往往对数据的实时性要求较高，并且存在跨域数据共享的场景。因此，很多本地行业都开始考虑实现本地消息服务。
那么什么是本地消息服务？什么是事件驱动架构？这里简要介绍一下这两者。
## 本地消息服务
本地消息服务（Local Message Service）即位于应用程序内部的消息传输服务。本地消息服务提供了一种高度可靠、低延迟、分布式的消息传输机制。它可以在不同的应用程序之间传递消息，并提供包括但不限于异步消息、基于事件的通知、轮询等功能。这些消息可以经过路由、过滤、转换、投递等处理，从而实现业务需求和系统集成。本地消息服务作为分布式应用程序的一部分，具有以下特征：
- 服务自治：每个服务独立运行，具有自己的消息存储、处理逻辑和配置参数。
- 可扩展性：通过增加新的消息队列节点或服务节点实现弹性伸缩。
- 易于管理：所有的消息服务配置和管理任务可以通过统一的管理界面完成。
- 灵活性：支持多种消息协议、负载均衡、消息过滤、路由策略、消息持久化等功能。

## 事件驱动架构
事件驱动架构（Event Driven Architecture，EDA）是一种用于面向服务架构（SOA）的架构模式。它允许多个服务之间通过异步通信来交换事件，并在发生特定事件时触发相应的事件处理器。事件驱动架构是一种软硬件协同工作的架构，它将复杂的业务逻辑和事务划分到一个个事件处理器上，降低耦合度并提升系统可靠性。它的主要特点包括：
- 松耦合：各个组件可以单独开发和部署，彼此之间只需遵循简单接口规范。
- 弹性伸缩：通过集群化和自动扩展来保证服务的高可用性及性能。
- 事件驱动：通过异步消息传递来实现事件驱动。
- 复用机制：通过事件定义标准和规范，可以轻松复用其他服务的事件。

# 2.基本概念术语说明
## 2.1 概念
### 1) 本地消息服务（Local Message Service）
本地消息服务是一个分布式消息传输服务，它可以在不同的应用程序之间传递消息，并提供包括但不限于异步消息、基于事件的通知、轮询等功能。本地消息服务作为分布式应用程序的一部分，具有以下特征：
- 服务自治：每个服务独立运行，具有自己的消息存储、处理逻辑和配置参数。
- 可扩展性：通过增加新的消息队列节点或服务节点实现弹性伸缩。
- 易于管理：所有的消息服务配置和管理任务可以通过统一的管理界面完成。
- 灵活性：支持多种消息协议、负载均衡、消息过滤、路由策略、消息持久化等功能。
### 2) 事件驱动架构（Event Driven Architecture）
事件驱动架构（Event Driven Architecture，EDA）是一种用于面向服务架构（SOA）的架构模式。它允许多个服务之间通过异步通信来交换事件，并在发生特定事件时触发相应的事件处理器。事件驱动架构是一种软硬件协同工作的架构，它将复杂的业务逻辑和事务划分到一个个事件处理器上，降低耦合度并提升系统可靠性。它的主要特点包括：
- 松耦合：各个组件可以单独开发和部署，彼此之间只需遵循简单接口规范。
- 弹性伸缩：通过集群化和自动扩展来保证服务的高可用性及性能。
- 事件驱动：通过异步消息传递来实现事件驱动。
- 复用机制：通过事件定义标准和规范，可以轻松复用其他服务的事件。

### 3) 服务单元（Service Unit）
服务单元是指系统中的一个独立的服务模块。它由一个消息处理器、消息队列和一些必要的配置参数组成。服务单元被设计为处理特定的业务领域，具有良好的内聚性、高内聚职责和单一目的。服务单元能够独立运行、分配资源、部署升级。

### 4) 事件（Event）
事件是指发生在系统中的某种客观事实或者状态改变，它可以是用户输入、外部请求、定时器、错误、警告、日志记录等。它被封装在事件对象中，并被发布到消息代理中。

### 5) 事件源（Event Source）
事件源是指系统中某个实体，它生成和发布事件，并可能拥有或管理事件处理器。它代表了系统的业务逻辑，决定了系统应该产生哪些事件。例如，订单事件源可能发布创建订单、支付订单、取消订单等事件。

### 6) 事件处理器（Event Handler）
事件处理器是指接受并处理事件的软件模块。它可以是一个独立进程或函数，也可以是一个服务单元中的一个子模块。事件处理器通常订阅事件，并根据事件类型执行相应的业务逻辑。

### 7) 事件主题（Event Topic）
事件主题是指所有与某个事件相关联的事件的集合。事件主题由主题名称唯一标识。

### 8) 消息代理（Message Broker）
消息代理是用来存放和转发事件的软件模块。它接收来自不同事件源的事件，并将它们保存至消息存储中，同时发送给订阅该主题的事件处理器。消息代理一般采用发布/订阅模型，它可以实现负载均衡、容错恢复和消息过滤功能。

### 9) 消息存储（Message Store）
消息存储是用来保存和持久化事件的数据库或文件系统。消息存储通常支持基于时间戳、消息大小等维度的查询和检索功能。

## 2.2 术语说明
### 1) API（Application Programming Interface）
API，即应用程序编程接口，是计算机软件组件间相互通信的一种约定方式。API定义了一个软件模块所需的接口，使得其能够被其他组件调用。API一般定义了函数、过程、数据结构等。

### 2) CQRS（Command Query Responsibility Segregation）
CQRS，即命令查询职责分离，是一个软件设计模式。它把读写操作分割开来。写操作和修改数据的同时，允许查询数据的操作，有效提升系统的并发性能。

### 3) CRUD（Create Read Update Delete）
CRUD，即创建、读取、更新、删除，是一个常用的数据库操作模型。在这种模型下，数据存储在关系型数据库中，使用INSERT、SELECT、UPDATE、DELETE语句来创建、读取、更新、删除数据。

### 4) DAO（Data Access Object）
DAO，即数据访问对象，是一个简单的Java对象，它封装了数据库的读写操作。它一般作为服务层的一个成员变量，为业务逻辑层提供数据访问服务。

### 5) DSL（Domain Specific Language）
DSL，即领域特定语言，是为某个特定的领域或行业设计的计算机语言。DSL有助于提高程序员的工作效率，减少语法和语义错误。

### 6) ECMAscript（ECMAScript）
ECMAscript，即ECMAScript，是一种用于编写动态网页的脚本语言。它是JavaScript的非官方规范。

### 7) EDA（Event Driven Architecture）
EDA，即事件驱动架构，是一种面向服务架构（SOA）的架构模式。它利用异步消息传递来实现事件驱动。

### 8) FaaS（Function as a Service）
FaaS，即函数即服务，是在云计算环境中运行的无服务器函数。它可以使用云平台提供的计算能力来响应事件。

### 9) HTTP（Hypertext Transfer Protocol）
HTTP，即超文本传输协议，是互联网上应用最广泛的协议。它用于从万维网服务器传输超文本文档。

### 10) JSON（JavaScript Object Notation）
JSON，即JavaScript对象表示法，是一种轻量级的数据交换格式。它易于解析和生成。

### 11) OSI（Open Systems Interconnection）
OSI，即开放系统互连，是国际标准化组织（ISO）制定的一套计算机网络互连的参考模型。它把计算机网络互连的过程分为七层。

### 12) RESTful API（Representational State Transfer）
RESTful API，即表述性状态转移，是一种基于HTTP协议的软件架构风格。它利用URL、方法、头部、消息体四个元素来表示服务端资源。

