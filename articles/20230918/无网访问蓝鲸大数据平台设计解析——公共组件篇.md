
作者：禅与计算机程序设计艺术                    

# 1.简介
  

　　Apache License 开源协议是著名的非盈利、社区驱动的开源软件许可协议。当前最流行的 Linux 发行版——Debian 和 Red Hat Enterprise Linux（RHEL）都采用了 Apache License 作为其默认的开源协议。虽然 Apache License 是通用的开源协议，但在企业内部使用的开源项目中却存在着不少问题。其中一个重要的问题就是 Apache License 的强制许可，这对于一些安全性要求较高的项目来说是一个无法接受的因素。

　　对于这样一种开源协议的应用场景来说，蓝鲸智云产业联合创始人陈磊就提出了蓝鲸大数据平台，它是一个基于 Apache Hadoop、Spark、Storm 等框架构建的大数据分析计算平台。该平台旨在解决海量数据的存储、处理、分析及快速展示问题，并提供一系列基于大数据分析引擎实现的数据服务，如数据开发中心、数据应用中心、数据分析中心、数据监控中心等。因此，为了更好的支持蓝鲸大数据平台的运营管理和数据服务，在产品设计上就需要考虑到以下三个方面：

　　1) 去除强制性许可证
　　2) 提升用户体验
　　3) 保障数据安全

　　为了解决以上三个方面的问题，蓝鲸智云提出了“无网访问”的蓝鲸大数据平台设计。本文将从公共组件的角度对这一平台进行详细的设计解析，包括其设计思路、系统架构以及关键功能模块的设计，同时也会涉及到一些已有的开源软件以及一些开源社区中的解决方案，最终希望通过本文能够带给读者更多的理解和实践经验。

# 2.背景介绍
　　如前所述，Apache License 是著名的非盈利、社区驱动的开源软件许可协议。它的最大优点之一是开放性、自由度很高、适用于各种开源用途。但是随着企业内部开源软件的普及，Apache License 在一些安全性要求较高的项目中却成为一种负担。主要表现在以下几个方面：
　　1）滥用权利声明（License Must Not Be Cumulative）:Apache License 是指明确禁止将 Apache 许可证添加到单独文件或库中。但当多个项目之间存在依赖关系时，就会出现这种情况。例如，A 项目依赖 B 项目，B 项目又依赖 A 项目。这种情况下，A 或 B 中的任何一个软件变更都会造成整个系统不可用。
	2）披露信息限制：Apache License 涉及的法律条款往往都是保密的，只有源代码才能查看。这就意味着公司内部如果想查看某个开源项目的具体代码，只能通过源码的方式，而不是直接使用已经编译好的版本。即使不违反 Apache License，对该项目也是一种侵权行为。
	3）专利权风险：Apache License 是反对知识产权保护的。如果某个开源项目侵犯了个人或者企业的专利权，那么相关责任就会落在该公司身上。此外，还有些专利授权条款，使得公司必须支付专利使用费。

为了解决这些问题，很多企业内部开源软件都采用了其他的开源许可证。比如，Facebook 使用的是 BSD+Patents 许可证，Google 使用的是 Apache License v2，微软使用的是 MIT License。然而，这些开源许可证在某些时候可能也会遇到一些问题，比如说法律风险，适用范围等。因此，针对蓝鲸智云的数据平台的开源许可证问题，蓝鲸智云提出了“无网访问”的蓝鲸大数据平台设计。

 

# 3.基本概念和术语说明
## 3.1 无网访问蓝鲸大数据平台（BlueKing Data Platform without Net）
　　“无网访问”的蓝鲸大数据平台是在企业内部架设的一个 Hadoop、Spark、Storm 等框架的集群环境，该集群环境具备良好的容错能力，并且无需网络连接即可访问，提供一套完整的数据分析平台。


## 3.2 大数据相关概念
- Hadoop（超伟大的存储系统）：Hadoop 是由 Apache 基金会开发的一款分布式的、开源的、大数据分析系统。它可以提供海量数据的存储、处理和分析，具有高容错性、高扩展性、低成本等特点。目前已被国内多家互联网公司使用，例如百度、腾讯、阿里巴巴、腾讯新闻等。
- Spark（可扩展的内存计算）：Spark 是 Hadoop 的子项目，它是专门针对大规模数据集进行内存计算的一种框架。它提供一种快速的计算方式，利用集群资源高效地处理海量数据，并提供了丰富的 API，可实现 SQL/DataFrames、机器学习、图计算、流处理等。
- Storm（分布式实时计算）：Storm 是 Hadoop 的另一项子项目，它是一个可扩展的、容错的、实时的分布式数据流处理引擎。它将数据流转化为计算任务，并将任务分布到集群中的多台计算机上执行。Storm 还具有超高吞吐量、持久存储和容错能力，可用于实时数据分析、实时报告生成、日志处理、实时风控等。
- Hive（SQL 查询引擎）：Hive 是 Hadoop 的子项目，它是一个基于 HQL（一种类似 SQL 的语言）的 SQL 查询引擎。它提供 HDFS 数据仓库的抽象化，可以查询、分析、创建、维护数据库。
- Impala (实时分析引擎): Impala 是 Facebook 开源的实时分析引擎，它可以快速分析 Hadoop 上存储的大数据。它使用类 SQL 的语法进行查询，具有快速响应时间、低延迟、高性能、高可靠等特点。


 ## 3.3 本文结构
本文首先介绍背景知识，然后阐述了什么是“无网访问”的蓝鲸大数据平台，接着详细介绍了其设计思路、系统架构以及关键功能模块的设计。最后，本文将讨论开源许可证的选择、未来发展方向、以及未来的思考。