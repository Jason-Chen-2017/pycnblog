
作者：禅与计算机程序设计艺术                    

# 1.背景介绍


数组是计算机中存储、组织和处理数据的最基本的数据结构。数组由若干个相同类型元素组成，元素按顺序存储在内存中，可以通过索引访问其中的元素，方便快速查找、插入、删除等操作。一般来说，数组有三个主要属性：

1. 大小：数组的长度决定了数组能存储多少个元素。
2. 数据类型：数组中每个元素都具有相同的数据类型。
3. 地址连续：数组元素存放在连续的内存位置上，可以直接通过内存地址访问。

而链表是一种线性数据结构，是另一种重要的内存数据结构。链表是由节点组成的集合，每个节点都包含两个部分：一个数据域用于保存数据值，另一个指针域指向下一个节点。首尾两端的节点分别用头节点和尾节点表示。链表的优点是灵活性高，随时可加入新的元素，并且不受数组大小限制；缺点是需要额外的空间来维护指针，增加了存储开销。

# 2.核心概念与联系
## 2.1.数组
### 2.1.1.数组的定义与特性
数组（Array）是计算机中存储、组织和处理数据的最基本的数据结构。它由若干个相同类型元素组成，元素按顺序存储在内存中，可以通过索引访问其中的元素，方便快速查找、插入、删除等操作。一般来说，数组有三个主要属性：

1. 大小：数组的长度决定了数组能存储多少个元素。
2. 数据类型：数组中每个元素都具有相同的数据类型。
3. 地址连续：数组元素存放在连续的内存位置上，可以直接通过内存地址访问。


数组虽然简单、直观、易于理解，但也存在一些局限性。比如数组的大小要事先确定，不能动态扩展；不能根据实际情况改变元素的值；无法对数组进行排序、搜索等复杂操作。所以，数组作为最简单的计算机数据结构，一般用在一些简单场景，比如整数、浮点数、字符等数据序列。

### 2.1.2.数组的创建与初始化
#### 2.1.2.1.手动分配内存方式创建数组
```cpp
int main() {
    int arr[10]; // 创建了一个名为arr的长度为10的整型数组
    
    for (int i = 0; i < 10; ++i) {
        printf("%d\n", arr[i]); // 输出各个元素的值
    }
    
    return 0;
}
```
#### 2.1.2.2.堆内存创建数组
```cpp
void *malloc(size_t size); // malloc函数用来在堆上动态申请内存块

int main() {
    int n = 10;
    int *p = static_cast<int *>(malloc(sizeof(int) * n)); // 在堆上动态申请内存
    
    for (int i = 0; i < n; ++i) {
        p[i] = i + 1; // 初始化数组元素
    }

    for (int i = 0; i < n; ++i) {
        printf("%d\n", p[i]); // 输出各个元素的值
    }
    
    free(p); // 释放堆上的内存
    return 0;
}
```
#### 2.1.2.3.栈内存创建数组
```cpp
int arr[10]; // 在栈上声明数组

int main() {
    for (int i = 0; i < 10; ++i) {
        arr[i] = i + 1; // 初始化数组元素
    }

    for (int i = 0; i < 10; ++i) {
        printf("%d\n", arr[i]); // 输出各个元素的值
    }
    
    return 0;
}
```
### 2.1.3.数组的访问、插入、删除及其它操作
#### 2.1.3.1.访问数组元素
```cpp
int main() {
    int arr[] = {1, 2, 3, 4};
    int length = sizeof(arr) / sizeof(arr[0]); // 获取数组长度
    
    printf("第一个元素的值: %d\n", arr[0]); // 输出第一个元素的值
    printf("第二个元素的值: %d\n", *(arr+1)); // 输出第二个元素的值
    printf("最后一个元素的值: %d\n", arr[length - 1]); // 输出最后一个元素的值
    
    return 0;
}
```
#### 2.1.3.2.插入元素到数组末尾
```cpp
int insertEnd(int* arr, int val) {
    int index = 0; // 插入位置
    
    while (*(arr + index)!= 0) { // 查找数组第一个空位
        ++index;
    }
    
    if (index == MAXSIZE) { // 判断数组是否已满
        cout << "Error! Array is full." << endl;
        return -1;
    }
    
    *(arr + index) = val; // 插入新元素
    return 0;
}

int main() {
    const int MAXSIZE = 100;
    int arr[MAXSIZE];
    memset(arr, 0, sizeof(arr)); // 清空数组
    
    insertEnd(arr, 1); // 插入第一个元素
    insertEnd(arr, 2); // 插入第二个元素
    insertEnd(arr, 3); // 插入第三个元素
    
    for (int i = 0; i < sizeof(arr) / sizeof(arr[0]); ++i) { // 遍历数组并打印
        cout << arr[i] << " ";
    }
    cout << endl;
    
    return 0;
}
```
#### 2.1.3.3.删除数组末尾元素
```cpp
int deleteEnd(int* arr) {
    int index = 0; // 删除位置
    
    while (*(arr + index)!= 0 && *(arr + index)!= *(arr)) { // 查找数组最后一个非零元素或第一个元素
        ++index;
    }
    
    if (index == 0 || *(arr + index) == *(arr)) { // 判断数组为空或者只有一个元素
        cout << "Error! Can not delete the last element of array." << endl;
        return -1;
    }
    
    *(arr + index) = 0; // 删除最后一个元素
    return 0;
}

int main() {
    const int MAXSIZE = 100;
    int arr[MAXSIZE];
    memset(arr, 0, sizeof(arr)); // 清空数组
    
    insertEnd(arr, 1); // 插入第一个元素
    insertEnd(arr, 2); // 插入第二个元素
    insertEnd(arr, 3); // 插入第三个元素
    
    deleteEnd(arr); // 删除最后一个元素
    
    for (int i = 0; i < sizeof(arr) / sizeof(arr[0]); ++i) { // 遍历数组并打印
        cout << arr[i] << " ";
    }
    cout << endl;
    
    return 0;
}
```
#### 2.1.3.4.交换两个数组元素
```cpp
void swapElements(int* a, int* b) {
    int temp = *a;
    *a = *b;
    *b = temp;
}

int main() {
    int x = 10, y = 20;
    
    swapElements(&x, &y);
    
    cout << "x=" << x << ", y=" << y << endl;
    
    return 0;
}
```
### 2.1.4.数组的拷贝、合并及排序操作
#### 2.1.4.1.数组的拷贝
```cpp
void copyArray(int from[], int to[], int len) {
    memcpy(to, from, len * sizeof(int));
}

int main() {
    int srcArr[] = {1, 2, 3, 4, 5};
    int dstArr[5];
    
    copyArray(srcArr, dstArr, 5); // 拷贝数组
    
    for (int i = 0; i < 5; ++i) {
        cout << dstArr[i] << " ";
    }
    cout << endl;
    
    return 0;
}
```
#### 2.1.4.2.数组的合并
```cpp
void mergeArrays(int arr1[], int len1, int arr2[], int len2, int res[]) {
    int i = 0, j = 0, k = 0;
    
    while (i < len1 && j < len2) {
        if (arr1[i] <= arr2[j]) {
            res[k++] = arr1[i++];
        } else {
            res[k++] = arr2[j++];
        }
    }
    
    while (i < len1) {
        res[k++] = arr1[i++];
    }
    
    while (j < len2) {
        res[k++] = arr2[j++];
    }
}

int main() {
    int arr1[] = {1, 3, 5, 7};
    int len1 = sizeof(arr1) / sizeof(arr1[0]);
    
    int arr2[] = {2, 4, 6, 8};
    int len2 = sizeof(arr2) / sizeof(arr2[0]);
    
    int res[len1 + len2];
    
    mergeArrays(arr1, len1, arr2, len2, res); // 合并数组
    
    for (int i = 0; i < len1 + len2; ++i) {
        cout << res[i] << " ";
    }
    cout << endl;
    
    return 0;
}
```
#### 2.1.4.3.数组的排序
```cpp
void bubbleSort(int arr[], int len) {
    for (int i = 0; i < len - 1; ++i) {
        for (int j = 0; j < len - i - 1; ++j) {
            if (arr[j] > arr[j + 1]) {
                swapElements(&arr[j], &arr[j + 1]);
            }
        }
    }
}

void selectionSort(int arr[], int len) {
    for (int i = 0; i < len - 1; ++i) {
        int minIndex = i;
        
        for (int j = i + 1; j < len; ++j) {
            if (arr[j] < arr[minIndex]) {
                minIndex = j;
            }
        }
        
        if (minIndex!= i) {
            swapElements(&arr[i], &arr[minIndex]);
        }
    }
}

int partition(int arr[], int low, int high) {
    int pivot = arr[high];
    int i = low - 1;
    
    for (int j = low; j < high; ++j) {
        if (arr[j] < pivot) {
            ++i;
            
            swapElements(&arr[i], &arr[j]);
        }
    }
    
    swapElements(&arr[i + 1], &arr[high]);
    
    return i + 1;
}

void quickSort(int arr[], int low, int high) {
    if (low < high) {
        int pi = partition(arr, low, high);
        
        quickSort(arr, low, pi - 1);
        quickSort(arr, pi + 1, high);
    }
}

int main() {
    int arr[] = {3, 2, 4, 1, 5, 6};
    int len = sizeof(arr) / sizeof(arr[0]);
    
    bubbleSort(arr, len); // 冒泡排序
    printArray(arr, len);
    
    selectionSort(arr, len); // 选择排序
    printArray(arr, len);
    
    quickSort(arr, 0, len - 1); // 快速排序
    printArray(arr, len);
    
    return 0;
}

// 打印数组元素
void printArray(int arr[], int len) {
    for (int i = 0; i < len; ++i) {
        cout << arr[i] << " ";
    }
    cout << endl;
}
```