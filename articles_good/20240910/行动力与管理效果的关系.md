                 

### è¡ŒåŠ¨åŠ›ä¸ç®¡ç†æ•ˆæœçš„å…³ç³»

#### ä¸€ã€ç›¸å…³é¢†åŸŸçš„å…¸å‹é¢è¯•é¢˜

**1. å¦‚ä½•åœ¨é¡¹ç›®ç®¡ç†ä¸­è¯„ä¼°å›¢é˜Ÿæˆå‘˜çš„è¡ŒåŠ¨åŠ›ï¼Ÿ**

**ç­”æ¡ˆï¼š**

- è¡ŒåŠ¨åŠ›è¯„ä¼°å¯ä»¥é€šè¿‡ä»¥ä¸‹å‡ ä¸ªæ–¹é¢è¿›è¡Œï¼š

  1. **ä»»åŠ¡å®Œæˆæƒ…å†µ**ï¼šè¡¡é‡å›¢é˜Ÿæˆå‘˜æ˜¯å¦æŒ‰æ—¶å®Œæˆåˆ†é…çš„ä»»åŠ¡ï¼Œæ˜¯å¦è¾¾åˆ°äº†é¢„å®šçš„ç›®æ ‡ã€‚
  2. **å·¥ä½œæ•ˆç‡**ï¼šè¯„ä¼°å›¢é˜Ÿæˆå‘˜çš„å·¥ä½œæ•ˆç‡ï¼ŒåŒ…æ‹¬å·¥ä½œé€Ÿåº¦ã€è´¨é‡ã€é—®é¢˜è§£å†³èƒ½åŠ›ç­‰ã€‚
  3. **æ²Ÿé€šä¸åä½œ**ï¼šè§‚å¯Ÿå›¢é˜Ÿæˆå‘˜åœ¨å›¢é˜Ÿä¸­çš„æ²Ÿé€šä¸åä½œèƒ½åŠ›ï¼Œæ˜¯å¦èƒ½å¤Ÿæœ‰æ•ˆåœ°ä¸å…¶ä»–æˆå‘˜åˆä½œã€‚
  4. **åˆ›æ–°ä¸æ”¹è¿›**ï¼šè¯„ä¼°å›¢é˜Ÿæˆå‘˜æ˜¯å¦å…·å¤‡åˆ›æ–°æ„è¯†ï¼Œæ˜¯å¦èƒ½å¤Ÿæå‡ºæ”¹è¿›æªæ–½ä»¥æé«˜å·¥ä½œæ•ˆç‡ã€‚

- å®ä¾‹è§£æï¼š

  åœ¨ä¸€ä¸ªå›¢é˜Ÿé¡¹ç›®ä¸­ï¼Œé¡¹ç›®ç»ç†å¯ä»¥é€šè¿‡å®šæœŸæ£€æŸ¥ä»»åŠ¡è¿›åº¦ã€ç»„ç»‡å›¢é˜Ÿä¼šè®®ã€æ”¶é›†å›¢é˜Ÿæˆå‘˜çš„å·¥ä½œæŠ¥å‘Šç­‰æ–¹å¼æ¥è¯„ä¼°å›¢é˜Ÿæˆå‘˜çš„è¡ŒåŠ¨åŠ›ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæŸä¸ªæˆå‘˜è¿ç»­å‡ æ¬¡æœªèƒ½æŒ‰æ—¶å®Œæˆä»»åŠ¡ï¼Œé¡¹ç›®ç»ç†å¯ä»¥ä¸è¯¥æˆå‘˜è¿›è¡Œä¸€å¯¹ä¸€çš„æ²Ÿé€šï¼Œäº†è§£æƒ…å†µå¹¶ç»™äºˆæŒ‡å¯¼ã€‚

**2. é’ˆå¯¹ç¼ºä¹è¡ŒåŠ¨åŠ›çš„å‘˜å·¥ï¼Œç®¡ç†è€…åº”å¦‚ä½•è¿›è¡Œæ¿€åŠ±ï¼Ÿ**

**ç­”æ¡ˆï¼š**

- ç®¡ç†è€…å¯ä»¥é‡‡å–ä»¥ä¸‹ç­–ç•¥æ¥æ¿€åŠ±ç¼ºä¹è¡ŒåŠ¨åŠ›çš„å‘˜å·¥ï¼š

  1. **æ˜ç¡®ç›®æ ‡**ï¼šä¸ºå‘˜å·¥è®¾å®šæ¸…æ™°ã€å…·ä½“çš„ç›®æ ‡ï¼Œä½¿å‘˜å·¥æ˜ç¡®è‡ªå·±çš„å·¥ä½œæ–¹å‘å’ŒæœŸæœ›ç»“æœã€‚
  2. **æä¾›æ”¯æŒ**ï¼šä¸ºå‘˜å·¥æä¾›å¿…è¦çš„èµ„æºå’Œæ”¯æŒï¼ŒåŒ…æ‹¬åŸ¹è®­ã€æŠ€æœ¯å·¥å…·ç­‰ï¼Œå¸®åŠ©ä»–ä»¬å…‹æœå·¥ä½œä¸­çš„å›°éš¾ã€‚
  3. **æ¿€åŠ±æªæ–½**ï¼šé€šè¿‡å¥–åŠ±ã€æ™‹å‡ç­‰æ¿€åŠ±æªæ–½ï¼Œæ¿€å‘å‘˜å·¥çš„å·¥ä½œç§¯ææ€§ã€‚
  4. **æ²Ÿé€šä¸åé¦ˆ**ï¼šä¸å‘˜å·¥ä¿æŒè‰¯å¥½çš„æ²Ÿé€šï¼ŒåŠæ—¶ç»™äºˆåé¦ˆï¼Œå¸®åŠ©å‘˜å·¥è®¤è¯†åˆ°è‡ªå·±çš„ä¼˜ç‚¹å’Œä¸è¶³ï¼Œé¼“åŠ±ä»–ä»¬æŒç»­æ”¹è¿›ã€‚

- å®ä¾‹è§£æï¼š

  åœ¨ä¸€ä¸ªé”€å”®å›¢é˜Ÿä¸­ï¼Œå¦‚æœæŸä¸ªé”€å”®äººå‘˜çš„ä¸šç»©ä¸ä½³ï¼Œå›¢é˜Ÿç»ç†å¯ä»¥ä¸ºå…¶åˆ¶å®šå…·ä½“çš„é”€å”®ç›®æ ‡ï¼Œå¹¶æä¾›ç›¸åº”çš„åŸ¹è®­å’Œé”€å”®æŠ€å·§åŸ¹è®­ã€‚åŒæ—¶ï¼Œç»ç†å¯ä»¥å®šæœŸä¸è¯¥é”€å”®äººå‘˜æ²Ÿé€šï¼Œäº†è§£å…¶å·¥ä½œè¿›å±•å’Œé‡åˆ°çš„é—®é¢˜ï¼Œå¹¶æä¾›æ”¯æŒå’Œå»ºè®®ã€‚åœ¨é”€å”®äººå‘˜å–å¾—è¿›æ­¥æ—¶ï¼Œç»ç†å¯ä»¥ç»™äºˆè¡¨æ‰¬å’Œå¥–åŠ±ï¼Œä»¥æ¿€å‘å…¶å·¥ä½œç§¯ææ€§ã€‚

**3. è¡ŒåŠ¨åŠ›ä¸ç®¡ç†æ•ˆæœçš„å…³ç³»æ˜¯å¦‚ä½•ä½“ç°åœ¨å›¢é˜Ÿç®¡ç†ä¸­çš„ï¼Ÿ**

**ç­”æ¡ˆï¼š**

- è¡ŒåŠ¨åŠ›ä¸ç®¡ç†æ•ˆæœçš„å…³ç³»ä½“ç°åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š

  1. **å›¢é˜Ÿç›®æ ‡å®ç°**ï¼šè¡ŒåŠ¨åŠ›å¼ºçš„å›¢é˜Ÿæˆå‘˜èƒ½å¤Ÿæ›´å¿«åœ°å®Œæˆä»»åŠ¡ï¼Œæ¨åŠ¨å›¢é˜Ÿç›®æ ‡çš„å®ç°ã€‚
  2. **å›¢é˜Ÿæ°›å›´**ï¼šè¡ŒåŠ¨åŠ›å¼ºçš„æˆå‘˜èƒ½å¤Ÿå¸¦åŠ¨æ•´ä¸ªå›¢é˜Ÿçš„ç§¯ææ€§å’Œæ´»åŠ›ï¼Œå½¢æˆè‰¯å¥½çš„å›¢é˜Ÿæ°›å›´ã€‚
  3. **å·¥ä½œæ•ˆç‡**ï¼šè¡ŒåŠ¨åŠ›å¼ºçš„æˆå‘˜èƒ½å¤Ÿæé«˜å›¢é˜Ÿçš„å·¥ä½œæ•ˆç‡ï¼Œç¼©çŸ­é¡¹ç›®å‘¨æœŸï¼Œé™ä½æˆæœ¬ã€‚
  4. **åˆ›æ–°ä¸å‘å±•**ï¼šè¡ŒåŠ¨åŠ›å¼ºçš„æˆå‘˜æ›´æ„¿æ„å°è¯•æ–°æ–¹æ³•ã€æ–°æŠ€æœ¯ï¼Œæ¨åŠ¨å›¢é˜Ÿçš„åˆ›æ–°ä¸å‘å±•ã€‚

- å®ä¾‹è§£æï¼š

  åœ¨ä¸€ä¸ªè½¯ä»¶å¼€å‘å›¢é˜Ÿä¸­ï¼Œå¦‚æœå›¢é˜Ÿæˆå‘˜å…·å¤‡è¾ƒå¼ºçš„è¡ŒåŠ¨åŠ›ï¼Œä»–ä»¬èƒ½å¤Ÿå¿«é€Ÿå“åº”å®¢æˆ·éœ€æ±‚ï¼Œé«˜æ•ˆåœ°å®Œæˆé¡¹ç›®å¼€å‘ä»»åŠ¡ã€‚è¿™æœ‰åŠ©äºæå‡å›¢é˜Ÿçš„æ•´ä½“ç«äº‰åŠ›ï¼Œä¸ºå…¬å¸çš„æŒç»­å‘å±•å¥ å®šåŸºç¡€ã€‚åŒæ—¶ï¼Œè¡ŒåŠ¨åŠ›å¼ºçš„æˆå‘˜è¿˜èƒ½å¤Ÿæ¨åŠ¨å›¢é˜Ÿçš„æŠ€æœ¯åˆ›æ–°ï¼Œæå‡ºæ–°çš„è§£å†³æ–¹æ¡ˆï¼Œä¸ºå…¬å¸çš„æŠ€æœ¯è¿›æ­¥è´¡çŒ®åŠ›é‡ã€‚

**4. å¦‚ä½•æå‡å›¢é˜Ÿæ•´ä½“çš„è¡ŒåŠ¨åŠ›ï¼Ÿ**

**ç­”æ¡ˆï¼š**

- æå‡å›¢é˜Ÿæ•´ä½“çš„è¡ŒåŠ¨åŠ›å¯ä»¥ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢å…¥æ‰‹ï¼š

  1. **åŸ¹å…»å›¢é˜Ÿæ–‡åŒ–**ï¼šå»ºç«‹ç§¯æå‘ä¸Šçš„å›¢é˜Ÿæ–‡åŒ–ï¼Œé¼“åŠ±æˆå‘˜å‹‡äºæ‹…å½“ã€ç§¯æè¿›å–ã€‚
  2. **æä¾›åŸ¹è®­ä¸å‘å±•æœºä¼š**ï¼šä¸ºå›¢é˜Ÿæˆå‘˜æä¾›åŸ¹è®­å’Œå­¦ä¹ æœºä¼šï¼Œæé«˜å…¶ä¸“ä¸šæŠ€èƒ½å’Œç»¼åˆç´ è´¨ã€‚
  3. **æ˜ç¡®ç›®æ ‡ä¸æ¿€åŠ±**ï¼šä¸ºå›¢é˜Ÿæˆå‘˜è®¾å®šæ˜ç¡®çš„ç›®æ ‡ï¼Œå¹¶æä¾›ç›¸åº”çš„æ¿€åŠ±æªæ–½ï¼Œæ¿€å‘ä»–ä»¬çš„å·¥ä½œç§¯ææ€§ã€‚
  4. **ä¼˜åŒ–å·¥ä½œæµç¨‹**ï¼šä¼˜åŒ–å›¢é˜Ÿçš„å·¥ä½œæµç¨‹ï¼Œå‡å°‘ä¸å¿…è¦çš„ç¯èŠ‚å’Œé‡å¤åŠ³åŠ¨ï¼Œæé«˜å·¥ä½œæ•ˆç‡ã€‚

- å®ä¾‹è§£æï¼š

  åœ¨ä¸€ä¸ªäº§å“è¿è¥å›¢é˜Ÿä¸­ï¼Œä¸ºäº†æå‡å›¢é˜Ÿæ•´ä½“çš„è¡ŒåŠ¨åŠ›ï¼Œå›¢é˜Ÿç»ç†å¯ä»¥ç»„ç»‡å®šæœŸçš„å›¢é˜Ÿå»ºè®¾æ´»åŠ¨ï¼Œå¢å¼ºå›¢é˜Ÿå‡èšåŠ›ã€‚åŒæ—¶ï¼Œç»ç†å¯ä»¥ä¸ºå›¢é˜Ÿæˆå‘˜æä¾›äº§å“è¿è¥ç›¸å…³çš„åŸ¹è®­ï¼Œæé«˜ä»–ä»¬çš„ä¸“ä¸šèƒ½åŠ›ã€‚åœ¨é¡¹ç›®å®æ–½è¿‡ç¨‹ä¸­ï¼Œç»ç†å¯ä»¥ä¸ºå›¢é˜Ÿè®¾å®šæ˜ç¡®çš„ç›®æ ‡ï¼Œå¹¶æ ¹æ®å›¢é˜Ÿçš„ä¸šç»©è¿›è¡Œå¥–åŠ±ï¼Œæ¿€å‘æˆå‘˜çš„å·¥ä½œçƒ­æƒ…ã€‚

#### äºŒã€ç®—æ³•ç¼–ç¨‹é¢˜åº“

**1. å¦‚ä½•å®ç°ä¸€ä¸ªé«˜æ•ˆçš„é˜Ÿåˆ—ï¼Ÿ**

**ç­”æ¡ˆï¼š**

- å®ç°ä¸€ä¸ªé«˜æ•ˆçš„é˜Ÿåˆ—å¯ä»¥ä½¿ç”¨åŒç«¯é˜Ÿåˆ—ï¼ˆDequeï¼‰æˆ–è€…ä¼˜å…ˆé˜Ÿåˆ—ï¼ˆPriority Queueï¼‰ã€‚

- ä»£ç ç¤ºä¾‹ï¼ˆä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—ï¼‰ï¼š

```python
import heapq

class PriorityQueue:
    def __init__(self):
        self.heap = []
    
    def push(self, item, priority):
        heapq.heappush(self.heap, (-priority, item))
    
    def pop(self):
        return heapq.heappop(self.heap)[1]

pq = PriorityQueue()
pq.push("task1", 1)
pq.push("task2", 2)
pq.push("task3", 3)
print(pq.pop())  # è¾“å‡º "task1"
print(pq.pop())  # è¾“å‡º "task2"
print(pq.pop())  # è¾“å‡º "task3"
```

**è§£æï¼š** ä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—å®ç°çš„é˜Ÿåˆ—å¯ä»¥æ ¹æ®ä¼˜å…ˆçº§æ¥é«˜æ•ˆåœ°è·å–å’Œæ’å…¥å…ƒç´ ã€‚

**2. å¦‚ä½•å®ç°ä¸€ä¸ªæœ‰åºåˆ—è¡¨ï¼Œæ”¯æŒå¿«é€Ÿæ’å…¥ã€åˆ é™¤å’ŒæŸ¥æ‰¾ï¼Ÿ**

**ç­”æ¡ˆï¼š**

- å¯ä»¥ä½¿ç”¨å¹³è¡¡äºŒå‰æ ‘ï¼ˆå¦‚AVLæ ‘æˆ–çº¢é»‘æ ‘ï¼‰æ¥å®ç°æœ‰åºåˆ—è¡¨ã€‚

- ä»£ç ç¤ºä¾‹ï¼ˆä½¿ç”¨Pythonä¸­çš„`sortedcontainers`åº“ï¼‰ï¼š

```python
from sortedcontainers import SortedList

sl = SortedList()
sl.add(5)
sl.add(3)
sl.add(7)
sl.add(1)
print(sl)  # è¾“å‡º [1, 3, 5, 7]
print(sl.remove(3))  # è¾“å‡º 3
print(sl)  # è¾“å‡º [1, 5, 7]
print(sl.index(5))  # è¾“å‡º 1
```

**è§£æï¼š** ä½¿ç”¨`sortedcontainers`åº“å®ç°çš„æœ‰åºåˆ—è¡¨å¯ä»¥é«˜æ•ˆåœ°æ”¯æŒæ’å…¥ã€åˆ é™¤å’ŒæŸ¥æ‰¾æ“ä½œã€‚

**3. å¦‚ä½•å®ç°ä¸€ä¸ªLRUç¼“å­˜ï¼Ÿ**

**ç­”æ¡ˆï¼š**

- å¯ä»¥ä½¿ç”¨å“ˆå¸Œè¡¨å’ŒåŒå‘é“¾è¡¨æ¥å®ç°LRUç¼“å­˜ã€‚

- ä»£ç ç¤ºä¾‹ï¼š

```python
class LRUCache:
    def __init__(self, capacity: int):
        self.capacity = capacity
        self.cache = {}  
        self doubly_linked_list = DoublyLinkedList()

    def get(self, key: int) -> int:
        if key not in self.cache:
            return -1
        value, node = self.cache[key], self.doubly_linked_list.find(key)
        self.doubly_linked_list.move_to_front(node)
        return value

    def put(self, key: int, value: int) -> None:
        if key in self.cache:
            self.cache[key] = value
            self.doubly_linked_list.update_value(key, value)
        else:
            if len(self.cache) >= self.capacity:
                lru_key = self.doubly_linked_list.pop()
                del self.cache[lru_key]
            self.cache[key] = value
            self.doubly_linked_list.push(key)

class DoublyLinkedList:
    # å®ç°ä¸€ä¸ªåŒå‘é“¾è¡¨
    pass

# ä½¿ç”¨ç¤ºä¾‹
lru_cache = LRUCache(2)
lru_cache.put(1, 1)
lru_cache.put(2, 2)
print(lru_cache.get(1))  # è¾“å‡º 1
lru_cache.put(3, 3)  
print(lru_cache.get(2))  # è¾“å‡º -1 (æœªæ‰¾åˆ°)
print(lru_cache.get(3))  # è¾“å‡º 3
```

**è§£æï¼š** é€šè¿‡ç»´æŠ¤ä¸€ä¸ªåŒå‘é“¾è¡¨å’Œå“ˆå¸Œè¡¨ï¼Œå¯ä»¥é«˜æ•ˆåœ°å®ç°LRUç¼“å­˜ï¼Œå…¶ä¸­æœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼ˆLRUï¼‰çš„é¡¹ä¼šåœ¨ç¼“å­˜æ»¡æ—¶è¢«æ›¿æ¢ã€‚

#### ä¸‰ã€ç­”æ¡ˆè§£æè¯´æ˜

1. **å…¸å‹é¢è¯•é¢˜è§£æï¼š**

   - è¡ŒåŠ¨åŠ›è¯„ä¼°æ–¹æ³•ï¼šé€šè¿‡ä»»åŠ¡å®Œæˆæƒ…å†µã€å·¥ä½œæ•ˆç‡ã€æ²Ÿé€šä¸åä½œä»¥åŠåˆ›æ–°ä¸æ”¹è¿›ç­‰æ–¹é¢æ¥ç»¼åˆè¯„ä¼°å›¢é˜Ÿæˆå‘˜çš„è¡ŒåŠ¨åŠ›ã€‚
   - æ¿€åŠ±ç¼ºä¹è¡ŒåŠ¨åŠ›çš„å‘˜å·¥ï¼šé€šè¿‡æ˜ç¡®ç›®æ ‡ã€æä¾›æ”¯æŒã€æ¿€åŠ±æªæ–½ä»¥åŠæ²Ÿé€šä¸åé¦ˆç­‰æ–¹å¼æ¥æé«˜å‘˜å·¥çš„è¡ŒåŠ¨åŠ›ã€‚
   - è¡ŒåŠ¨åŠ›ä¸ç®¡ç†æ•ˆæœçš„å…³ç³»ï¼šè¡ŒåŠ¨åŠ›å¼ºçš„å›¢é˜Ÿæˆå‘˜èƒ½å¤Ÿæ¨åŠ¨å›¢é˜Ÿç›®æ ‡çš„å®ç°ã€æå‡å›¢é˜Ÿæ°›å›´ã€æé«˜å·¥ä½œæ•ˆç‡ä»¥åŠä¿ƒè¿›å›¢é˜Ÿçš„åˆ›æ–°ä¸å‘å±•ã€‚
   - æå‡å›¢é˜Ÿæ•´ä½“çš„è¡ŒåŠ¨åŠ›ï¼šé€šè¿‡åŸ¹å…»å›¢é˜Ÿæ–‡åŒ–ã€æä¾›åŸ¹è®­ä¸å‘å±•æœºä¼šã€æ˜ç¡®ç›®æ ‡ä¸æ¿€åŠ±ä»¥åŠä¼˜åŒ–å·¥ä½œæµç¨‹ç­‰æ–¹å¼æ¥æå‡å›¢é˜Ÿæ•´ä½“çš„è¡ŒåŠ¨åŠ›ã€‚

2. **ç®—æ³•ç¼–ç¨‹é¢˜è§£æï¼š**

   - é«˜æ•ˆé˜Ÿåˆ—ï¼šä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—å®ç°ï¼Œå¯ä»¥æ ¹æ®ä¼˜å…ˆçº§é«˜æ•ˆåœ°è·å–å’Œæ’å…¥å…ƒç´ ã€‚
   - æœ‰åºåˆ—è¡¨ï¼šä½¿ç”¨å¹³è¡¡äºŒå‰æ ‘æˆ–`sortedcontainers`åº“å®ç°ï¼Œå¯ä»¥é«˜æ•ˆåœ°æ”¯æŒæ’å…¥ã€åˆ é™¤å’ŒæŸ¥æ‰¾æ“ä½œã€‚
   - LRUç¼“å­˜ï¼šä½¿ç”¨å“ˆå¸Œè¡¨å’ŒåŒå‘é“¾è¡¨å®ç°ï¼Œå¯ä»¥é«˜æ•ˆåœ°å®ç°æœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼ˆLRUï¼‰ç¼“å­˜ã€‚

#### å››ã€æºä»£ç å®ä¾‹

ä»¥ä¸‹æ˜¯ç›¸å…³ç®—æ³•ç¼–ç¨‹é¢˜çš„æºä»£ç å®ä¾‹ï¼š

**1. é«˜æ•ˆé˜Ÿåˆ—ï¼ˆä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—ï¼‰**

```python
import heapq

class PriorityQueue:
    def __init__(self):
        self.heap = []

    def push(self, item, priority):
        heapq.heappush(self.heap, (-priority, item))

    def pop(self):
        return heapq.heappop(self.heap)[1]

pq = PriorityQueue()
pq.push("task1", 1)
pq.push("task2", 2)
pq.push("task3", 3)
print(pq.pop())  # è¾“å‡º "task1"
print(pq.pop())  # è¾“å‡º "task2"
print(pq.pop())  # è¾“å‡º "task3"
```

**2. æœ‰åºåˆ—è¡¨ï¼ˆä½¿ç”¨sortedcontainersåº“ï¼‰**

```python
from sortedcontainers import SortedList

sl = SortedList()
sl.add(5)
sl.add(3)
sl.add(7)
sl.add(1)
print(sl)  # è¾“å‡º [1, 3, 5, 7]
print(sl.remove(3))  # è¾“å‡º 3
print(sl)  # è¾“å‡º [1, 5, 7]
print(sl.index(5))  # è¾“å‡º 1
```

**3. LRUç¼“å­˜ï¼ˆä½¿ç”¨å“ˆå¸Œè¡¨å’ŒåŒå‘é“¾è¡¨ï¼‰**

```python
class LRUCache:
    def __init__(self, capacity: int):
        self.capacity = capacity
        self.cache = {}
        self.doubly_linked_list = DoublyLinkedList()

    def get(self, key: int) -> int:
        if key not in self.cache:
            return -1
        value, node = self.cache[key], self.doubly_linked_list.find(key)
        self.doubly_linked_list.move_to_front(node)
        return value

    def put(self, key: int, value: int) -> None:
        if key in self.cache:
            self.cache[key] = value
            self.doubly_linked_list.update_value(key, value)
        else:
            if len(self.cache) >= self.capacity:
                lru_key = self.doubly_linked_list.pop()
                del self.cache[lru_key]
            self.cache[key] = value
            self.doubly_linked_list.push(key)

class DoublyLinkedList:
    # å®ç°ä¸€ä¸ªåŒå‘é“¾è¡¨
    pass

# ä½¿ç”¨ç¤ºä¾‹
lru_cache = LRUCache(2)
lru_cache.put(1, 1)
lru_cache.put(2, 2)
print(lru_cache.get(1))  # è¾“å‡º 1
lru_cache.put(3, 3)
print(lru_cache.get(2))  # è¾“å‡º -1 (æœªæ‰¾åˆ°)
print(lru_cache.get(3))  # è¾“å‡º 3
```

é€šè¿‡ä»¥ä¸Šè§£æå’Œä»£ç å®ä¾‹ï¼Œè¯»è€…å¯ä»¥æ›´æ·±å…¥åœ°äº†è§£è¡ŒåŠ¨åŠ›ä¸ç®¡ç†æ•ˆæœçš„å…³ç³»ï¼Œä»¥åŠå¦‚ä½•åœ¨é¢è¯•ä¸­åº”å¯¹ç›¸å…³çš„é—®é¢˜ã€‚å¸Œæœ›æœ¬æ–‡å¯¹æ‚¨çš„å­¦ä¹ å’Œé¢è¯•æœ‰æ‰€å¸®åŠ©ï¼ğŸ’ª

