
ä½œè€…ï¼šç¦…ä¸è®¡ç®—æœºç¨‹åºè®¾è®¡è‰ºæœ¯                    

# 1.ç®€ä»‹
         
â€œäº‘è®¡ç®—â€è¿™ä¸€æ¦‚å¿µä»ç‰©ç†æœºã€è™šæ‹Ÿæœºã€ç§æœ‰äº‘ã€å…¬æœ‰äº‘åˆ°æ··åˆäº‘ç­‰ï¼Œå±‚å‡ºä¸ç©·ã€‚æ—©æœŸï¼Œäº‘è®¡ç®—ä¸»è¦åº”ç”¨äºå¤§å‹ä¼ä¸šçš„æ•°æ®ä¸­å¿ƒã€‚éšç€äº’è”ç½‘çš„æ™®åŠã€ç§»åŠ¨è®¾å¤‡çš„å¿«é€Ÿå‘å±•å’Œäº‘ç«¯æœåŠ¡çš„çˆ†ç‚¸å¼å¢é•¿ï¼Œäº‘è®¡ç®—åœ¨å½“ä»Šç¤¾ä¼šè¶Šæ¥è¶Šå—åˆ°é‡è§†ã€‚äº‘è®¡ç®—ç›®å‰å·²ç»æˆä¸ºITè¡Œä¸šå‘å±•çš„ä¸€ä¸ªæ–°çš„é¢†åŸŸï¼Œè€Œä¸”æ˜¯å„å¤§ITå…¬å¸ç»è¿‡å¤šå¹´çš„ç§¯ç´¯å’Œå°è¯•ä¹‹åå‘ç°çš„ã€‚å› æ­¤ï¼Œä½œä¸ºITè¡Œä¸šçš„ä¸€å‘˜ï¼ŒæŒæ¡äº‘è®¡ç®—ç›¸å…³çŸ¥è¯†å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ç†è§£å’Œè¿ç”¨äº‘è®¡ç®—çš„æœ€æ–°æŠ€æœ¯å’Œèƒ½åŠ›ã€‚

åŸºäºäº‘è®¡ç®—çš„æœåŠ¡éƒ¨ç½²ä¸€ç›´æ˜¯ITæŠ€æœ¯äººå‘˜é¢ä¸´çš„ä¸€ä¸ªéš¾é¢˜ã€‚ä¼ ç»Ÿä¸Šï¼Œæˆ‘ä»¬éƒ½æ˜¯ç›´æ¥å°†é¡¹ç›®éƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œï¼Œä½†éšç€äº‘è®¡ç®—çš„å…´èµ·ï¼Œå¾ˆå¤šå…¬å¸å¼€å§‹é€‰æ‹©å°†æœåŠ¡éƒ¨ç½²åœ¨äº‘ç«¯ï¼Œæˆ–è€…ç›´æ¥ä½¿ç”¨äº‘å‚å•†æä¾›çš„APIè¿›è¡Œå¼€å‘ã€‚

ä¸ºäº†è§£å†³è¿™ä¸€éš¾é¢˜ï¼Œå¾ˆå¤šå…¬å¸éƒ½æä¾›äº†åŸºäºäº‘è®¡ç®—çš„æœåŠ¡éƒ¨ç½²æ–¹æ¡ˆã€‚ä¾‹å¦‚ï¼Œäºšé©¬é€ŠAWSï¼Œå¾®è½¯Azureï¼ŒGoogle Cloud Platformï¼Œé˜¿é‡Œäº‘ç­‰äº‘æœåŠ¡æä¾›å•†éƒ½æä¾›äº†åŸºäºLambdaå‡½æ•°ã€Serverlessæ¡†æ¶ã€å®¹å™¨æœåŠ¡ç­‰æŠ€æœ¯çš„æœåŠ¡éƒ¨ç½²æ–¹æ¡ˆã€‚åŸºäºè¿™äº›éƒ¨ç½²æ–¹æ¡ˆï¼Œå…¬å¸å¯ä»¥å°†è‡ªå·±çš„é¡¹ç›®éƒ¨ç½²åœ¨äº‘ç«¯ï¼Œæ— éœ€ç®¡ç†æœåŠ¡å™¨ï¼Œé™ä½è¿ç»´æˆæœ¬ï¼Œæé«˜æ•ˆç‡ã€‚åŒæ—¶ï¼Œç”±äºäº‘ç«¯èµ„æºæŒ‰ä½¿ç”¨ä»˜è´¹ï¼Œè¿™æ ·çš„æ–¹æ¡ˆç›¸å¯¹æ¯”è¾ƒç»æµçœæ—¶ã€‚

ç„¶è€Œï¼Œåœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œç”±äºäº‘æœåŠ¡éƒ¨ç½²çš„å¤æ‚æ€§ï¼Œé…ç½®é”™è¯¯å¯¼è‡´çš„æ•…éšœå¾€å¾€å¾ˆéš¾æ’æŸ¥å’Œå®šä½ï¼Œç»´æŠ¤èµ·æ¥ä¹Ÿéœ€è¦èŠ±è´¹æ—¶é—´ç²¾åŠ›ã€‚å› æ­¤ï¼Œå¦‚ä½•æ­£ç¡®æœ‰æ•ˆåœ°ä½¿ç”¨AWS Lambdaã€Serverlessæ¡†æ¶æˆ–å®¹å™¨æœåŠ¡éƒ¨ç½²æœåŠ¡ï¼Œå¹¶å»ºç«‹å®Œå–„çš„ç›‘æ§ä½“ç³»ï¼Œæ˜¯æˆåŠŸåœ°éƒ¨ç½²äº‘æœåŠ¡çš„å…³é”®ã€‚åŸºäºä»¥ä¸ŠåŸå› ï¼Œæœ¬æ–‡å°†ç»“åˆè‡ªèº«å·¥ä½œç»éªŒï¼Œåˆ†æåŸºäºäº‘æœåŠ¡éƒ¨ç½²çš„æœ€ä½³å®è·µï¼Œåˆ†äº«ä¸€äº›æŠ€å·§å’Œç»éªŒã€‚

æœ¬æ–‡å°†åˆ†ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†è¿›è¡Œè®¨è®ºï¼š

1.èƒŒæ™¯ä»‹ç»ï¼šé¦–å…ˆä»‹ç»ä¸€ä¸‹ä¸ºä»€ä¹ˆè¦éƒ¨ç½²äº‘æœåŠ¡ï¼Ÿ
2.åŸºæœ¬æ¦‚å¿µæœ¯è¯­è¯´æ˜ï¼šåŒ…æ‹¬äº‘è®¡ç®—ã€AWS Lambdaã€Serverlessç­‰ã€‚
3.æ ¸å¿ƒç®—æ³•åŸç†å’Œå…·ä½“æ“ä½œæ­¥éª¤ä»¥åŠæ•°å­¦å…¬å¼è®²è§£ï¼šä»‹ç»åŸºäºäº‘è®¡ç®—çš„æœåŠ¡éƒ¨ç½²è¿‡ç¨‹çš„æ ¸å¿ƒç®—æ³•å’Œå…·ä½“æ“ä½œæ­¥éª¤ã€‚é€šè¿‡ç®—æ³•å¯¼è®ºå’Œå…¬å¼æ¨å¯¼ï¼Œå±•ç¤ºå¦‚ä½•åˆ©ç”¨AWS Lambdaã€Serverlessç­‰å·¥å…·å®ç°æœåŠ¡éƒ¨ç½²ã€‚
4.å…·ä½“ä»£ç å®ä¾‹å’Œè§£é‡Šè¯´æ˜ï¼šç»™å‡ºä¸€äº›å®é™…çš„ä»£ç å®ä¾‹ï¼Œå¹¶ç®€å•é˜è¿°æ¯æ®µä»£ç çš„ä½œç”¨ã€‚
5.æœªæ¥å‘å±•è¶‹åŠ¿ä¸æŒ‘æˆ˜ï¼šä»‹ç»ä¸€äº›äº‘æœåŠ¡éƒ¨ç½²çš„æœªæ¥è¶‹åŠ¿å’ŒæŒ‘æˆ˜ã€‚
6.é™„å½•å¸¸è§é—®é¢˜ä¸è§£ç­”ï¼šå¯¹äºä¸€äº›å¸¸è§çš„é—®é¢˜è¿›è¡Œå›ç­”ã€‚

å¸Œæœ›å¤§å®¶èƒ½å¤Ÿå–œæ¬¢é˜…è¯»ï¼ğŸ˜˜ğŸ¤—ğŸ‘ğŸ™‚

ä½œè€…ç®€ä»‹ï¼šé™ˆé›¨å³°ï¼Œç¨‹åºå‘˜ã€CTOï¼Œæ›¾å°±èŒäºç™¾åº¦ã€æ»´æ»´ç­‰çŸ¥åå…¬å¸ã€‚çƒ­çˆ±ç¼–ç¨‹ï¼Œå¯¹æŠ€æœ¯ã€äº§å“ã€å¸‚åœºæœ‰æµ“åšå…´è¶£ï¼Œæ˜¯ä¼˜ç§€æŠ€æœ¯äººæ‰æ‹›è˜çš„æ˜æ˜Ÿã€‚å¾®ä¿¡å…¬ä¼—å·ï¼šæå®¢äº‘ä¹‹é“ã€‚





## ä¸€ã€èƒŒæ™¯ä»‹ç»
### ä¸ºä»€ä¹ˆè¦éƒ¨ç½²äº‘æœåŠ¡ï¼Ÿ
äº‘è®¡ç®—æ”¹å˜äº†ITéƒ¨é—¨çš„æ¶æ„æ¨¡å¼ã€‚ä¼ ç»Ÿçš„ITç¯å¢ƒæ˜¯å°†æ•´ä¸ªç³»ç»Ÿé›†ä¸­æ”¾åœ¨ä¸­å¿ƒæ•°æ®ä¸­å¿ƒï¼Œä½†æ˜¯äº‘è®¡ç®—åˆ™æ˜¯å°†ç³»ç»Ÿåˆ†å¸ƒå¼éƒ¨ç½²åœ¨å¤šä¸ªä¸åŒä½ç½®çš„è®¡ç®—æœºä¸Šï¼Œæ•°æ®ä¸­å¿ƒåªæ˜¯å…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹ã€‚äº‘è®¡ç®—å¯ä»¥æœ‰æ•ˆæå‡ITè¿è¥æ•ˆç‡ã€é™ä½æˆæœ¬ã€èŠ‚çº¦ç»´æŠ¤æˆæœ¬ã€‚

äº‘è®¡ç®—è¿˜å¯ä»¥å¸¦æ¥å¾ˆå¤šä¾¿åˆ©ï¼Œæ¯”å¦‚ï¼š

1.å¼¹æ€§ä¼¸ç¼©ï¼šäº‘è®¡ç®—å¯ä»¥æ ¹æ®ä¸šåŠ¡éœ€æ±‚è‡ªåŠ¨è°ƒæ•´èµ„æºè§„æ¨¡ï¼Œä½¿å…¶èƒ½å¤Ÿæ»¡è¶³ç”¨æˆ·çš„éœ€æ±‚ã€‚
2.çµæ´»è®¡è´¹ï¼šé€šè¿‡äº‘æœåŠ¡æä¾›å•†çš„è®¡è´¹æ¨¡å‹ï¼Œå¯ä»¥æ ¹æ®æ¶ˆè´¹é‡æ”¶å–ä¸åŒçš„è´¹ç”¨ã€‚
3.å…¨çƒåŒ–éƒ¨ç½²ï¼šé€šè¿‡äº‘è®¡ç®—ï¼Œå¯ä»¥åœ¨å…¨çƒä»»ä½•åœ°æ–¹è®¿é—®æ•°æ®å’ŒæœåŠ¡ã€‚

å› æ­¤ï¼Œäº‘æœåŠ¡éƒ¨ç½²æ˜¯ITè¡Œä¸šå¿…å¤‡æŠ€èƒ½ä¹‹ä¸€ã€‚ç„¶è€Œï¼Œå¦‚ä½•æ­£ç¡®æœ‰æ•ˆåœ°ä½¿ç”¨AWS Lambdaã€Serverlessæ¡†æ¶æˆ–å®¹å™¨æœåŠ¡éƒ¨ç½²æœåŠ¡ï¼Œå¹¶å»ºç«‹å®Œå–„çš„ç›‘æ§ä½“ç³»ï¼Œæ˜¯æˆåŠŸåœ°éƒ¨ç½²äº‘æœåŠ¡çš„å…³é”®ã€‚æœ¬æ–‡å°†ä¼šç»“åˆè‡ªèº«å·¥ä½œç»éªŒï¼Œä»‹ç»å¦‚ä½•åˆ©ç”¨AWS Lambdaã€Serverlessç­‰å·¥å…·éƒ¨ç½²äº‘æœåŠ¡ï¼Œå¹¶å»ºç«‹å®Œå–„çš„ç›‘æ§ä½“ç³»ã€‚

## äºŒã€åŸºæœ¬æ¦‚å¿µæœ¯è¯­è¯´æ˜
### 1.äº‘è®¡ç®—
äº‘è®¡ç®—ï¼ˆCloud computingï¼‰æ˜¯ä¸€ç§æŒ‰éœ€åˆ†é…è®¡ç®—èµ„æºçš„æ–¹å¼ï¼Œåˆ©ç”¨ç½‘ç»œå¹³å°ã€åŸºç¡€è®¾æ–½å³æœåŠ¡ï¼ˆIaaSï¼‰ï¼Œè½¯ä»¶å³æœåŠ¡ï¼ˆSaaSï¼‰å’Œå¹³å°å³æœåŠ¡ï¼ˆPaaSï¼‰ç­‰æœåŠ¡å½¢æ€å‘ä¸ªäººã€ä¼ä¸šå’Œç»„ç»‡æä¾›å¯æ‰©å±•çš„è®¡ç®—èµ„æºï¼Œåˆ©ç”¨è¿™äº›èµ„æºæ¥å¤„ç†ä»»åŠ¡ã€å»ºæ¨¡ã€åˆ†ææ•°æ®ã€å­˜å‚¨æ•°æ®ã€ä¼ è¾“æ•°æ®ç­‰æ—¥å¸¸äº‹åŠ¡ã€‚

äº‘è®¡ç®—ç”±ä¸‰ä¸ªä¸»è¦ç»„æˆéƒ¨åˆ†æ„æˆï¼Œåˆ†åˆ«æ˜¯ï¼š

1. ç½‘ç»œå¹³å°ï¼šè¯¥å¹³å°é€šè¿‡Internetä¸ºç”¨æˆ·æä¾›å„ç§è®¡ç®—æœåŠ¡ï¼ŒåŒ…æ‹¬ç½‘ç»œæ‰˜ç®¡ã€è®¡ç®—æœåŠ¡ã€å­˜å‚¨æœåŠ¡ã€æ•°æ®åº“æœåŠ¡ç­‰ã€‚

2. åŸºç¡€è®¾æ–½å³æœåŠ¡ï¼ˆIaaSï¼‰ï¼šè¯¥æœåŠ¡æä¾›æŒ‰éœ€ä½¿ç”¨äº‘ç«¯æœåŠ¡å™¨çš„èƒ½åŠ›ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨å®ƒè½»æ¾åœ°åˆ›å»ºè™šæ‹Ÿæœºï¼ˆVMï¼‰ã€ç£ç›˜é˜µåˆ—ã€è´Ÿè½½å‡è¡¡å™¨ã€IPåœ°å€ã€è·¯ç”±è¡¨ã€å®‰å…¨ç»„ã€VPNè¿æ¥ç­‰èµ„æºã€‚

3. è½¯ä»¶å³æœåŠ¡ï¼ˆSaaSï¼‰ï¼šè¯¥æœåŠ¡å…è®¸ç”¨æˆ·è´­ä¹°ç¬¬ä¸‰æ–¹æä¾›çš„åº”ç”¨è½¯ä»¶ï¼Œå¦‚æ•°æ®åº“è½¯ä»¶ã€åä½œåŠå…¬è½¯ä»¶ã€HRç®¡ç†è½¯ä»¶ç­‰ï¼Œåªéœ€è¦æŒ‰ç…§ç”¨æˆ·çš„è¦æ±‚è®¾ç½®å³å¯ä½¿ç”¨ï¼Œå®Œå…¨æ— é¡»å®‰è£…æˆ–ç®¡ç†è½¯ä»¶ã€‚

### 2.AWS Lambda
Amazon Web Servicesï¼ˆAWSï¼‰äº‘è®¡ç®—å¹³å°ä¸Šçš„Lambdaå‡½æ•°æ˜¯äº‹ä»¶é©±åŠ¨å‹æœåŠ¡å™¨ç«¯è®¡ç®—æŠ€æœ¯ï¼Œå®ƒå…è®¸ä½ è¿è¡Œæ— æœåŠ¡å™¨ä»£ç ï¼Œå¹¶åªéœ€æ”¯ä»˜ä½¿ç”¨é‡è´¹ç”¨ã€‚ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªLambdaå‡½æ•°æ¥æ‰§è¡Œä»»ä½•éœ€è¦è¿è¡Œçš„ä»£ç ï¼Œå¦‚å“åº”APIè¯·æ±‚ã€å¤„ç†æ•°æ®åº“æ›´æ–°ã€è¯»å–æ•°æ®ç­‰ç­‰ã€‚Lambdaè¿è¡Œåœ¨AWSçš„æœåŠ¡å™¨ä¸Šï¼Œèƒ½å¤Ÿè‡ªåŠ¨æ‰©å±•ï¼Œä¿è¯é«˜å¯ç”¨æ€§ã€‚ä½ å¯ä»¥é€‰æ‹©æ‰§è¡Œä¸€æ¬¡æ€§å‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ ¹æ®ä¼ å…¥æ•°æ®çš„å¤§å°æˆ–æ•°é‡è°ƒåº¦æµå¤„ç†å‡½æ•°ã€‚Lambdaæä¾›çš„åŠŸèƒ½åŒ…æ‹¬ï¼š

1. å¿«é€Ÿå¯åŠ¨æ—¶é—´ï¼šåªéœ€è¦å‡ ç§’é’Ÿå°±å¯ä»¥å®Œæˆéƒ¨ç½²ï¼Œå°±å¯ä»¥ç«‹åˆ»å¼€å§‹è¿è¡Œä½ çš„ä»£ç ã€‚
2. é«˜åº¦å¯ä¼¸ç¼©æ€§ï¼šLambdaæ”¯æŒè‡ªåŠ¨æ‰©å±•ï¼Œå¯ä»¥åŠ¨æ€å¢åŠ æˆ–å‡å°‘æœåŠ¡å™¨èµ„æºï¼Œä»¥é€‚åº”é«˜å³°æœŸçš„è´Ÿè½½ã€‚
3. æ— çŠ¶æ€è®¡ç®—ï¼šLambdaå‡½æ•°æ— éœ€æŒä¹…åŒ–çŠ¶æ€ï¼Œæ¯æ¬¡è°ƒç”¨å®ƒéƒ½æ˜¯ä¸€ä¸ªæ–°çš„è®¡ç®—å®ä¾‹ï¼Œå¯ä»¥æœ‰æ•ˆé¿å…ä»»ä½•å†…å­˜æˆ–å˜é‡æ³„éœ²ã€‚
4. ä»£ç å’Œä¾èµ–åŒ…ç®¡ç†ï¼šä½ å¯ä»¥ä½¿ç”¨Lambdaæ§åˆ¶å°æˆ–å‘½ä»¤è¡Œå·¥å…·ä¸Šä¼ ä»£ç å’Œä¾èµ–åŒ…ï¼Œå¹¶è®¾ç½®å®šæ—¶è§¦å‘å™¨æ¥æŒ‡å®šå‡½æ•°çš„æ‰§è¡Œé¢‘ç‡ã€‚

### Serverlessæ¶æ„
Serverlessæ¶æ„æ˜¯ä¸€ç§ä½¿ç”¨äº‘è®¡ç®—æœåŠ¡çš„æ–°æ–¹æ³•ï¼Œå®ƒä¸éœ€è¦å…³æ³¨æœåŠ¡å™¨çš„ç»´æŠ¤ã€å¼¹æ€§ä¼¸ç¼©ã€å†—ä½™å¤‡ä»½ç­‰é—®é¢˜ã€‚Serverlessæ¶æ„ç”±ä¸¤éƒ¨åˆ†æ„æˆï¼š

1. å‰ç«¯å±‚ï¼šå®ƒæ˜¯ç”±äº‹ä»¶æºè§¦å‘å™¨ï¼ˆEvent Source Triggerï¼‰æˆ–HTTP API Gatewayè§¦å‘çš„å‡½æ•°ï¼Œä½¿ç”¨äº‘æœåŠ¡æä¾›å•†æä¾›çš„APIæ¥æ¥æ”¶å¤–éƒ¨è¯·æ±‚å¹¶è½¬å‘è‡³åç«¯å±‚ã€‚å‰ç«¯å±‚ä¸éœ€è¦ç¼–å†™ä»£ç ï¼Œåªéœ€è¦é…ç½®å¥½è§¦å‘å™¨å³å¯ã€‚

2. åç«¯å±‚ï¼šå®ƒç”±äº‹ä»¶æºè§¦å‘çš„å‡½æ•°ï¼ˆå¦‚AWS Lambdaå‡½æ•°ã€Azure Functionså‡½æ•°ï¼‰æˆ–å…¶ä»–ç±»å‹çš„äº‘æœåŠ¡ï¼ˆå¦‚AWS DynamoDBæ•°æ®åº“ã€Azure CosmosDBæ–‡æ¡£æ•°æ®åº“ï¼‰ç»„æˆï¼Œè¿è¡Œä»£ç ä»¥å¤„ç†å‰ç«¯çš„è¯·æ±‚ã€‚åç«¯å±‚ä¸éœ€è¦è€ƒè™‘æœåŠ¡å™¨çš„é…ç½®ã€å¼¹æ€§ä¼¸ç¼©ã€æ•°æ®å­˜å‚¨ã€å®‰å…¨ç­‰é—®é¢˜ï¼Œåªéœ€è¦å…³æ³¨ä¸šåŠ¡é€»è¾‘çš„å®ç°ã€‚

## ä¸‰ã€æ ¸å¿ƒç®—æ³•åŸç†å’Œå…·ä½“æ“ä½œæ­¥éª¤ä»¥åŠæ•°å­¦å…¬å¼è®²è§£
### 1.å‡†å¤‡å·¥ä½œ
å¦‚æœè¦éƒ¨ç½²AWS Lambdaå‡½æ•°ï¼Œéœ€è¦åšä»¥ä¸‹å‡†å¤‡å·¥ä½œï¼š

1. åˆ›å»ºä¸€ä¸ªAmazon Web Servicesè´¦æˆ·ï¼›
2. è®¾ç½®ä½ çš„ç”µè„‘ä¸Šçš„AWS CLIï¼›
3. é…ç½®AWS IAMæƒé™ï¼›
4. å®‰è£…AWS SAM CLIï¼›

å¦‚æœä½ è¦ä½¿ç”¨Serverless Frameworkï¼Œéœ€è¦åšä»¥ä¸‹å‡†å¤‡å·¥ä½œï¼š

1. å®‰è£…Node.jsï¼›
2. å®‰è£…Serverless CLIï¼›
3. é…ç½®Serverlessé…ç½®æ–‡ä»¶ï¼ˆserverless.ymlï¼‰ã€‚

æœ¬æ–‡ä½¿ç”¨çš„ä¾‹å­æ˜¯ä¸€ä¸ªç®€å•çš„AWS Lambdaå‡½æ•°çš„ç¤ºä¾‹ã€‚

### 2.åˆ›å»ºAWS Lambdaå‡½æ•°
#### 2.1 åœ¨AWSæ§åˆ¶å°åˆ›å»ºå‡½æ•°
ç™»é™†AWSæ§åˆ¶å°ï¼Œä¾æ¬¡ç‚¹å‡»Services->Lambda->Functions->Create Functionï¼š

1. å‡½æ•°åç§°ï¼šè¾“å…¥å‡½æ•°çš„åç§°ã€‚
2. Runtimeï¼šé€‰æ‹©è¿è¡Œæ—¶ç¯å¢ƒã€‚
3. Roleï¼šé€‰æ‹©è§’è‰²ï¼Œå†³å®šäº†ä½ çš„å‡½æ•°æ˜¯å¦å…·æœ‰è®¿é—®å…¶ä»–AWSèµ„æºçš„æƒé™ã€‚
4. Handlerï¼šé€‰æ‹©æ‰§è¡Œå‡½æ•°æ—¶çš„å…¥å£ç‚¹ã€‚
5. Code Entry Typeï¼šé€‰æ‹©æœ¬åœ°ä¸Šä¼ ZIPæ–‡ä»¶æˆ–å­˜å‚¨æ¡¶ä¸­çš„ä»£ç ã€‚
6. Upload a.zip fileï¼šé€‰æ‹©æœ¬åœ°çš„ZIPå‹ç¼©åŒ…ã€‚
7. Saveï¼šä¿å­˜å‡½æ•°çš„é…ç½®ã€‚

![image-20200904164101257](https://tva1.sinaimg.cn/large/007S8ZIlly1gfdt0kvsywj31dw0e8q4a.jpg)

#### 2.2 é…ç½®Lambdaå‡½æ•°
é€‰æ‹©åˆšåˆšåˆ›å»ºå¥½çš„å‡½æ•°ï¼Œå•å‡»å³ä¾§çš„ç¼–è¾‘æ ‡ç­¾ï¼Œè¿›å…¥ç¼–è¾‘é¡µé¢ã€‚

1. æè¿°å‡½æ•°ï¼šå¡«å†™å‡½æ•°æè¿°ã€‚
2. æ‰§è¡Œè§’è‰²ï¼šé€‰æ‹©æ‰§è¡Œå‡½æ•°çš„è§’è‰²ã€‚
3. Lambda å‡½æ•°çš„è¶…æ—¶æ—¶é—´ï¼šè®¾ç½®å‡½æ•°è¿è¡Œè¶…æ—¶æ—¶é—´ã€‚
4. Lambda å‡½æ•°çš„å†…å­˜ç©ºé—´ï¼šè®¾ç½®å‡½æ•°è¿è¡Œæ‰€éœ€çš„å†…å­˜ç©ºé—´ã€‚
5. VPCé…ç½®ï¼šé€‰æ‹©å‡½æ•°è¿è¡Œæ‰€åœ¨çš„VPCã€‚
6. DLQï¼ˆDead Letter Queueï¼‰é…ç½®ï¼šé…ç½®å‡½æ•°å¤±è´¥æ—¶çš„DLQã€‚
7. ä¿å­˜å‡½æ•°é…ç½®ï¼šä¿å­˜å‡½æ•°é…ç½®ä¿¡æ¯ã€‚

![image-20200904164538257](https://tva1.sinaimg.cn/large/007S8ZIlly1gfdt0lwjdzj31dq0u0n0c.jpg)

#### 2.3 æµ‹è¯•Lambdaå‡½æ•°
é€‰æ‹©åˆšåˆšåˆ›å»ºå¥½çš„å‡½æ•°ï¼Œå•å‡»å³ä¾§çš„æµ‹è¯•æ ‡ç­¾ï¼Œè¿›å…¥æµ‹è¯•é¡µé¢ã€‚

1. æ¨¡æ‹Ÿæµ‹è¯•äº‹ä»¶ï¼šé€‰æ‹©æµ‹è¯•äº‹ä»¶ç±»å‹ã€‚
2. å¡«å†™æµ‹è¯•æ•°æ®ï¼šè¾“å…¥æµ‹è¯•äº‹ä»¶æ•°æ®ã€‚
3. è¿è¡Œæµ‹è¯•ï¼šé€‰æ‹©æµ‹è¯•å‡½æ•°ç‰ˆæœ¬ï¼Œç„¶åç‚¹å‡»è¿è¡ŒæŒ‰é’®ã€‚

![image-20200904164720892](https://tva1.sinaimg.cn/large/007S8ZIlly1gfdt0mwcfzj31dn0b4gnp.jpg)

#### 2.4 æŸ¥çœ‹Lambdaæ—¥å¿—
é€‰æ‹©åˆšåˆšåˆ›å»ºå¥½çš„å‡½æ•°ï¼Œå•å‡»å³ä¾§çš„æŸ¥çœ‹æ—¥å¿—æ ‡ç­¾ï¼Œè¿›å…¥æ—¥å¿—é¡µé¢ã€‚

![image-20200904164901727](https://tva1.sinaimg.cn/large/007S8ZIlly1gfdt0nebuhj31dd0mcmzz.jpg)

### 3.ä½¿ç”¨Serverless Frameworkéƒ¨ç½²Lambdaå‡½æ•°
#### 3.1 å®‰è£…Serverless Framework
Serverless Frameworkæ˜¯ä¸€ä¸ªå¼€æºçš„Serverlessæ¡†æ¶ï¼Œå®ƒä½¿ç”¨YAMLè¯­æ³•æ¥å®šä¹‰serverlessåº”ç”¨ç¨‹åºã€‚

```bash
npm install -g serverless
```

#### 3.2 åˆå§‹åŒ–é¡¹ç›®
åˆ›å»ºé¡¹ç›®æ–‡ä»¶å¤¹å¹¶è¿›å…¥åˆ°è¯¥ç›®å½•ä¸‹ï¼š

```bash
mkdir aws-lambda && cd aws-lambda
```

åˆå§‹åŒ–é¡¹ç›®ï¼š

```bash
sls create --template aws-nodejs --name myFunction
```

åœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªå«myFunctionçš„æ–‡ä»¶å¤¹ï¼Œé‡Œé¢æœ‰ä¸€ä¸ªserverless.ymlæ–‡ä»¶ã€‚

#### 3.3 ä¿®æ”¹serverless.ymlæ–‡ä»¶
ä¿®æ”¹serverless.ymlæ–‡ä»¶çš„serviceã€providerã€functionsé¡¹ã€‚

```yaml
service: aws-lambda # é¡¹ç›®åç§°

frameworkVersion: '2'  # ä½¿ç”¨Serverless Frameworkç‰ˆæœ¬å·

provider:
  name: aws
  runtime: nodejs10.x   # è¿è¡Œæ—¶ç¯å¢ƒ
  stage: dev    # ç¯å¢ƒåç§°
  region: ap-northeast-1 # åŒºåŸŸåç§°
  
functions:
  hello:
    handler: handler.hello      # å…¥å£ç‚¹æ–‡ä»¶å
    events:
      - http: GET /hello           # HTTPæ¥å£
      - schedule: rate(5 minutes)   # å®šæ—¶ä»»åŠ¡
```

#### 3.4 æ·»åŠ handleræ–‡ä»¶
æ·»åŠ handler.jsæ–‡ä»¶ï¼Œå¹¶åœ¨å…¶ä¸­å®šä¹‰helloå‡½æ•°ã€‚

```javascript
module.exports.hello = async function (event, context) {
  const response = {
    statusCode: 200,
    body: JSON.stringify({
      message: "Hello, World!"
    })
  };

  return response;
};
```

#### 3.5 éƒ¨ç½²å‡½æ•°
éƒ¨ç½²å‡½æ•°ï¼š

```bash
sls deploy
```

è¾“å‡ºç»“æœç±»ä¼¼å¦‚ä¸‹ï¼š

```bash
Service Information
service: aws-lambda
stage: dev
region: ap-northeast-1
stack: dev-aws-lambda
resources: 2
api keys: 
  None
endpoints: 
  POST - https://xxxxxx.execute-api.ap-northeast-1.amazonaws.com/dev/hello
  GET - https://xxxxxxx.execute-api.ap-northeast-1.amazonaws.com/dev/hello
functions:
  hello: aws-lambda-dev-hello
layers:
  None
```

#### 3.6 è·å–APIç½‘å…³URL
è·å–APIç½‘å…³çš„URLï¼š

```bash
sls info
```

è¾“å‡ºç»“æœç±»ä¼¼å¦‚ä¸‹ï¼š

```bash
Service Information
service: aws-lambda
stage: dev
region: ap-northeast-1
stack: dev-aws-lambda
resources: 2
api keys: 
  None
endpoints: 
  POST - https://xxxxxx.execute-api.ap-northeast-1.amazonaws.com/dev/hello
  GET - https://xxxxxxx.execute-api.ap-northeast-1.amazonaws.com/dev/hello
functions:
  hello: aws-lambda-dev-hello
layers:
  None
```

#### 3.7 æµ‹è¯•å‡½æ•°
æµ‹è¯•å‡½æ•°ï¼š

```bash
curl https://xxxxxx.execute-api.ap-northeast-1.amazonaws.com/dev/hello
```

è¾“å‡ºç»“æœç±»ä¼¼å¦‚ä¸‹ï¼š

```bash
{"message":"Hello, World!"}%
```

