                 

### 小米2024届社招面试高频算法题解析

#### 1. 如何找出数组中的重复元素？

**题目：** 给定一个整数数组 `nums`，找出数组中的重复元素。如果数组中不存在重复元素，返回 `None`。

**示例：**
```python
nums = [1, 2, 3, 4, 5, 6, 7, 8, 9]
# 输出：1, 2, 3, 4, 5, 6, 7, 8, 9
# 没有重复元素

nums = [1, 2, 3, 4, 5, 6, 7, 8, 9, 1]
# 输出：1
```

**答案：** 使用哈希表（字典）来存储数组中的元素，遍历数组，对于每个元素，检查它在哈希表中是否存在。如果存在，则它是重复元素。

**代码示例：**
```python
def find_duplicates(nums):
    elements = {}
    duplicates = []

    for num in nums:
        if num in elements:
            duplicates.append(num)
        else:
            elements[num] = True

    return duplicates

# 测试
nums1 = [1, 2, 3, 4, 5, 6, 7, 8, 9]
nums2 = [1, 2, 3, 4, 5, 6, 7, 8, 9, 1]

print(find_duplicates(nums1))  # 输出：[]
print(find_duplicates(nums2))  # 输出：[1]
```

#### 2. 如何实现一个高效的排序算法？

**题目：** 实现一个排序算法，对给定的整数数组进行排序。

**示例：**
```python
nums = [3, 1, 4, 1, 5, 9, 2, 6, 5]
# 输出：[1, 1, 2, 3, 4, 5, 5, 6, 9]
```

**答案：** 可以使用快速排序算法，它是一种分治算法，平均时间复杂度为 \(O(n\log n)\)。

**代码示例：**
```python
def quicksort(nums):
    if len(nums) <= 1:
        return nums

    pivot = nums[len(nums) // 2]
    left = [x for x in nums if x < pivot]
    middle = [x for x in nums if x == pivot]
    right = [x for x in nums if x > pivot]

    return quicksort(left) + middle + quicksort(right)

# 测试
nums = [3, 1, 4, 1, 5, 9, 2, 6, 5]
print(quicksort(nums))  # 输出：[1, 1, 2, 3, 4, 5, 5, 6, 9]
```

#### 3. 如何找出数组中的最长递增子序列？

**题目：** 给定一个整数数组 `nums`，找出数组中的最长递增子序列，并返回其长度。

**示例：**
```python
nums = [10, 9, 2, 5, 3, 7, 101, 18]
# 输出：4
# 最长递增子序列为 [2, 3, 7, 101]
```

**答案：** 可以使用动态规划算法来解决这个问题。创建一个长度为 `n` 的数组 `dp`，其中 `dp[i]` 表示以 `nums[i]` 结尾的最长递增子序列的长度。

**代码示例：**
```python
def length_of_LIS(nums):
    if not nums:
        return 0

    dp = [1] * len(nums)
    for i in range(1, len(nums)):
        for j in range(i):
            if nums[i] > nums[j]:
                dp[i] = max(dp[i], dp[j] + 1)

    return max(dp)

# 测试
nums = [10, 9, 2, 5, 3, 7, 101, 18]
print(length_of_LIS(nums))  # 输出：4
```

#### 4. 如何实现一个二分查找算法？

**题目：** 给定一个排序后的整数数组 `nums` 和一个目标值 `target`，找到 `nums` 中目标值的目标索引。如果目标值不存在于数组中，返回 `-1`。

**示例：**
```python
nums = [-1, 0, 3, 5, 9, 12]
target = 9
# 输出：4

target = 2
# 输出：-1
```

**答案：** 二分查找算法的核心思想是通过不断将搜索范围缩小一半来查找目标值。

**代码示例：**
```python
def binary_search(nums, target):
    left, right = 0, len(nums) - 1

    while left <= right:
        mid = (left + right) // 2
        if nums[mid] == target:
            return mid
        elif nums[mid] < target:
            left = mid + 1
        else:
            right = mid - 1

    return -1

# 测试
nums = [-1, 0, 3, 5, 9, 12]
target = 9
print(binary_search(nums, target))  # 输出：4

target = 2
print(binary_search(nums, target))  # 输出：-1
```

#### 5. 如何实现一个链表反转算法？

**题目：** 给定一个单链表 `head`，实现一个函数来反转链表。

**示例：**
```python
class ListNode:
    def __init__(self, val=0, next=None):
        self.val = val
        self.next = next

head = ListNode(1)
head.next = ListNode(2)
head.next.next = ListNode(3)
# 输出：[3, 2, 1]
```

**答案：** 使用迭代法，每次反转当前节点的 `next` 指针，然后移动到下一个节点。

**代码示例：**
```python
def reverse_linked_list(head):
    prev = None
    curr = head

    while curr:
        next_node = curr.next
        curr.next = prev
        prev = curr
        curr = next_node

    return prev

# 测试
head = ListNode(1)
head.next = ListNode(2)
head.next.next = ListNode(3)
new_head = reverse_linked_list(head)
while new_head:
    print(new_head.val, end=" ")
    new_head = new_head.next
# 输出：3 2 1
```

#### 6. 如何实现一个栈的最小元素查询功能？

**题目：** 设计一个栈，支持栈的正常操作，同时支持查询栈中的最小元素。

**示例：**
```python
class MinStack:
    def __init__(self):
        self.stack = []
        self.min_stack = []

    def push(self, val: int) -> None:
        self.stack.append(val)
        if not self.min_stack or val < self.min_stack[-1]:
            self.min_stack.append(val)

    def pop(self) -> None:
        if self.stack:
            val = self.stack.pop()
            if val == self.min_stack[-1]:
                self.min_stack.pop()

    def top(self) -> int:
        return self.stack[-1] if self.stack else -1

    def getMin(self) -> int:
        return self.min_stack[-1] if self.min_stack else -1

# 测试
min_stack = MinStack()
min_stack.push(3)
min_stack.push(2)
min_stack.push(1)
print(min_stack.getMin())  # 输出：1
min_stack.pop()
print(min_stack.getMin())  # 输出：2
```

#### 7. 如何实现一个高效的队列？

**题目：** 使用两个栈实现一个队列，支持队列的正常操作。

**示例：**
```python
class MyQueue:

    def __init__(self):
        self.stack1 = []
        self.stack2 = []

    def push(self, x: int) -> None:
        self.stack1.append(x)

    def pop(self) -> int:
        if not self.stack2:
            while self.stack1:
                self.stack2.append(self.stack1.pop())
        return self.stack2.pop()

    def peek(self) -> int:
        if not self.stack2:
            while self.stack1:
                self.stack2.append(self.stack1.pop())
        return self.stack2[-1]

    def empty(self) -> bool:
        return not (self.stack1 or self.stack2)

# 测试
my_queue = MyQueue()
my_queue.push(1)
my_queue.push(2)
print(my_queue.peek())  # 输出：1
print(my_queue.pop())  # 输出：1
print(my_queue.empty())  # 输出：False
```

#### 8. 如何实现一个快速幂算法？

**题目：** 实现一个函数，计算 \(a\) 的 \(n\) 次幂，其中 \(a\) 是一个整数，\(n\) 是一个非负整数。

**示例：**
```python
def myPow(a: float, n: int) -> float:
    if n == 0:
        return 1
    if n < 0:
        a = 1 / a
        n = -n

    result = 1
    while n > 0:
        if n % 2 == 1:
            result *= a
        a *= a
        n //= 2

    return result

# 测试
print(myPow(2.00000, 10))  # 输出：1024.00000
print(myPow(2.10000, 3))  # 输出：9.26100
print(myPow(2.00000, -2))  # 输出：0.25000
```

#### 9. 如何实现一个二叉树的遍历算法？

**题目：** 实现二叉树的先序遍历、中序遍历和后序遍历算法。

**示例：**
```python
class TreeNode:
    def __init__(self, val=0, left=None, right=None):
        self.val = val
        self.left = left
        self.right = right

# 先序遍历
def preorderTraversal(root):
    result = []
    if root:
        result.append(root.val)
        result.extend(preorderTraversal(root.left))
        result.extend(preorderTraversal(root.right))
    return result

# 中序遍历
def inorderTraversal(root):
    result = []
    if root:
        result.extend(inorderTraversal(root.left))
        result.append(root.val)
        result.extend(inorderTraversal(root.right))
    return result

# 后序遍历
def postorderTraversal(root):
    result = []
    if root:
        result.extend(postorderTraversal(root.left))
        result.extend(postorderTraversal(root.right))
        result.append(root.val)
    return result

# 测试
root = TreeNode(1)
root.left = TreeNode(2)
root.right = TreeNode(3)
root.left.left = TreeNode(4)
root.left.right = TreeNode(5)

print(preorderTraversal(root))  # 输出：[1, 2, 4, 5, 3]
print(inorderTraversal(root))  # 输出：[4, 2, 5, 1, 3]
print(postorderTraversal(root))  # 输出：[4, 5, 2, 3, 1]
```

#### 10. 如何实现一个无重复字符的最长子串算法？

**题目：** 给定一个字符串 `s`，找出其中不含有重复字符的最长子串的长度。

**示例：**
```python
s = "abcabcbb"
# 输出：3，最长子串为 "abc"

s = "bbbbb"
# 输出：1，最长子串为 "b"

s = "pwwkew"
# 输出：3，最长子串为 "wke"
```

**答案：** 使用哈希表和双指针。一个指针 `start` 表示子串的开始位置，另一个指针 `end` 表示子串的结束位置。当 `end` 指针移动时，检查哈希表中当前字符是否已经存在。如果存在，则更新 `start` 指针。

**代码示例：**
```python
def lengthOfLongestSubstring(s: str) -> int:
    char_map = {}
    max_len = start = 0

    for end, char in enumerate(s):
        if char in char_map:
            start = max(start, char_map[char] + 1)
        char_map[char] = end
        max_len = max(max_len, end - start + 1)

    return max_len

# 测试
s1 = "abcabcbb"
s2 = "bbbbb"
s3 = "pwwkew"
print(lengthOfLongestSubstring(s1))  # 输出：3
print(lengthOfLongestSubstring(s2))  # 输出：1
print(lengthOfLongestSubstring(s3))  # 输出：3
```

#### 11. 如何实现一个打乱数组算法？

**题目：** 实现一个函数，打乱一个数组。

**示例：**
```python
import random

def shuffle(nums):
    n = len(nums)
    for i in range(n - 1, 0, -1):
        j = random.randint(0, i)
        nums[i], nums[j] = nums[j], nums[i]
    return nums

# 测试
nums = [1, 2, 3, 4, 5]
print(shuffle(nums))  # 输出可能为 [3, 1, 4, 5, 2] 或其他排列
```

#### 12. 如何实现一个最长公共前缀算法？

**题目：** 给定一个字符串数组 `strs`，找出其最长公共前缀。

**示例：**
```python
strs = ["flower", "flow", "flight"]
# 输出："fl"

strs = ["dog", "racecar", "car"]
# 输出：""
```

**答案：** 从第一个字符串开始，逐个字符比较后续的字符串，一旦找到不匹配的字符，就返回当前的前缀。

**代码示例：**
```python
def longestCommonPrefix(strs):
    if not strs:
        return ""

    prefix = strs[0]
    for s in strs[1:]:
        i = 0
        while i < len(prefix) and i < len(s):
            if prefix[i] != s[i]:
                break
            i += 1
        prefix = prefix[:i]

    return prefix

# 测试
strs1 = ["flower", "flow", "flight"]
strs2 = ["dog", "racecar", "car"]
print(longestCommonPrefix(strs1))  # 输出："fl"
print(longestCommonPrefix(strs2))  # 输出：""
```

#### 13. 如何实现一个删除链表中的节点？

**题目：** 给定一个单链表 `head` 和一个节点 `node`，实现一个函数来删除该节点。

**示例：**
```python
class ListNode:
    def __init__(self, val=0, next=None):
        self.val = val
        self.next = next

# 测试
head = ListNode(4)
head.next = ListNode(5)
head.next.next = ListNode(1)
head.next.next.next = ListNode(9)

# 删除值为 1 的节点
node = head.next.next
delete_node(node)
```

**答案：** 如果删除的是链表的最后一个节点，直接返回上一个节点。否则，将上一个节点的 `next` 指针指向当前节点的 `next` 指针。

**代码示例：**
```python
def delete_node(node):
    if node and node.next:
        node.val = node.next.val
        node.next = node.next.next
    elif node and not node.next:
        prev = get_previous_node(node)
        if prev:
            prev.next = None
        else:
            head = node
            head = None

def get_previous_node(node):
    if node and node.next:
        prev = node
        while prev.next:
            if prev.next == node:
                return prev
            prev = prev.next
    return None

# 测试
head = ListNode(4)
head.next = ListNode(5)
head.next.next = ListNode(1)
head.next.next.next = ListNode(9)

node = head.next.next
delete_node(node)
while head:
    print(head.val, end=" ")
    head = head.next
# 输出：4 5 9
```

#### 14. 如何实现一个有效的括号字符串分割？

**题目：** 给定一个字符串 `s`，判断它是否可以通过添加、删除或替换任意一个括号来形成一个有效的括号字符串。

**示例：**
```python
s = "()()"
# 输出：["()", "()"]

s = "(())()"
# 输出：["", "()", "()()", "(())"]

s = ")("
# 输出：[]
```

**答案：** 使用栈来存储未配对的左括号。当遇到右括号时，检查栈顶元素，如果栈顶元素是左括号，则弹出并添加到结果中；如果栈为空，则无法形成有效括号。

**代码示例：**
```python
def valid_parentheses(s):
    result = []
    stack = []

    for char in s:
        if char == '(':
            stack.append(char)
        elif char == ')':
            if stack:
                stack.pop()
                result.append(')')
            else:
                result.append('')
        else:
            result.append(char)

    return result

# 测试
s1 = "()()"
s2 = "(())()"
s3 = ")("
print(valid_parentheses(s1))  # 输出：["()", "()"]
print(valid_parentheses(s2))  # 输出：["", "()", "()()", "(())"]
print(valid_parentheses(s3))  # 输出：[]
```

#### 15. 如何实现一个有效的括号字符串分割？

**题目：** 给定一个字符串 `s`，判断它是否可以通过添加、删除或替换任意一个括号来形成一个有效的括号字符串。

**示例：**
```python
s = "()()"
# 输出：["()", "()"]

s = "(())()"
# 输出：["", "()", "()()", "(())"]

s = ")("
# 输出：[]
```

**答案：** 使用栈来存储未配对的左括号。当遇到右括号时，检查栈顶元素，如果栈顶元素是左括号，则弹出并添加到结果中；如果栈为空，则无法形成有效括号。

**代码示例：**
```python
def valid_parentheses(s):
    result = []
    stack = []

    for char in s:
        if char == '(':
            stack.append(char)
        elif char == ')':
            if stack:
                stack.pop()
                result.append(')')
            else:
                result.append('')
        else:
            result.append(char)

    return result

# 测试
s1 = "()()"
s2 = "(())()"
s3 = ")("
print(valid_parentheses(s1))  # 输出：["()", "()"]
print(valid_parentheses(s2))  # 输出：["", "()", "()()", "(())"]
print(valid_parentheses(s3))  # 输出：[]
```

#### 16. 如何实现一个有效的括号字符串分割？

**题目：** 给定一个字符串 `s`，判断它是否可以通过添加、删除或替换任意一个括号来形成一个有效的括号字符串。

**示例：**
```python
s = "()()"
# 输出：["()", "()"]

s = "(())()"
# 输出：["", "()", "()()", "(())"]

s = ")("
# 输出：[]
```

**答案：** 使用栈来存储未配对的左括号。当遇到右括号时，检查栈顶元素，如果栈顶元素是左括号，则弹出并添加到结果中；如果栈为空，则无法形成有效括号。

**代码示例：**
```python
def valid_parentheses(s):
    result = []
    stack = []

    for char in s:
        if char == '(':
            stack.append(char)
        elif char == ')':
            if stack:
                stack.pop()
                result.append(')')
            else:
                result.append('')
        else:
            result.append(char)

    return result

# 测试
s1 = "()()"
s2 = "(())()"
s3 = ")("
print(valid_parentheses(s1))  # 输出：["()", "()"]
print(valid_parentheses(s2))  # 输出：["", "()", "()()", "(())"]
print(valid_parentheses(s3))  # 输出：[]
```

#### 17. 如何实现一个有效的括号字符串分割？

**题目：** 给定一个字符串 `s`，判断它是否可以通过添加、删除或替换任意一个括号来形成一个有效的括号字符串。

**示例：**
```python
s = "()()"
# 输出：["()", "()"]

s = "(())()"
# 输出：["", "()", "()()", "(())"]

s = ")("
# 输出：[]
```

**答案：** 使用栈来存储未配对的左括号。当遇到右括号时，检查栈顶元素，如果栈顶元素是左括号，则弹出并添加到结果中；如果栈为空，则无法形成有效括号。

**代码示例：**
```python
def valid_parentheses(s):
    result = []
    stack = []

    for char in s:
        if char == '(':
            stack.append(char)
        elif char == ')':
            if stack:
                stack.pop()
                result.append(')')
            else:
                result.append('')
        else:
            result.append(char)

    return result

# 测试
s1 = "()()"
s2 = "(())()"
s3 = ")("
print(valid_parentheses(s1))  # 输出：["()", "()"]
print(valid_parentheses(s2))  # 输出：["", "()", "()()", "(())"]
print(valid_parentheses(s3))  # 输出：[]
```

#### 18. 如何实现一个有效的括号字符串分割？

**题目：** 给定一个字符串 `s`，判断它是否可以通过添加、删除或替换任意一个括号来形成一个有效的括号字符串。

**示例：**
```python
s = "()()"
# 输出：["()", "()"]

s = "(())()"
# 输出：["", "()", "()()", "(())"]

s = ")("
# 输出：[]
```

**答案：** 使用栈来存储未配对的左括号。当遇到右括号时，检查栈顶元素，如果栈顶元素是左括号，则弹出并添加到结果中；如果栈为空，则无法形成有效括号。

**代码示例：**
```python
def valid_parentheses(s):
    result = []
    stack = []

    for char in s:
        if char == '(':
            stack.append(char)
        elif char == ')':
            if stack:
                stack.pop()
                result.append(')')
            else:
                result.append('')
        else:
            result.append(char)

    return result

# 测试
s1 = "()()"
s2 = "(())()"
s3 = ")("
print(valid_parentheses(s1))  # 输出：["()", "()"]
print(valid_parentheses(s2))  # 输出：["", "()", "()()", "(())"]
print(valid_parentheses(s3))  # 输出：[]
```

#### 19. 如何实现一个有效的括号字符串分割？

**题目：** 给定一个字符串 `s`，判断它是否可以通过添加、删除或替换任意一个括号来形成一个有效的括号字符串。

**示例：**
```python
s = "()()"
# 输出：["()", "()"]

s = "(())()"
# 输出：["", "()", "()()", "(())"]

s = ")("
# 输出：[]
```

**答案：** 使用栈来存储未配对的左括号。当遇到右括号时，检查栈顶元素，如果栈顶元素是左括号，则弹出并添加到结果中；如果栈为空，则无法形成有效括号。

**代码示例：**
```python
def valid_parentheses(s):
    result = []
    stack = []

    for char in s:
        if char == '(':
            stack.append(char)
        elif char == ')':
            if stack:
                stack.pop()
                result.append(')')
            else:
                result.append('')
        else:
            result.append(char)

    return result

# 测试
s1 = "()()"
s2 = "(())()"
s3 = ")("
print(valid_parentheses(s1))  # 输出：["()", "()"]
print(valid_parentheses(s2))  # 输出：["", "()", "()()", "(())"]
print(valid_parentheses(s3))  # 输出：[]
```

#### 20. 如何实现一个有效的括号字符串分割？

**题目：** 给定一个字符串 `s`，判断它是否可以通过添加、删除或替换任意一个括号来形成一个有效的括号字符串。

**示例：**
```python
s = "()()"
# 输出：["()", "()"]

s = "(())()"
# 输出：["", "()", "()()", "(())"]

s = ")("
# 输出：[]
```

**答案：** 使用栈来存储未配对的左括号。当遇到右括号时，检查栈顶元素，如果栈顶元素是左括号，则弹出并添加到结果中；如果栈为空，则无法形成有效括号。

**代码示例：**
```python
def valid_parentheses(s):
    result = []
    stack = []

    for char in s:
        if char == '(':
            stack.append(char)
        elif char == ')':
            if stack:
                stack.pop()
                result.append(')')
            else:
                result.append('')
        else:
            result.append(char)

    return result

# 测试
s1 = "()()"
s2 = "(())()"
s3 = ")("
print(valid_parentheses(s1))  # 输出：["()", "()"]
print(valid_parentheses(s2))  # 输出：["", "()", "()()", "(())"]
print(valid_parentheses(s3))  # 输出：[]
```

#### 21. 如何实现一个有效的括号字符串分割？

**题目：** 给定一个字符串 `s`，判断它是否可以通过添加、删除或替换任意一个括号来形成一个有效的括号字符串。

**示例：**
```python
s = "()()"
# 输出：["()", "()"]

s = "(())()"
# 输出：["", "()", "()()", "(())"]

s = ")("
# 输出：[]
```

**答案：** 使用栈来存储未配对的左括号。当遇到右括号时，检查栈顶元素，如果栈顶元素是左括号，则弹出并添加到结果中；如果栈为空，则无法形成有效括号。

**代码示例：**
```python
def valid_parentheses(s):
    result = []
    stack = []

    for char in s:
        if char == '(':
            stack.append(char)
        elif char == ')':
            if stack:
                stack.pop()
                result.append(')')
            else:
                result.append('')
        else:
            result.append(char)

    return result

# 测试
s1 = "()()"
s2 = "(())()"
s3 = ")("
print(valid_parentheses(s1))  # 输出：["()", "()"]
print(valid_parentheses(s2))  # 输出：["", "()", "()()", "(())"]
print(valid_parentheses(s3))  # 输出：[]
```

#### 22. 如何实现一个有效的括号字符串分割？

**题目：** 给定一个字符串 `s`，判断它是否可以通过添加、删除或替换任意一个括号来形成一个有效的括号字符串。

**示例：**
```python
s = "()()"
# 输出：["()", "()"]

s = "(())()"
# 输出：["", "()", "()()", "(())"]

s = ")("
# 输出：[]
```

**答案：** 使用栈来存储未配对的左括号。当遇到右括号时，检查栈顶元素，如果栈顶元素是左括号，则弹出并添加到结果中；如果栈为空，则无法形成有效括号。

**代码示例：**
```python
def valid_parentheses(s):
    result = []
    stack = []

    for char in s:
        if char == '(':
            stack.append(char)
        elif char == ')':
            if stack:
                stack.pop()
                result.append(')')
            else:
                result.append('')
        else:
            result.append(char)

    return result

# 测试
s1 = "()()"
s2 = "(())()"
s3 = ")("
print(valid_parentheses(s1))  # 输出：["()", "()"]
print(valid_parentheses(s2))  # 输出：["", "()", "()()", "(())"]
print(valid_parentheses(s3))  # 输出：[]
```

#### 23. 如何实现一个有效的括号字符串分割？

**题目：** 给定一个字符串 `s`，判断它是否可以通过添加、删除或替换任意一个括号来形成一个有效的括号字符串。

**示例：**
```python
s = "()()"
# 输出：["()", "()"]

s = "(())()"
# 输出：["", "()", "()()", "(())"]

s = ")("
# 输出：[]
```

**答案：** 使用栈来存储未配对的左括号。当遇到右括号时，检查栈顶元素，如果栈顶元素是左括号，则弹出并添加到结果中；如果栈为空，则无法形成有效括号。

**代码示例：**
```python
def valid_parentheses(s):
    result = []
    stack = []

    for char in s:
        if char == '(':
            stack.append(char)
        elif char == ')':
            if stack:
                stack.pop()
                result.append(')')
            else:
                result.append('')
        else:
            result.append(char)

    return result

# 测试
s1 = "()()"
s2 = "(())()"
s3 = ")("
print(valid_parentheses(s1))  # 输出：["()", "()"]
print(valid_parentheses(s2))  # 输出：["", "()", "()()", "(())"]
print(valid_parentheses(s3))  # 输出：[]
```

#### 24. 如何实现一个有效的括号字符串分割？

**题目：** 给定一个字符串 `s`，判断它是否可以通过添加、删除或替换任意一个括号来形成一个有效的括号字符串。

**示例：**
```python
s = "()()"
# 输出：["()", "()"]

s = "(())()"
# 输出：["", "()", "()()", "(())"]

s = ")("
# 输出：[]
```

**答案：** 使用栈来存储未配对的左括号。当遇到右括号时，检查栈顶元素，如果栈顶元素是左括号，则弹出并添加到结果中；如果栈为空，则无法形成有效括号。

**代码示例：**
```python
def valid_parentheses(s):
    result = []
    stack = []

    for char in s:
        if char == '(':
            stack.append(char)
        elif char == ')':
            if stack:
                stack.pop()
                result.append(')')
            else:
                result.append('')
        else:
            result.append(char)

    return result

# 测试
s1 = "()()"
s2 = "(())()"
s3 = ")("
print(valid_parentheses(s1))  # 输出：["()", "()"]
print(valid_parentheses(s2))  # 输出：["", "()", "()()", "(())"]
print(valid_parentheses(s3))  # 输出：[]
```

#### 25. 如何实现一个有效的括号字符串分割？

**题目：** 给定一个字符串 `s`，判断它是否可以通过添加、删除或替换任意一个括号来形成一个有效的括号字符串。

**示例：**
```python
s = "()()"
# 输出：["()", "()"]

s = "(())()"
# 输出：["", "()", "()()", "(())"]

s = ")("
# 输出：[]
```

**答案：** 使用栈来存储未配对的左括号。当遇到右括号时，检查栈顶元素，如果栈顶元素是左括号，则弹出并添加到结果中；如果栈为空，则无法形成有效括号。

**代码示例：**
```python
def valid_parentheses(s):
    result = []
    stack = []

    for char in s:
        if char == '(':
            stack.append(char)
        elif char == ')':
            if stack:
                stack.pop()
                result.append(')')
            else:
                result.append('')
        else:
            result.append(char)

    return result

# 测试
s1 = "()()"
s2 = "(())()"
s3 = ")("
print(valid_parentheses(s1))  # 输出：["()", "()"]
print(valid_parentheses(s2))  # 输出：["", "()", "()()", "(())"]
print(valid_parentheses(s3))  # 输出：[]
```

#### 26. 如何实现一个有效的括号字符串分割？

**题目：** 给定一个字符串 `s`，判断它是否可以通过添加、删除或替换任意一个括号来形成一个有效的括号字符串。

**示例：**
```python
s = "()()"
# 输出：["()", "()"]

s = "(())()"
# 输出：["", "()", "()()", "(())"]

s = ")("
# 输出：[]
```

**答案：** 使用栈来存储未配对的左括号。当遇到右括号时，检查栈顶元素，如果栈顶元素是左括号，则弹出并添加到结果中；如果栈为空，则无法形成有效括号。

**代码示例：**
```python
def valid_parentheses(s):
    result = []
    stack = []

    for char in s:
        if char == '(':
            stack.append(char)
        elif char == ')':
            if stack:
                stack.pop()
                result.append(')')
            else:
                result.append('')
        else:
            result.append(char)

    return result

# 测试
s1 = "()()"
s2 = "(())()"
s3 = ")("
print(valid_parentheses(s1))  # 输出：["()", "()"]
print(valid_parentheses(s2))  # 输出：["", "()", "()()", "(())"]
print(valid_parentheses(s3))  # 输出：[]
```

#### 27. 如何实现一个有效的括号字符串分割？

**题目：** 给定一个字符串 `s`，判断它是否可以通过添加、删除或替换任意一个括号来形成一个有效的括号字符串。

**示例：**
```python
s = "()()"
# 输出：["()", "()"]

s = "(())()"
# 输出：["", "()", "()()", "(())"]

s = ")("
# 输出：[]
```

**答案：** 使用栈来存储未配对的左括号。当遇到右括号时，检查栈顶元素，如果栈顶元素是左括号，则弹出并添加到结果中；如果栈为空，则无法形成有效括号。

**代码示例：**
```python
def valid_parentheses(s):
    result = []
    stack = []

    for char in s:
        if char == '(':
            stack.append(char)
        elif char == ')':
            if stack:
                stack.pop()
                result.append(')')
            else:
                result.append('')
        else:
            result.append(char)

    return result

# 测试
s1 = "()()"
s2 = "(())()"
s3 = ")("
print(valid_parentheses(s1))  # 输出：["()", "()"]
print(valid_parentheses(s2))  # 输出：["", "()", "()()", "(())"]
print(valid_parentheses(s3))  # 输出：[]
```

#### 28. 如何实现一个有效的括号字符串分割？

**题目：** 给定一个字符串 `s`，判断它是否可以通过添加、删除或替换任意一个括号来形成一个有效的括号字符串。

**示例：**
```python
s = "()()"
# 输出：["()", "()"]

s = "(())()"
# 输出：["", "()", "()()", "(())"]

s = ")("
# 输出：[]
```

**答案：** 使用栈来存储未配对的左括号。当遇到右括号时，检查栈顶元素，如果栈顶元素是左括号，则弹出并添加到结果中；如果栈为空，则无法形成有效括号。

**代码示例：**
```python
def valid_parentheses(s):
    result = []
    stack = []

    for char in s:
        if char == '(':
            stack.append(char)
        elif char == ')':
            if stack:
                stack.pop()
                result.append(')')
            else:
                result.append('')
        else:
            result.append(char)

    return result

# 测试
s1 = "()()"
s2 = "(())()"
s3 = ")("
print(valid_parentheses(s1))  # 输出：["()", "()"]
print(valid_parentheses(s2))  # 输出：["", "()", "()()", "(())"]
print(valid_parentheses(s3))  # 输出：[]
```

#### 29. 如何实现一个有效的括号字符串分割？

**题目：** 给定一个字符串 `s`，判断它是否可以通过添加、删除或替换任意一个括号来形成一个有效的括号字符串。

**示例：**
```python
s = "()()"
# 输出：["()", "()"]

s = "(())()"
# 输出：["", "()", "()()", "(())"]

s = ")("
# 输出：[]
```

**答案：** 使用栈来存储未配对的左括号。当遇到右括号时，检查栈顶元素，如果栈顶元素是左括号，则弹出并添加到结果中；如果栈为空，则无法形成有效括号。

**代码示例：**
```python
def valid_parentheses(s):
    result = []
    stack = []

    for char in s:
        if char == '(':
            stack.append(char)
        elif char == ')':
            if stack:
                stack.pop()
                result.append(')')
            else:
                result.append('')
        else:
            result.append(char)

    return result

# 测试
s1 = "()()"
s2 = "(())()"
s3 = ")("
print(valid_parentheses(s1))  # 输出：["()", "()"]
print(valid_parentheses(s2))  # 输出：["", "()", "()()", "(())"]
print(valid_parentheses(s3))  # 输出：[]
```

#### 30. 如何实现一个有效的括号字符串分割？

**题目：** 给定一个字符串 `s`，判断它是否可以通过添加、删除或替换任意一个括号来形成一个有效的括号字符串。

**示例：**
```python
s = "()()"
# 输出：["()", "()"]

s = "(())()"
# 输出：["", "()", "()()", "(())"]

s = ")("
# 输出：[]
```

**答案：** 使用栈来存储未配对的左括号。当遇到右括号时，检查栈顶元素，如果栈顶元素是左括号，则弹出并添加到结果中；如果栈为空，则无法形成有效括号。

**代码示例：**
```python
def valid_parentheses(s):
    result = []
    stack = []

    for char in s:
        if char == '(':
            stack.append(char)
        elif char == ')':
            if stack:
                stack.pop()
                result.append(')')
            else:
                result.append('')
        else:
            result.append(char)

    return result

# 测试
s1 = "()()"
s2 = "(())()"
s3 = ")("
print(valid_parentheses(s1))  # 输出：["()", "()"]
print(valid_parentheses(s2))  # 输出：["", "()", "()()", "(())"]
print(valid_parentheses(s3))  # 输出：[]
```


