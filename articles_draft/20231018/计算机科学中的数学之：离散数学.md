
作者：禅与计算机程序设计艺术                    

# 1.背景介绍


计算机科学中离散数学是一个很重要的分支领域，也是程序员需要掌握的基础知识，同时它也是工程应用、系统分析与设计的核心。本文从一个最简单的问题开始，讨论一些基本的离散数学理论。
## 1.1什么是随机变量？
在概率论和统计学中，随机变量(random variable)是指由一定概率空间上的事件所组成的函数。简而言之，就是一个函数，它把所有可能的事件（outcome）映射到实数值上，且函数值的取值可以理解为一个结果的概率。换句话说，随机变量描述的是一种现象的随机性。

举个例子，抛一次骰子，随机变量X表示点数，它的取值为1、2、3、4、5或者6，这些值就代表着不同的结果。如果再抛一次骰子，随机变量Y就表示第二次的点数。当两个随机变量相互独立时，他们的联合分布就是二维的联合概率分布。

在实际应用中，随机变量经常用于描述某些现象随时间变化的规律。比如说股票市场价格的随机变动，或者新闻网站用户点击行为的随机流量。通过对随机变量的观察，就可以利用这些随机规律进行预测和控制。

## 1.2什么是概率密度函数？
概率密度函数(probability density function, PDF)也称为密度函数，是一个描述随机变量取值的曲线。其中横轴是随机变量的值，纵轴是概率质量。它给出了在某个范围内，随机变量取某个值的概率。

图1展示了一个例子，来自西瓜书的一个随机变量。假设X为随机变量，它的概率密度函数为f(x)，那么f(x)的积分即为随机变量的概率。概率密度函数对变量的概率描述了其取值分布的特征。当两个随机变量相互独立时，它们的联合概率密度函数的积分等于各自的概率密度函数的积分之积。


例如，X、Y是两个独立的随机变量，它们的联合概率密度函数分别为：

$$f_{XY}(x,y)=\frac{d^{2}P}{dx dy}|_{x=x_0, y=y_0}$$

其中$P(x,y)$表示随机变量$(X,Y)$的联合分布。f_{XY}(x,y)的意义是在坐标平面$(x,y)$处，$(X,Y)$的联合分布的概率质量。

## 1.3什么是连续型随机变量？
连续型随机变量(continuous random variable)又叫实数型随机变量或雷德菲尔斯分布，是一个定义在整个实数轴上的随机变量，它的概率密度函数为连续的形式，因此可以对整个实数轴进行研究。

通常情况下，不可能对所有的实数都计算出它的概率密度函数，但是可以找到近似的表达式，这些表达式称为概率密度函数。其中最著名的概率密度函数是正态分布，它描述了数据集中数据的分布情况。

## 1.4什么是离散型随机变量？
离散型随机变量(discrete random variable)是指取整数值的随机变量。其中最常见的离散型随机变量是二项分布。

举个例子，抛掷两枚硬币，硬币出现正面朝上的次数服从二项分布。设X表示第一次抛掷硬币的正面朝上的次数，那么X的概率分布为：

$$P(X=k)=C^k_n p^k (1-p)^{n-k}, k=0,1,\cdots, n.$$

这里，C^k_n表示组合数，n为投掷次数，p为硬币的正面朝上的概率。这里的二项分布主要用来解决抛掷硬币的问题。

除了二项分布外，还有其他常见的离散型随机变量有：

 - 几何分布
 - 概率分布
 - 泊松分布
 - 伯努利分布
 
除此以外，还有其它一些分布如超几何分布、负指数分布等，这些分布都是在二项分布的基础上构建的。

# 2.核心概念与联系
## 2.1随机变量及其分布之间的关系
设$X$和$Y$是两个随机变量，定义为：

$$F_Y(y)=P\{X \leqslant y\},\quad f_X(x)=P\{X = x\}.$$

则称$Y$服从分布$F_Y$；称$X$的分布函数为$F_X$。

$$F_X(x)=P\{X \leqslant x\}=F_X(\infty)=1,$$

说明随机变量$X$的概率质量函数是连续的。

## 2.2期望、方差与协方差
### 2.2.1期望与期望求法
若随机变量$X$的分布函数为$F_X$，则：

$$E[X]=\sum_{x_{\alpha}}x_{\alpha}\cdot P\{X=\alpha\},$$

称为随机变量$X$的数学期望，简称期望。这里$\alpha$为$X$的所有取值，且$x_{\alpha}$为该取值对应的概率，即：

$$P\{X=\alpha\}=F_X(x_{\alpha})-F_X(x_{\alpha-1}),$$

对于离散型随机变量$X$，也可以直接用概率质量函数代替概率分布函数求期望，得到：

$$E[X]=\sum_{x_{\alpha}}x_{\alpha}\cdot p_X(x_{\alpha}).$$

### 2.2.2方差与方差求法
若随机变量$X$的分布函数为$F_X$，则：

$$Var[X]=E[(X-\mu)^2]=$$
$$\begin{pmatrix}
(x_{\alpha}-\mu)^2\\
\end{pmatrix}\cdot P\{X=\alpha\},$$

其中$\mu$为随机变量$X$的均值，或者：

$$Var[X]=E[X^2]-E[X]^2.$$

对于连续型随机变量，方差还可以进一步写成如下形式：

$$Var[X]=\int_{-\infty}^{\infty} [X-E[X]]^2 f_X(x)\mathrm{d}x.$$

### 2.2.3协方差与相关系数
若随机变量$X$和$Y$的联合分布函数为$F_{XY}$，则：

$$Cov[X, Y]=E[(X-\mu_X)(Y-\mu_Y)]=$$
$$\begin{pmatrix}
(x_{\alpha}-\mu_X)\\
\end{pmatrix}\cdot\begin{pmatrix}
(y_{\beta}-\mu_Y)\\
\end{pmatrix}\cdot P\{(x_{\alpha}, y_{\beta})\},$$

其中$(x_{\alpha},y_{\beta})$为$X$和$Y$的所有可能的联合取值，且$(\mu_X,\mu_Y)$为随机变量$X$和$Y$的均值。

若随机变量$X$和$Y$相互独立，则：

$$Cov[X,Y]=0.$$

若$X$与$Y$的分布满足以下正太分布：

$$X\sim N(\mu_X,\sigma^2_X),Y\sim N(\mu_Y,\sigma^2_Y),$$

则：

$$Corr[X,Y]={Cov[X,Y]/\sqrt{Var[X]\cdot Var[Y]}}$$

## 2.3概率分布的重要性质
### 2.3.1线性性
设$X$和$Y$是两个随机变量，则：

$$E[aX+bY]=aE[X]+bE[Y],\quad Var[aX+bY]=a^2Var[X]+b^2Var[Y].$$

### 2.3.2独立性
设$X$和$Y$是两个随机变量，若它们的联合分布为：

$$F_{XY}(x,y)=P\{X\leqslant x, Y\leqslant y\},$$

则称$X$和$Y$是独立的。

对于两个随机变量$X$和$Y$,如果它们的联合概率密度函数的积分等于每个单独的概率密度函数的积分之积，则称$X$和$Y$是相互独立的。

### 2.3.3同质性
设$X$和$Y$是两个随机变量，若它们的分布函数为：

$$F_X(x)=\phi(x), F_Y(y)=\psi(y),$$

其中$\phi(x),\psi(y)$是两个非负单调递增函数，则称$X$和$Y$是同质的。

### 2.3.4单调性
设$X$是随机变量，若对任意$t\geqslant 0$, $X$的分布函数$F_X(t)$是单调递增的，即：

$$\forall x_1,x_2\in X,\quad F_X(x_1)\leqslant F_X(x_2)\Rightarrow x_1\leqslant x_2.$$

### 2.3.5弱偏斜性
设$X$是随机变量，若存在$c>0$,使得对任意$t\geqslant c$, 有:

$$P\left[\sup_{x\geqslant t} |X-x|\leqslant b\right]\rightarrow 0$$

当$b\rightarrow\infty$, 则称随机变量$X$具有弱偏斜性。