
作者：禅与计算机程序设计艺术                    

# 1.简介
  

随着互联网、移动互联网、传感器等科技的蓬勃发展，无论是金融领域还是其他领域，都面临着海量数据的收集、处理、存储和分析的需求。而数据的获取往往需要耗费大量的人力和物力。但由于大量数据的分析往往存在着巨大的复杂性，需要高度的专业素养和经验积累才能完成。作为资深程序员、数据分析师、互联网从业者，如何更好地掌握分析技术并应用到实际业务中是一个值得思考的问题。在本文中，我将通过《A股走势图解指南》系列教程，向大家分享如何快速上手，掌握并运用A股股票走势图的分析方法，提升自身的分析能力和技术水平。 

# 2.什么是A股股票走势图？
A股股票走势图（又称“K线图”）是根据股价变动情况，通过横纵坐标轴描绘出股价走势的图表。它由两根竖直于坐标轴的直线组成，分别为主轴（通常称为价格轴或行情轴）和次轴（通常称为时间轴）。横轴的单位表示成交价格，纵轴的单位表示时刻。A股股票走势图主要用来显示股票价格的上下波动及其变化趋势。一般来说，在A股股票走势图中，5分钟K线最为常见，其宽度为5分钟，在较长时间内代表着股票价格的基本走势。A股股票走势图可以帮助我们更直观地了解股市的运行状况，判断股票的趋势方向、持续性、价位、盈利概率等信息。

# 3.基本概念术语说明
1) A股股票：指国家金融局批准的主板上市公司和创业板上市公司交易的股票。

2) 股票期货：指除了A股股票之外的各类期货、商品期权、信托产品等。

3) K线：K线（又称K线图、蜡烛图）是A股股票走势图中的一个重要元素，由短期开盘价、收盘价、最高价、最低价四个数据点构成。其中，最高价、最低价即为该K线的最高价、最低价；开盘价、收盘价即为开盘价和收盘价之间的某个中间值。

4) DMI：DMI（又称动向指标）是由多空双向乖离指标、方向标准差指标、力度指标三部分组成的技术指标体系。DMI试图识别股价的多空气势，因此具有很强的实时反应性。当股价偏离趋势的方向时，DMI指标显示一个非常小的值，当股价反转趋势时，DMI指标显示一个非常大的绝对值。

5) DMA：DMA（平均线差）是一种经过统计学分析，将多空双方面的价格差异化为了平均回归线差值的技术指标。

6) MACD：MACD（指数平滑异同移动平均线）是一种通过计算两个移动平均线之间的差别，从而发现出超买超卖信号的技术指标。

7) BOLL：BOLL（布林线）是一种经过统计学分析，用来描述股价的波动范围及位置的方法。

8) KDJ：KDJ指标是基于不同的技术指标，综合了RSI、Stochastic Oscillator和William %R三种技术指标，被广泛用于证券市场的量化交易策略研究。

9) RSI：RSI（相对强弱指标）是一种以一段时间内股价涨跌幅的比例来衡量股价的变动强度的技术指标。

10) MA：MA（移动平均线）是指某一段时间内的平均值，是分析股价变动的有效工具。

11) EMA：EMA（指数移动平均线）是一种利用一定时间周期内的股价移动平均线计算出来股价动态加权平均线的技术指标。

12) OBV：OBV（能量潮）是一种以每日收盘价与前一日收盘价之差的总量，来反映股市投资人对成交量、买卖力道的看法，用来衡量股市的推动力，是一种量价同步指标。

# 4.核心算法原理和具体操作步骤以及数学公式讲解
## 4.1 绘制A股K线图
首先，要准备一些画图的基础知识，如画布大小、线条粗细、字体大小、坐标轴名称、坐标轴刻度长度、颜色、透明度等。然后打开A股的股票软件或网站，找到需要分析的股票，搜索或浏览到相关K线图，如下图所示。这里我选取通用股票软件来举例，打开网易财经APP搜索“贵州茅台”，点击进入该股票的K线图页面，如下图所示。
点击左侧的“1分钟K线”，即可看到贵州茅台的1分钟K线图，如下图所示。

## 4.2 技术分析指标
股票的技术分析是通过一定的方法和技术手段分析股票走势，以获取投资者预期，制定出符合要求的买入卖出信号，对股市进行研判的过程。下面介绍几种常用的技术分析指标。
### (1) DMI指标
DMI指标（又称为动向指标），由多空双向乖离指标、方向标准差指标、力度指标三部分组成。DMI是衡量市场的多空气势的一个关键技术指标。它以分析股价的多空气势的方式，来判断市场的趋势以及是否应当加速买进或加大卖出。

#### 计算公式
多空乖离指标（DI+DIF, DI-DIF），全称为Directional Movement Index，DMI指标测算股价的多空气势。

**DI=MAX(HIGH-LC,0)**

**DIF=MA(DI,N)-MA(DI,M)**

**MACD=(DIF-DEA)*2, DIF=短期指数平滑移动平均线，DEA=长期指数平滑移动平均线**

#### 操作方法
1）DMI+大于0时，买入机会增加；

2）DMI-大于0时，买入机会减少；

3）DIF>0时，多头排列，建议买入；

4）DIF<0时，空头排列，建议卖出；

5）DIF>DEA时，市场处于上涨趋势中，不宜轻仓买入，可适量减仓；

6）DIF<DEA时，市场处于下跌趋势中，不宜继续增仓，可适量停损。

#### 典型应用案例：
1）5日线突破1分钟线；

2）30日线突破5日线；

3）十字星突破；

4）DMI>20，5日线>50，10日线>110，买入；

5）DMI<-80，5日线<50，10日线<40，卖出；

### (2) DMA指标
DMA指标（又称为平均线差），也是一种分析股价波动范围的方法。该指标考察多空双方面的价格差异，确定股价的长短均线。

#### 计算公式
双均线差值（DMP, DMM）, 设A股交易日的日期范围为[t－N, t], N为周期数, T 为当前日期。DMA则是多空双方面的价格差异化为了平均回归线差值。

**DIF=EMA(CLOSE-LLV(LOW,N),M)/EMA(HHV(HIGH,N)-CLOSE,M)**

**DEA=EMA(DIF,M1), M1为平滑因子**

**DMA=(DIF-DEA)*2, DIF=短期平均线差，DEA=长期平均线差**

#### 操作方法
DMA指标的指数平滑移动平均线是比较容易辨认出的信号，突出短期移动平均线的优势，观察多空双方面的价格差异。同时，DMA指标能够反映股票价格的波动范围及位置，因此适用于短线交易和场内观察分析。

#### 典型应用案例：
1）DMA低于一定值（通常为20）时，发生阶段性底部反转；

2）DMA高于一定值（通常为100）时，发生阶段性顶部反转；

3）DMP在DMA之上时，上涨压力增大，可考虑加仓；

4）DMP在DMA之下时，下跌压力增大，可考虑减仓。

### (3) MACD指标
MACD指标（又称为指数平滑异同移动平均线），是一种用来判断趋势和讯号的技术指标。它利用两个指数移动平均线的差值，来确认股价的买卖讯号。

#### 计算公式

**DIFF: EMA(CLOSE,SHORT)-EMA(CLOSE,LONG), DIFF为快线指标**

**DEA: （前一日DEA X (1-FA)) + 当前日DIF X FA，FA为阿尔法，常取0.1至0.3**

**OSC: EMA(DIFF,OSC_PER)，OSC_PER为平滑参数，常取12或26**

**Signal Line = EMA(OSC, SIGNAL_PER), SIGNAL_PER为平滑参数，常取9**

#### 操作方法
1）DIFF和DEA图形震荡出现背离，代表有买卖讯号；

2）DIFF和DEA趋势延续，为观察、确认买卖讯号提供良好的支撑；

3）DIFF超过Signal Line，表示股价可能下跌；

4）DIFF跌至Signal Line以下，表示股价可能上涨。

#### 典型应用案例：
1）DIFF向上突破Signal Line，上涨；

2）DIFF向下跌破Signal Line，下跌；

3）DEA上穿DIFF，代表上升趋势反转；

4）DEA下穿DIFF，代表下降趋势反转。

### (4) BOLL指标
BOLL指标（也称为布林带）是一个比较常用的技术分析指标，属于超买超卖类指标。它通过计算股价在一段时间的加权移动平均线（Weighted Moving Average，WMA）和标准差，得到股价的超买超卖水平。

#### 计算公式

**MA: WMA(CLOSE,N)**

**STD: STDDEV(CLOSE,N)**

**Upper Band = MA+(k∗STD)**, k为常数, 常取2或1.5, 以后称为k常数

**Lower Band = MA-(k∗STD)**, k为常数, 常取2或1.5, 以后称为k常数

#### 操作方法
1）股价突破Upper Band，卖出；

2）股价跌破Lower Band，买入；

3）股价挤入中轨附近，介于两条线之间；

4）股价随时间推移，将价格带入到两条线之中。

#### 典型应用案例：
1）股价突破上轨或中轨，表示已经回暖，买入；

2）股价跌破下轨或中轨，表示价格进入熊市，卖出；

3）股价挤入中轨附近，介于两条线之间，维持观望态势；

4）股价随时间推移，将价格带入到两条线之中。